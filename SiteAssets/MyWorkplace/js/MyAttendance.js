var a0_0x3dac06=a0_0x1841;(function(_0x5d8eac,_0xf46b0e){var _0x56a2f2=a0_0x1841,_0x47c713=_0x5d8eac();while(!![]){try{var _0x355890=-parseInt(_0x56a2f2(0xcc))/0x1*(-parseInt(_0x56a2f2(0xb0))/0x2)+parseInt(_0x56a2f2(0xda))/0x3*(parseInt(_0x56a2f2(0xe4))/0x4)+-parseInt(_0x56a2f2(0xc5))/0x5*(-parseInt(_0x56a2f2(0xb7))/0x6)+parseInt(_0x56a2f2(0xd2))/0x7+parseInt(_0x56a2f2(0xbb))/0x8+-parseInt(_0x56a2f2(0xbe))/0x9+-parseInt(_0x56a2f2(0xde))/0xa;if(_0x355890===_0xf46b0e)break;else _0x47c713['push'](_0x47c713['shift']());}catch(_0x1e6fbd){_0x47c713['push'](_0x47c713['shift']());}}}(a0_0x153a,0xde89b));var Attendancechck=!![];$(document)[a0_0x3dac06(0xac)](function(){authentication(),GetManagerID();});function Attendance(){var _0x449a4d=a0_0x3dac06,_0xd83feb=_spPageContextInfo[_0x449a4d(0xe8)];if(Attendancechck==![])return alert(_0x449a4d(0xb1)),$(_0x449a4d(0xc2))[_0x449a4d(0xc8)](_0x449a4d(0xdd)),![];var _0x3599f8=new Date(ConvertDateTimeFormat($(_0x449a4d(0xad))[_0x449a4d(0xa6)](),'/')),_0x279975=_0x3599f8['getFullYear']()+'-'+(_0x3599f8[_0x449a4d(0xab)]()+0x1)+'-'+_0x3599f8[_0x449a4d(0xed)](),_0x44bee4=_spPageContextInfo['webAbsoluteUrl']+'/_api/web/lists/getbytitle(\x27EmpAttendance\x27)/items?$filter=EmployeeId\x20eq\x20\x27'+_0xd83feb+'\x27\x20and\x20AttendanceDate\x20eq\x20\x27'+_0x279975+_0x449a4d(0xe2);$[_0x449a4d(0xaa)]({'url':_0x44bee4,'headers':{'Accept':_0x449a4d(0xe1)},'async':![],'success':function(_0x240cee){var _0x2be6ba=_0x449a4d,_0x348383=_0x240cee['d'][_0x2be6ba(0xd7)];if(_0x348383['length']>0x0){if(G_Validateholiday==!![]){if(confirm('This\x20is\x20a\x20Holiday,\x20are\x20you\x20sure\x20to\x20submit\x20your\x20attendance.')){var _0x23f86f=_0x348383[0x0]['ID'];UpdateAttendance(_0x23f86f);}}else{var _0x23f86f=_0x348383[0x0]['ID'];UpdateAttendance(_0x23f86f);}}else G_Validateholiday==!![]?confirm(_0x2be6ba(0xe6))&&SetAttendance():SetAttendance();},'error':function(_0x299fd8){var _0x472ace=_0x449a4d;console['log'](_0x472ace(0xd6)),console[_0x472ace(0xdc)](_0x299fd8);}});}function a0_0x1841(_0x2ed196,_0x281674){var _0x153a33=a0_0x153a();return a0_0x1841=function(_0x18419,_0x17eaa7){_0x18419=_0x18419-0xa1;var _0x46e493=_0x153a33[_0x18419];return _0x46e493;},a0_0x1841(_0x2ed196,_0x281674);}function UpdateAttendance(_0x2666e6){var _0x3024bf=a0_0x3dac06,_0xa18d0=ConvertDateTimeFormat($(_0x3024bf(0xad))[_0x3024bf(0xa6)](),'/');_0xa18d0=new Date(_0xa18d0);;var _0x2b555f=_spPageContextInfo[_0x3024bf(0xe8)];$(_0x3024bf(0xb5))[_0x3024bf(0xa6)]()!='0'&&$(_0x3024bf(0xb5))[_0x3024bf(0xa6)]()!='Holiday'||G_Validateholiday==!![]?$[_0x3024bf(0xaa)]({'url':_spPageContextInfo['webAbsoluteUrl']+_0x3024bf(0xb2)+_0x2666e6+'\x27)','type':_0x3024bf(0xae),'data':JSON[_0x3024bf(0xea)]({'__metadata':{'type':_0x3024bf(0xa1)},'Title':'Attendance','EmployeeId':_0x2b555f,'ManagerIDId':parseInt(G_ManagerID),'AttendanceType':$('#AttendanceDDL')[_0x3024bf(0xa6)](),'AttendanceDate':_0xa18d0}),'headers':{'Accept':_0x3024bf(0xe1),'Content-Type':_0x3024bf(0xe1),'X-RequestDigest':$(_0x3024bf(0xcf))['val'](),'IF-MATCH':'*','X-HTTP-Method':_0x3024bf(0xe7)},'success':function(_0x22d99d,_0x28f584,_0x44c4a1){var _0x21ae44=_0x3024bf;alert('Attendance\x20has\x20been\x20saved.'),$(_0x21ae44(0xc2))['modal']('toggle'),$(_0x21ae44(0xad))[_0x21ae44(0xa4)]({'dateFormat':_0x21ae44(0xe5),'maxDate':0x0})[_0x21ae44(0xa4)]('setDate',new Date());},'error':function(_0x41a94b){var _0x2989da=_0x3024bf;console[_0x2989da(0xdc)](_0x2989da(0xe0)),console[_0x2989da(0xdc)](_0x41a94b);}}):alert(_0x3024bf(0xd9));}function a0_0x153a(){var _0x5c9943=['datepicker','#HR-Message','val','/_api/web/lists/getbytitle(\x27EnvironmentalSettings\x27)/items?$select=Title,Active,ListOfUsers/Title&$filter=Title\x20eq\x20\x27Attendance\x20Entry\x27\x20or\x20Title\x20eq\x20\x27Timesheet\x20Entry\x27\x20&$expand=ListOfUsers/Id','AttendanceType','/_api/web/lists/getbytitle(\x27EmpAttendance\x27)/items?$filter=EmployeeId\x20eq\x20\x27','ajax','getMonth','ready','#timesheetdate','POST','getFullYear','2OKoCiE','This\x20feature\x20has\x20been\x20deactivated\x20!','/_api/web/lists/GetByTitle(\x27EmpAttendance\x27)/items(\x27','/_api/web/lists/getbytitle(\x27CompanyHoliday\x27)/items?$filter=OfficeLocationID\x20eq\x20(\x27','webAbsoluteUrl','#AttendanceDDL','inline-block','6bMCcxb','Active','text','Title','5753560JLKFkd','#Reports-menu>ul\x20li','Attendance\x20Entry','11321757yAMFtB','userDisplayName','#Submit-attendance','getQueryStringParameter','#MyAttendance','Attendance','css','3164705UclGay','\x27\x20and\x20CompanyID\x20eq\x20\x27','split','modal','#Timesheet-toggle-li','/_api/web/lists/GetByTitle(\x27EmpAttendance\x27)/items','length','1444582yIAmRg','CompanyId','prop','#__REQUESTDIGEST','hide','An\x20error\x20occurred.\x20Please\x20try\x20again.','11884411zwwpyC','\x27&$top=200&$orderby=Holiday_start\x20asc','HrAction','block','Attendance\x20function\x20failed','results','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$filter=LogonName\x20eq\x20(\x27','Plese\x20select\x20proper\x20attandence.','39rJmvVK','disabled','log','toggle','37266500ZFfDRp','#HolidayMessage','UpdateAttendance\x20function\x20failed','application/json;odata=verbose','\x27\x20\x20','#HolidayMessagediv','431276pDXkYy','dd/mm/yy','This\x20is\x20a\x20Holiday,\x20are\x20you\x20sure\x20to\x20submit\x20your\x20attendance.','MERGE','userId','display','stringify','setDate','SetAttendance\x20function\x20failed','getDate','SP.Data.EmpAttendanceListItem','none','Timesheet\x20Entry'];a0_0x153a=function(){return _0x5c9943;};return a0_0x153a();}function SetAttendance(){var _0x51ffec=a0_0x3dac06,_0x1f71d2=ConvertDateTimeFormat($(_0x51ffec(0xad))['val'](),'/');_0x1f71d2=new Date(_0x1f71d2);;var _0x5cbd58=_spPageContextInfo[_0x51ffec(0xe8)];$('#AttendanceDDL')[_0x51ffec(0xa6)]()!='0'&&$('#AttendanceDDL')[_0x51ffec(0xa6)]()!='Holiday'||G_Validateholiday==!![]?$[_0x51ffec(0xaa)]({'url':_spPageContextInfo[_0x51ffec(0xb4)]+_0x51ffec(0xca),'type':_0x51ffec(0xae),'data':JSON[_0x51ffec(0xea)]({'__metadata':{'type':_0x51ffec(0xa1)},'Title':_0x51ffec(0xc3),'EmployeeId':_0x5cbd58,'ManagerIDId':parseInt(G_ManagerID),'AttendanceType':$(_0x51ffec(0xb5))[_0x51ffec(0xa6)](),'AttendanceDate':_0x1f71d2}),'headers':{'Accept':_0x51ffec(0xe1),'Content-Type':_0x51ffec(0xe1),'X-RequestDigest':$(_0x51ffec(0xcf))[_0x51ffec(0xa6)](),'X-HTTP-Method':_0x51ffec(0xae)},'success':function(_0x307687,_0x302e4d,_0xb92442){var _0x4de86a=_0x51ffec;alert('Attendance\x20has\x20been\x20saved.'),$(_0x4de86a(0xc2))['modal'](_0x4de86a(0xdd)),$('#timesheetdate')[_0x4de86a(0xa4)]({'dateFormat':_0x4de86a(0xe5),'maxDate':0x0})[_0x4de86a(0xa4)](_0x4de86a(0xeb),new Date());},'error':function(_0x49ee2d){var _0x210e66=_0x51ffec;console['log'](_0x210e66(0xec)),console['log'](_0x49ee2d);}}):alert('Plese\x20select\x20proper\x20attandence.');}function SetAttendanceDDL(){var _0xfd50a8=a0_0x3dac06,_0x369263=_spPageContextInfo[_0xfd50a8(0xe8)],_0xfbedd=new Date(ConvertDateTimeFormat($(_0xfd50a8(0xad))[_0xfd50a8(0xa6)](),'/')),_0x4f91e3=_0xfbedd[_0xfd50a8(0xaf)]()+'-'+(_0xfbedd[_0xfd50a8(0xab)]()+0x1)+'-'+_0xfbedd[_0xfd50a8(0xed)]();GetHolidays(_0x4f91e3);var _0x5a9d63=_spPageContextInfo[_0xfd50a8(0xb4)]+_0xfd50a8(0xa9)+_0x369263+'\x27\x20and\x20AttendanceDate\x20eq\x20\x27'+_0x4f91e3+'\x27';$[_0xfd50a8(0xaa)]({'url':_0x5a9d63,'headers':{'Accept':_0xfd50a8(0xe1)},'async':![],'success':function(_0x5676dd){var _0x3ee0a2=_0xfd50a8,_0x48fe88=_0x5676dd['d'][_0x3ee0a2(0xd7)];_0x48fe88[_0x3ee0a2(0xcb)]>0x0?($(_0x3ee0a2(0xb5))[_0x3ee0a2(0xa6)](_0x48fe88[0x0][_0x3ee0a2(0xa8)]),_0x48fe88[0x0][_0x3ee0a2(0xd4)]==!![]?($(_0x3ee0a2(0xb5))[_0x3ee0a2(0xce)](_0x3ee0a2(0xdb),!![]),$(_0x3ee0a2(0xa5))[_0x3ee0a2(0xc4)](_0x3ee0a2(0xe9),_0x3ee0a2(0xd5)),$('#Submit-attendance')[_0x3ee0a2(0xc4)](_0x3ee0a2(0xe9),_0x3ee0a2(0xa2))):($(_0x3ee0a2(0xb5))[_0x3ee0a2(0xce)](_0x3ee0a2(0xdb),![]),$('#HR-Message')['css']('display',_0x3ee0a2(0xa2)),$(_0x3ee0a2(0xc0))[_0x3ee0a2(0xc4)](_0x3ee0a2(0xe9),_0x3ee0a2(0xb6)))):($(_0x3ee0a2(0xb5))['val']()=='0'&&$(_0x3ee0a2(0xb5))[_0x3ee0a2(0xa6)]('0'),$(_0x3ee0a2(0xb5))[_0x3ee0a2(0xce)](_0x3ee0a2(0xdb),![]),$(_0x3ee0a2(0xa5))[_0x3ee0a2(0xc4)](_0x3ee0a2(0xe9),_0x3ee0a2(0xa2)),$(_0x3ee0a2(0xb5))[_0x3ee0a2(0xa6)]('0'),$(_0x3ee0a2(0xc0))['css']('display',_0x3ee0a2(0xb6)));},'error':function(_0x218abc){var _0x42e1f7=_0xfd50a8;console['log'](_0x42e1f7(0xd6)),console['log'](_0x218abc);}});}function ConvertDateTimeFormat(_0x5ce76c,_0x80c7e3){var _0x117e8d=a0_0x3dac06;return _0x5ce76c[_0x117e8d(0xc7)](_0x80c7e3)[0x1]+''+_0x80c7e3+''+_0x5ce76c['split'](_0x80c7e3)[0x0]+''+_0x80c7e3+''+_0x5ce76c[_0x117e8d(0xc7)](_0x80c7e3)[0x2];}var G_ManagerID=0x0;function GetManagerID(){var _0xe128c8=a0_0x3dac06,_0x26118e=_spPageContextInfo[_0xe128c8(0xb4)]+_0xe128c8(0xd8)+_spPageContextInfo['userId']+'\x27)';$[_0xe128c8(0xaa)]({'url':_0x26118e,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0xd7efa6){var _0x57d03a=_0xe128c8,_0x35b0d=_0xd7efa6['d'][_0x57d03a(0xd7)];_0x35b0d[_0x57d03a(0xcb)]>0x0?G_ManagerID=_0x35b0d[0x0]['ManagerLoginNameId']:G_ManagerID=0x0;},'error':function(_0x17f1f1){var _0x570a5a=_0xe128c8;alert(_0x570a5a(0xd1));}});}function SetCurrentdate(){var _0x2e241d=a0_0x3dac06;$(_0x2e241d(0xad))['datepicker']({'dateFormat':_0x2e241d(0xe5),'maxDate':0x0})[_0x2e241d(0xa4)](_0x2e241d(0xeb),new Date());}var G_Validateholiday=![];function GetHolidays(_0x5371fd){var _0x42bda7=a0_0x3dac06,_0x9ce9bb=_spPageContextInfo[_0x42bda7(0xb4)]+_0x42bda7(0xb3)+Logged_Location+'\x27)and\x20Holiday_start\x20eq\x20\x27'+_0x5371fd+_0x42bda7(0xc6)+titanForWork[_0x42bda7(0xc1)](_0x42bda7(0xcd))+_0x42bda7(0xd3);$[_0x42bda7(0xaa)]({'url':_0x9ce9bb,'headers':{'Accept':_0x42bda7(0xe1)},'async':![],'success':function(_0x24875e){var _0x20c59f=_0x42bda7,_0x4e21ec=_0x24875e['d'][_0x20c59f(0xd7)];_0x4e21ec[_0x20c59f(0xcb)]>0x0?($(_0x20c59f(0xe3))[_0x20c59f(0xb9)](_0x4e21ec[0x0]['Title']),$('#HolidayMessage')['css'](_0x20c59f(0xe9),_0x20c59f(0xd5)),G_Validateholiday=!![]):($(_0x20c59f(0xe3))[_0x20c59f(0xb9)](''),$(_0x20c59f(0xdf))[_0x20c59f(0xc4)](_0x20c59f(0xe9),'none'),G_Validateholiday=![]);},'error':function(_0x1e0200){var _0x382b7a=_0x42bda7;alert(_0x382b7a(0xd1));}});}var AttendanceEntry=!![];function authentication(){var _0x4173be=a0_0x3dac06,_0xc9bdc7=_spPageContextInfo[_0x4173be(0xbf)],_0x111174=_spPageContextInfo[_0x4173be(0xb4)]+_0x4173be(0xa7);$[_0x4173be(0xaa)]({'url':_0x111174,'async':![],'type':'GET','headers':{'accept':'application/json;\x20odata=verbose'},'success':function(_0x140e2f){var _0x59bc47=_0x4173be,_0x307a00=_0x140e2f['d'][_0x59bc47(0xd7)];if(_0x307a00[_0x59bc47(0xcb)]>0x0)for(var _0x155a4c=0x0;_0x155a4c<_0x307a00[_0x59bc47(0xcb)];_0x155a4c++){_0x307a00[_0x155a4c][_0x59bc47(0xba)]==_0x59bc47(0xa3)&&(_0x307a00[_0x155a4c]['Active']==![]&&(Attendancechck=![],$(_0x59bc47(0xc9))[_0x59bc47(0xd0)](),$(_0x59bc47(0xbc))['eq'](0x2)[_0x59bc47(0xc4)]('display',_0x59bc47(0xa2)))),_0x307a00[_0x155a4c][_0x59bc47(0xba)]==_0x59bc47(0xbd)&&(_0x307a00[_0x155a4c][_0x59bc47(0xb8)]==![]&&($('#Attendance-toggle-li')[_0x59bc47(0xd0)](),$('#Reports-menu>ul\x20li')['eq'](0x0)[_0x59bc47(0xc4)](_0x59bc47(0xe9),_0x59bc47(0xa2)),$(_0x59bc47(0xbc))['eq'](0x1)['css'](_0x59bc47(0xe9),'none')));}},'error':function(_0x1208f9){alert(JSON['stringify'](_0x1208f9));}});}
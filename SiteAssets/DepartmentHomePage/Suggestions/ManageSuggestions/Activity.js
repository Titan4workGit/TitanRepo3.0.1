var a0_0x5e350f=a0_0x2911;function a0_0x2911(_0x2fe39a,_0x4629b6){var _0x32e633=a0_0x32e6();return a0_0x2911=function(_0x29118d,_0x4e8aab){_0x29118d=_0x29118d-0x1cc;var _0x5ef084=_0x32e633[_0x29118d];return _0x5ef084;},a0_0x2911(_0x2fe39a,_0x4629b6);}(function(_0x14b7b5,_0x3cd89a){var _0x68418b=a0_0x2911,_0x2dd02a=_0x14b7b5();while(!![]){try{var _0x1d0eb1=parseInt(_0x68418b(0x257))/0x1*(-parseInt(_0x68418b(0x201))/0x2)+parseInt(_0x68418b(0x20f))/0x3*(parseInt(_0x68418b(0x21a))/0x4)+parseInt(_0x68418b(0x282))/0x5*(-parseInt(_0x68418b(0x228))/0x6)+parseInt(_0x68418b(0x1e7))/0x7*(-parseInt(_0x68418b(0x273))/0x8)+-parseInt(_0x68418b(0x277))/0x9*(-parseInt(_0x68418b(0x215))/0xa)+-parseInt(_0x68418b(0x272))/0xb+parseInt(_0x68418b(0x22d))/0xc*(parseInt(_0x68418b(0x203))/0xd);if(_0x1d0eb1===_0x3cd89a)break;else _0x2dd02a['push'](_0x2dd02a['shift']());}catch(_0x2dd0ba){_0x2dd02a['push'](_0x2dd02a['shift']());}}}(a0_0x32e6,0xdb9bc),$(document)[a0_0x5e350f(0x26d)](function(){var _0x5d0f0b=a0_0x5e350f;BindDepartment(),SetupDropdownList(),ChangeLabels();var _0x3d591e=_spPageContextInfo[_0x5d0f0b(0x27c)]+_0x5d0f0b(0x1e8)+titanForWork[_0x5d0f0b(0x255)](_0x5d0f0b(0x26e))+'&Type=Suggestion&sourcelocation=../Pages/Myworkplace.aspx';$(_0x5d0f0b(0x202))[_0x5d0f0b(0x22a)](_0x5d0f0b(0x256),_0x3d591e);var _0x2d16a1=_spPageContextInfo[_0x5d0f0b(0x27c)]+_0x5d0f0b(0x1e8)+titanForWork[_0x5d0f0b(0x255)](_0x5d0f0b(0x26e))+'&Type=Initiative&sourcelocation=../Pages/Myworkplace.aspx';$(_0x5d0f0b(0x24f))[_0x5d0f0b(0x22a)]('href',_0x2d16a1);var _0x506762=_spPageContextInfo[_0x5d0f0b(0x27c)]+_0x5d0f0b(0x1e8)+titanForWork[_0x5d0f0b(0x255)]('CompanyId')+_0x5d0f0b(0x269);$(_0x5d0f0b(0x210))[_0x5d0f0b(0x22a)]('href',_0x506762),$(_0x5d0f0b(0x25d))[_0x5d0f0b(0x264)](function(){var _0x3dd063=_0x5d0f0b;window[_0x3dd063(0x28d)][_0x3dd063(0x229)]($[_0x3dd063(0x28c)](_0x3dd063(0x27f)));});}));function Activity(){var _0xffbb3f=a0_0x5e350f;$[_0xffbb3f(0x28c)]('Mode')==_0xffbb3f(0x1f3)?($('#deletebtn')[_0xffbb3f(0x288)](),UpdateActivity($['urlParam']('ItemId'))):AddActivity();}$[a0_0x5e350f(0x28c)]=function(_0x16b8f7){var _0x4dc1ab=a0_0x5e350f,_0x4b57b1=new RegExp('[?&]'+_0x16b8f7+_0x4dc1ab(0x218))[_0x4dc1ab(0x28e)](window['location'][_0x4dc1ab(0x256)]);if(_0x4b57b1==null)return null;return decodeURI(_0x4b57b1[0x1])||0x0;};function SetupDropdownList(){var _0x28f983=a0_0x5e350f,_0x44e767=$[_0x28f983(0x28c)](_0x28f983(0x22f));$(_0x28f983(0x20c))['empty']();var _0x294cd3=_0x28f983(0x242)+_0x44e767+_0x28f983(0x220);$('#ActivityHeading')[_0x28f983(0x285)](_0x294cd3);if($[_0x28f983(0x28c)]('Mode')==_0x28f983(0x1fd)){if(_0x44e767==_0x28f983(0x274))$(_0x28f983(0x247))[_0x28f983(0x288)](),BindCategory(),$('#DDL_Department')[_0x28f983(0x245)](_0x28f983(0x1e5),!![]),$('#DDL_Department')[_0x28f983(0x225)](Logged_DepartmentId),ValidateLoginUserEntryscreenAcivities(_0x44e767);else{if(_0x44e767=='Suggestion')$(_0x28f983(0x20c))['prop'](_0x28f983(0x1e5),!![]),$(_0x28f983(0x20c))['append']($(_0x28f983(0x237))[_0x28f983(0x225)]('Suggestion')['text']('Suggestion')),$(_0x28f983(0x252))[_0x28f983(0x225)](Logged_DepartmentId),ValidateLoginUserEntryscreenAcivities(_0x44e767);else _0x44e767==_0x28f983(0x1e1)&&($(_0x28f983(0x20c))['prop'](_0x28f983(0x1e5),!![]),$(_0x28f983(0x20c))[_0x28f983(0x285)]($(_0x28f983(0x237))[_0x28f983(0x225)](_0x28f983(0x1e1))[_0x28f983(0x200)](_0x28f983(0x1e1))),$(_0x28f983(0x252))['prop']('disabled',!![]),$(_0x28f983(0x252))['val'](Logged_DepartmentId),ValidateLoginUserEntryscreenAcivities(_0x44e767));}}else ValidateLoginUserEntryscreenAcivities(_0x44e767),$['urlParam'](_0x28f983(0x1e0))!=null&&GetActivity($[_0x28f983(0x28c)](_0x28f983(0x1e0)));}function BindCategory(){var _0x3969a0=a0_0x5e350f,_0x32dca3=_spPageContextInfo['webAbsoluteUrl']+_0x3969a0(0x1ee);$[_0x3969a0(0x248)]({'url':_0x32dca3,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x2a1bf7){var _0x565719=_0x3969a0;$(_0x565719(0x20c))[_0x565719(0x1d8)]();var _0x6aef7c=_0x2a1bf7['d'][_0x565719(0x20b)];if(_0x6aef7c[_0x565719(0x266)]>0x0){$('#DDL_Category')['append']($(_0x565719(0x237))[_0x565719(0x225)]('Select')[_0x565719(0x200)](_0x565719(0x21d)));for(i=0x0;i<_0x6aef7c['length'];i++){$(_0x565719(0x20c))[_0x565719(0x285)]($(_0x565719(0x237))['val'](_0x6aef7c[i][_0x565719(0x233)])['text'](_0x6aef7c[i][_0x565719(0x233)]));}}},'eror':function(_0xd77368){console['log'](_0xd77368);}});}function BindDepartment(){var _0x1f71d9=a0_0x5e350f,_0x3bafe5=_spPageContextInfo['webAbsoluteUrl']+'/_api/web/lists/getbytitle(\x27Departments\x27)/items?select=ID,Title&$filter=CompanyID\x20eq\x20\x27'+titanForWork[_0x1f71d9(0x255)](_0x1f71d9(0x26e))+_0x1f71d9(0x24a);$[_0x1f71d9(0x248)]({'url':_0x3bafe5,'headers':{'Accept':_0x1f71d9(0x1d5)},'async':![],'success':function(_0x4242ed){var _0x2ae975=_0x1f71d9;$(_0x2ae975(0x252))[_0x2ae975(0x1d8)]();var _0x69c91e=_0x4242ed['d'][_0x2ae975(0x20b)];if(_0x69c91e[_0x2ae975(0x266)]>0x0){$('#DDL_Department')['append']($(_0x2ae975(0x237))[_0x2ae975(0x225)](_0x2ae975(0x24d))[_0x2ae975(0x200)](_0x2ae975(0x21d)));for(i=0x0;i<_0x69c91e[_0x2ae975(0x266)];i++){$('#DDL_Department')[_0x2ae975(0x285)]($('<option\x20\x20\x20\x20\x20/>')[_0x2ae975(0x225)](_0x69c91e[i]['ID'])[_0x2ae975(0x200)](_0x69c91e[i][_0x2ae975(0x241)]));}}},'eror':function(_0x420e5a){var _0x11732f=_0x1f71d9;console[_0x11732f(0x263)](_0x420e5a);}});}function AddActivity(){var _0x5b2c6d=a0_0x5e350f;Validations()==!![]&&$[_0x5b2c6d(0x248)]({'url':titanForWork[_0x5b2c6d(0x255)](_0x5b2c6d(0x1ef))+_0x5b2c6d(0x280),'type':_0x5b2c6d(0x216),'data':JSON[_0x5b2c6d(0x23d)]({'__metadata':{'type':_0x5b2c6d(0x23b)},'CategoryType':$(_0x5b2c6d(0x1f2))[_0x5b2c6d(0x200)](),'Title':$(_0x5b2c6d(0x27d))[_0x5b2c6d(0x225)](),'Suggestions':$('.richText-editor')[_0x5b2c6d(0x1f7)](),'Department':$(_0x5b2c6d(0x24b))['text'](),'DepartmentID':$(_0x5b2c6d(0x252))['val'](),'ActivityType':$[_0x5b2c6d(0x28c)](_0x5b2c6d(0x22f))}),'headers':{'Accept':'application/json;odata=verbose','Content-Type':'application/json;odata=verbose','X-RequestDigest':$(_0x5b2c6d(0x25a))[_0x5b2c6d(0x225)](),'X-HTTP-Method':_0x5b2c6d(0x216)},'success':function(_0x258fca,_0x5b7ddf,_0x429743){var _0x3a44d9=_0x5b2c6d;FinalFiles4Upload[_0x3a44d9(0x266)]>0x0&&uploadattachment(_0x258fca['d']['ID']);;var _0x27811b=$[_0x3a44d9(0x28c)](_0x3a44d9(0x22f));if(_0x27811b==_0x3a44d9(0x243))var _0x1c4cb8=_0x3a44d9(0x207);else{if(_0x27811b==_0x3a44d9(0x274))var _0x1c4cb8=_0x3a44d9(0x260);else{if(_0x27811b==_0x3a44d9(0x1e1))var _0x1c4cb8='New\x20Initiative';}}var _0x1f0510=_0x258fca['d']['ID'],_0x2c4dad=titanForWork['getQueryStringParameter'](_0x3a44d9(0x26e)),_0x1504de=$('#DDL_Department')[_0x3a44d9(0x225)](),_0x14a72f=_0x1c4cb8,_0x431e8f=$(_0x3a44d9(0x27d))[_0x3a44d9(0x225)](),_0x529bce=$(_0x3a44d9(0x1d4))[_0x3a44d9(0x225)](),_0x572c6e=$('#DDL_Category\x20option:selected')[_0x3a44d9(0x200)]();titanForWork[_0x3a44d9(0x22e)](_0x1f0510,_0x2c4dad,_0x1504de,_0x14a72f,_0x431e8f,_0x529bce,_0x572c6e)[_0x3a44d9(0x1e9)](function(_0x2d961b){var _0x55962e=_0x3a44d9;console['log'](_0x55962e(0x276)+_0x2d961b);if(_0x2d961b==_0x55962e(0x239)){var _0xc20c80=_0x258fca['d']['ID'];AutoApprovedActivity(_0xc20c80);var _0x5c6999=_0x5efdcc+$('#Suggestions')['val']()+_0x55962e(0x28a),_0x21d880=_0x55962e(0x1dd),_0x5efdcc=_0x5efdcc,_0x1002ce={'__metadata':{'type':'SP.Data.'+_0x21d880+_0x55962e(0x27a)},'Title':$('#Title')[_0x55962e(0x225)](),'Details':_0x5c6999,'WebpartName':_0x5efdcc,'CompanyIdId':titanForWork[_0x55962e(0x255)](_0x55962e(0x26e)),'DepartmentId':_0x1504de};Universalinsert(_0x21d880,_0x1002ce);}}),alert(_0x3a44d9(0x1f9)),window['location'][_0x3a44d9(0x229)]($[_0x3a44d9(0x28c)](_0x3a44d9(0x27f)));},'error':function(_0xcafa34,_0x51b42c,_0x20c069){var _0x4bd112=_0x5b2c6d;alert(_0x4bd112(0x258));}});}function Universalinsert(_0x4b5d80,_0xe0c205){var _0x3ed5d8=a0_0x5e350f;$[_0x3ed5d8(0x248)]({'url':_spPageContextInfo[_0x3ed5d8(0x22b)]+'/_api/web/lists/GetByTitle(\x27'+_0x4b5d80+_0x3ed5d8(0x21b),'type':_0x3ed5d8(0x216),'contentType':_0x3ed5d8(0x1d5),'data':JSON[_0x3ed5d8(0x23d)](_0xe0c205),'async':![],'headers':{'Accept':_0x3ed5d8(0x1d5),'X-RequestDigest':$(_0x3ed5d8(0x25a))[_0x3ed5d8(0x225)]()},'success':function(_0x37de14){console['log']('add\x20success');},'error':function(_0x210ea6){var _0x5986ad=_0x3ed5d8;console[_0x5986ad(0x263)](_0x5986ad(0x20d));}});}function AutoApprovedActivity(_0x3000be){var _0x5ac89f=a0_0x5e350f,_0x575740=_0x5ac89f(0x260),_0x3854c2=titanForWork[_0x5ac89f(0x255)](_0x5ac89f(0x1ef))+_0x5ac89f(0x1e3)+_0x575740+_0x5ac89f(0x25e)+_0x3000be+')';$[_0x5ac89f(0x248)]({'url':_0x3854c2,'type':'POST','async':![],'data':JSON[_0x5ac89f(0x23d)]({'__metadata':{'type':_0x5ac89f(0x23b)},'ApprovalStatus':_0x5ac89f(0x1e6),'ApprovarName':_spPageContextInfo['userDisplayName']}),'headers':{'accept':_0x5ac89f(0x1d5),'X-RequestDigest':$(_0x5ac89f(0x25a))[_0x5ac89f(0x225)](),'content-Type':_0x5ac89f(0x1d5),'X-Http-Method':_0x5ac89f(0x238),'If-Match':'*'},'success':function(_0xcf965,_0x136c22,_0x6a25c7){var _0x398557=_0x5ac89f;console[_0x398557(0x263)](_0x398557(0x22c));},'error':function(_0x5de49c){console['log'](_0x5de49c);}});}function Validations(){var _0xc2d537=a0_0x5e350f;if($(_0xc2d537(0x1f2))[_0xc2d537(0x200)]()==''||$(_0xc2d537(0x1f2))[_0xc2d537(0x200)]()=='--\x20Select\x20--')return alert('Select\x20Category.'),$(_0xc2d537(0x1f2))['focus'](),![];else{if($(_0xc2d537(0x27d))[_0xc2d537(0x225)]()=='')return alert(_0xc2d537(0x223)),$(_0xc2d537(0x27d))[_0xc2d537(0x23c)](),![];else{if($(_0xc2d537(0x240))[_0xc2d537(0x200)]()=='')return alert(_0xc2d537(0x284)),![];else{if($(_0xc2d537(0x24b))['text']()==''||$(_0xc2d537(0x24b))['text']()==_0xc2d537(0x21d))return alert(_0xc2d537(0x27e)),$(_0xc2d537(0x24b))[_0xc2d537(0x23c)](),![];}}}return!![];};var dropZoneId=a0_0x5e350f(0x287),dropZone=$('#'+dropZoneId),inputFile=dropZone['find'](a0_0x5e350f(0x1ff)),finalFiles=[],FinalFiles4Upload=[],Tcounter=0x0,RemoveDuplicate=[];$(function(){var _0x5dcd96=a0_0x5e350f;$(_0x5dcd96(0x26a))['on']('change',function(_0x2ad562){var _0x300ea0=_0x5dcd96;FinalFiles4Upload=[];var _0x4c5164=this[_0x300ea0(0x1f5)]['length'],_0xf7bae3=0x0;$[_0x300ea0(0x25f)](this[_0x300ea0(0x1f5)],function(_0xf770b3,_0x420bca){var _0x113bb4=_0x300ea0,_0x12162f=_0x420bca[_0x113bb4(0x249)][_0x113bb4(0x246)]('.');_0x12162f=_0x12162f[_0x12162f[_0x113bb4(0x266)]-0x1];var _0xe7ab8f=returnExtension(_0x12162f);if(_0xe7ab8f==!![])return alert(_0x12162f+_0x113bb4(0x262)),$(_0x113bb4(0x26a))[_0x113bb4(0x225)](''),![];finalFiles[finalFiles[_0x113bb4(0x266)]]=_0x420bca;}),RemoveDuplicate=[];var _0x308bcd=finalFiles[_0x300ea0(0x23e)](function(_0xd0f198){var _0x4613cf=_0x300ea0;if(RemoveDuplicate[_0x4613cf(0x283)](_0xd0f198[_0x4613cf(0x249)])==-0x1)return RemoveDuplicate[_0x4613cf(0x227)](_0xd0f198[_0x4613cf(0x249)]),!![];return![];});console['log'](_0x308bcd),FinalFiles4Upload=ReinitializeArray(_0x308bcd),$(_0x300ea0(0x265))['empty']();for(_0xf7bae3;_0xf7bae3<FinalFiles4Upload[_0x300ea0(0x266)];_0xf7bae3++){$(_0x300ea0(0x265))[_0x300ea0(0x285)]('<div\x20id=\x22file_'+Tcounter+_0x300ea0(0x208)+Tcounter+_0x300ea0(0x1d6)+RemoveDuplicate[_0xf7bae3]+_0x300ea0(0x270)+Tcounter+_0x300ea0(0x234)),Tcounter=Tcounter+0x1;}});});function removeLine(_0x32654f){var _0xe2ce3c=a0_0x5e350f,_0x27c9ef=_0x32654f['split']('_')[0x1];$('#'+_0x32654f)[_0xe2ce3c(0x1db)](),delete finalFiles[parseInt(_0x27c9ef)],RemoveDuplicate=[];var _0x44d4b4=finalFiles['filter'](function(_0x43c663){var _0x122ce7=_0xe2ce3c;if(RemoveDuplicate[_0x122ce7(0x283)](_0x43c663[_0x122ce7(0x249)])==-0x1)return RemoveDuplicate['push'](_0x43c663[_0x122ce7(0x249)]),!![];return![];});FinalFiles4Upload=ReinitializeArray(_0x44d4b4);}function ReinitializeArray(_0xd68087){var _0x27cea8=a0_0x5e350f,_0x4cd92f=[],_0x3ffcfe=0x0;for(var _0x4e9348=0x0;_0x4e9348<_0xd68087[_0x27cea8(0x266)];_0x4e9348++){_0x4cd92f[_0x3ffcfe++]=_0xd68087[_0x4e9348];}return _0x4cd92f;}var getFileBuffer=function(_0xaaa654){var _0x2bf0ec=a0_0x5e350f,_0x53d6a3=$['Deferred'](),_0x167f87=new FileReader();return _0x167f87['onload']=function(_0x2a3241){var _0x4b00c8=a0_0x2911;_0x53d6a3['resolve'](_0x2a3241[_0x4b00c8(0x21c)][_0x4b00c8(0x275)]);},_0x167f87[_0x2bf0ec(0x1d7)]=function(_0x5b25cd){_0x53d6a3['reject'](_0x5b25cd['target']['error']);},_0x167f87[_0x2bf0ec(0x1cd)](_0xaaa654),_0x53d6a3[_0x2bf0ec(0x1ce)]();},xRequestDigest=$(a0_0x5e350f(0x25a))['val']();function uploadattachment(_0x1e076e){var _0x1e41c1=a0_0x5e350f;FinalFiles4Upload[_0x1e41c1(0x266)]>0x0&&$['each'](FinalFiles4Upload,function(_0xc22d2,_0x5b883e){var _0x3063c8=_0x1e41c1;getFileBuffer(_0x5b883e)[_0x3063c8(0x253)](function(_0x316521){var _0x13788a=_0x3063c8,_0x41abe1=_0x5b883e['name'],_0x478122=_0x41abe1[_0x13788a(0x229)](/[^.a-zA-Z0-9]/ig,'');$[_0x13788a(0x248)]({'url':titanForWork[_0x13788a(0x255)](_0x13788a(0x1ef))+'/_api/web/lists/getbytitle(\x27Activity\x27)/items('+_0x1e076e+_0x13788a(0x1cc)+_0x478122+'\x27)','method':_0x13788a(0x216),'data':_0x316521,'async':![],'processData':![],'headers':{'Accept':'application/json;odata=verbose','content-type':_0x13788a(0x1d5),'X-RequestDigest':xRequestDigest},'success':function(_0x3114b7){var _0x5e2eb9=_0x13788a;console[_0x5e2eb9(0x263)](_0x5e2eb9(0x213));},'error':function(_0x1adc4f){var _0x2f5115=_0x13788a;console[_0x2f5115(0x263)](_0x1adc4f[_0x2f5115(0x1da)]['error']);}});});});}var Attachment_ItemId='';function GetActivity(_0x3cd267){var _0x3cdb1e=a0_0x5e350f;Attachment_ItemId=_0x3cd267;var _0x2a0062=titanForWork[_0x3cdb1e(0x255)](_0x3cdb1e(0x1ef))+_0x3cdb1e(0x219)+_0x3cd267+_0x3cdb1e(0x205);$['ajax']({'url':_0x2a0062,'headers':{'Accept':_0x3cdb1e(0x1d5)},'async':![],'success':function(_0x1b1e1d){var _0x4ce92f=_0x3cdb1e;$('#oldfilename')[_0x4ce92f(0x1d8)]();var _0x4c710e=_0x1b1e1d['d'][_0x4ce92f(0x20b)];if(_0x4c710e[_0x4ce92f(0x266)]>0x0){$('#Title')['val'](_0x4c710e[0x0]['Title']),$(_0x4ce92f(0x1d4))[_0x4ce92f(0x1f7)](_0x4c710e[0x0][_0x4ce92f(0x20e)]);if(_0x4c710e[0x0][_0x4ce92f(0x1cf)]=='Activity'||_0x4c710e[0x0][_0x4ce92f(0x1cf)]==_0x4ce92f(0x274))BindCategory(),$('#DDL_Department')['prop']('disabled',!![]),$(_0x4ce92f(0x20c))[_0x4ce92f(0x225)](_0x4c710e[0x0][_0x4ce92f(0x281)]);else{if(_0x4c710e[0x0][_0x4ce92f(0x1cf)]==_0x4ce92f(0x243))$(_0x4ce92f(0x20c))[_0x4ce92f(0x285)]($(_0x4ce92f(0x237))[_0x4ce92f(0x225)]('Suggestion')[_0x4ce92f(0x200)]('Suggestion')),$('#DDL_Category')[_0x4ce92f(0x245)](_0x4ce92f(0x1e5),!![]);else _0x4c710e[0x0]['ActivityType']==_0x4ce92f(0x1e1)&&($(_0x4ce92f(0x20c))['append']($(_0x4ce92f(0x237))[_0x4ce92f(0x225)](_0x4ce92f(0x1e1))[_0x4ce92f(0x200)]('Initiative')),$(_0x4ce92f(0x252))[_0x4ce92f(0x245)]('disabled',!![]),$('#DDL_Category')[_0x4ce92f(0x245)](_0x4ce92f(0x1e5),!![]));}var _0x8ccb84=_0x4c710e[0x0][_0x4ce92f(0x232)];$(_0x4ce92f(0x1e4)+_0x8ccb84+')')[_0x4ce92f(0x22a)](_0x4ce92f(0x278),_0x4ce92f(0x278));var _0x1e2e2a=_0x4c710e[0x0][_0x4ce92f(0x1fa)][_0x4ce92f(0x20b)][_0x4ce92f(0x266)];if(_0x1e2e2a>0x0){var _0x3d86d3='<tr>';for(var _0x10bfea=0x0;_0x10bfea<_0x1e2e2a;_0x10bfea++){_0x3d86d3+=_0x4ce92f(0x230)+_0x4c710e[0x0][_0x4ce92f(0x1fa)][_0x4ce92f(0x20b)][_0x10bfea][_0x4ce92f(0x24e)]+_0x4ce92f(0x206)+_0x4c710e[0x0]['AttachmentFiles'][_0x4ce92f(0x20b)][_0x10bfea][_0x4ce92f(0x1f1)]+_0x4ce92f(0x214)+_0x3cd267+',\x27'+_0x4c710e[0x0]['AttachmentFiles']['results'][_0x10bfea][_0x4ce92f(0x1f1)]+_0x4ce92f(0x1f8),_0x3d86d3+=_0x4ce92f(0x24c);}$(_0x4ce92f(0x1dc))[_0x4ce92f(0x285)](_0x3d86d3),$[_0x4ce92f(0x28c)](_0x4ce92f(0x221))=='View'&&($(_0x4ce92f(0x250))[_0x4ce92f(0x1db)](),$('#Close')[_0x4ce92f(0x1db)]());}}},'error':function(_0x4c7416){alert('An\x20error\x20occurred.\x20Please\x20try\x20again.');}});}function UpdateActivity(_0x2eb261){var _0x2710f8=a0_0x5e350f;Validations()==!![]&&$[_0x2710f8(0x248)]({'url':titanForWork['getQueryStringParameter'](_0x2710f8(0x1ef))+_0x2710f8(0x217)+_0x2eb261+'\x27)','type':_0x2710f8(0x216),'data':JSON[_0x2710f8(0x23d)]({'__metadata':{'type':_0x2710f8(0x23b)},'CategoryType':$(_0x2710f8(0x1f2))[_0x2710f8(0x200)](),'Title':$(_0x2710f8(0x27d))['val'](),'Suggestions':$(_0x2710f8(0x240))[_0x2710f8(0x1f7)](),'Department':$(_0x2710f8(0x24b))[_0x2710f8(0x200)](),'DepartmentID':$(_0x2710f8(0x252))['val'](),'ActivityType':$('#DDL_Category\x20option:selected')['text']()}),'headers':{'Accept':_0x2710f8(0x1d5),'Content-Type':_0x2710f8(0x1d5),'X-RequestDigest':$(_0x2710f8(0x25a))[_0x2710f8(0x225)](),'IF-MATCH':'*','X-HTTP-Method':_0x2710f8(0x289)},'success':function(_0x5dadf7,_0x50d43f,_0x220931){var _0xd844fc=_0x2710f8;FinalFiles4Upload['length']>0x0&&uploadattachment(_0x2eb261);var _0x5c1d94=$[_0xd844fc(0x28c)]('Type');if(_0x5c1d94=='Suggestion')var _0x4477ec=_0xd844fc(0x207);else{if(_0x5c1d94=='Activities')var _0x4477ec='Activity';else{if(_0x5c1d94==_0xd844fc(0x1e1))var _0x4477ec='New\x20Initiative';}}var _0x2028bb=_0x2eb261,_0x3af228=titanForWork[_0xd844fc(0x255)]('CompanyId'),_0x151d16=$(_0xd844fc(0x252))[_0xd844fc(0x225)](),_0x170cb1=_0x4477ec,_0x301572=$(_0xd844fc(0x27d))[_0xd844fc(0x225)](),_0x24765f=$('#Suggestions')[_0xd844fc(0x225)](),_0x338df6=$(_0xd844fc(0x1f2))['text']();titanForWork[_0xd844fc(0x21e)](_0x2028bb,titanForWork[_0xd844fc(0x255)]('CompanyId'),_0x170cb1)[_0xd844fc(0x1e9)](function(_0x406e6a){var _0x19a214=_0xd844fc;titanForWork[_0x19a214(0x209)](_0x406e6a);}),titanForWork['CreateWorkflowTaskForApproval'](_0x2028bb,_0x3af228,_0x151d16,_0x170cb1,_0x301572,_0x24765f,_0x338df6)[_0xd844fc(0x1e9)](function(_0x5b3ccc){var _0x29ddb9=_0xd844fc;console[_0x29ddb9(0x263)]('Response\x20from\x20titanForWork.CreateWorkflowTaskForApproval\x20:\x20'+_0x5b3ccc);if(_0x5b3ccc==_0x29ddb9(0x239)){var _0x3ded97=_0x2eb261;AutoApprovedActivity(_0x3ded97);var _0x4bef86=_0x34cc8a+$('#Suggestions')['val']()+'\x20has\x20been\x20modified.',_0x3255b8=_0x29ddb9(0x1dd),_0x34cc8a=_0x34cc8a,_0x56b501={'__metadata':{'type':'SP.Data.'+_0x3255b8+_0x29ddb9(0x27a)},'Title':$(_0x29ddb9(0x27d))[_0x29ddb9(0x225)](),'Details':_0x4bef86,'WebpartName':_0x34cc8a,'CompanyIdId':titanForWork[_0x29ddb9(0x255)](_0x29ddb9(0x26e))};Universalinsert(_0x3255b8,_0x56b501);}}),alert(_0xd844fc(0x236)),window['location'][_0xd844fc(0x229)]($[_0xd844fc(0x28c)]('sourcelocation'));},'error':function(_0x3cb058,_0x4fb8df,_0x13e4dc){var _0x56aa33=_0x2710f8;$(_0x56aa33(0x28f))['empty']()[_0x56aa33(0x200)](data[_0x56aa33(0x1d9)][_0x56aa33(0x21f)]);}});}function DeleteItemAttachment(_0x42ce15,_0x170ed6){var _0x211e5b=a0_0x5e350f,_0x29e509=titanForWork[_0x211e5b(0x255)](_0x211e5b(0x1ef))+_0x211e5b(0x23f)+_0x42ce15+_0x211e5b(0x1d1)+_0x170ed6+_0x211e5b(0x1d3);$['ajax']({'url':_0x29e509,'type':_0x211e5b(0x254),'contentType':_0x211e5b(0x1d5),'headers':{'X-RequestDigest':$('#__REQUESTDIGEST')[_0x211e5b(0x225)](),'X-HTTP-Method':'DELETE','Accept':'application/json;odata=verbose'},'success':function(_0x4cde73){alert('Selected\x20Document\x20Deleted.'),GetActivity(Attachment_ItemId);},'error':function(_0x454e5b){}});}function ValidateLoginUserEntryscreenAcivities(_0x432de6){var _0x2b1f8a=a0_0x5e350f,_0x1252ff=$[_0x2b1f8a(0x28c)](_0x2b1f8a(0x221)),_0x59035b='';if(_0x432de6==_0x2b1f8a(0x1e1))_0x59035b=_0x2b1f8a(0x26c);else{if(_0x432de6==_0x2b1f8a(0x243))_0x59035b=_0x2b1f8a(0x207);else{if(_0x432de6==_0x2b1f8a(0x274))_0x59035b=_0x2b1f8a(0x260);else _0x432de6==_0x2b1f8a(0x260)&&(_0x59035b=_0x2b1f8a(0x260));}}if(_0x1252ff!=_0x2b1f8a(0x1fb)){var _0x58f4fb=_spPageContextInfo[_0x2b1f8a(0x22b)]+'/_api/web/lists/getbytitle(\x27ProcessApprovers\x27)/items?$filter=WebPartName\x20eq\x20\x27'+_0x59035b+_0x2b1f8a(0x23a)+titanForWork[_0x2b1f8a(0x255)](_0x2b1f8a(0x26e))+_0x2b1f8a(0x251)+Logged_DepartmentId+'\x27';$[_0x2b1f8a(0x248)]({'url':_0x58f4fb,'headers':{'Accept':_0x2b1f8a(0x1d5)},'async':![],'success':function(_0x258c19){var _0x5e3add=_0x2b1f8a,_0x2d9ecf=_0x258c19['d'][_0x5e3add(0x20b)];if(_0x2d9ecf['length']>0x0){if(_0x2d9ecf[0x0][_0x5e3add(0x204)]==_0x5e3add(0x211)||_0x2d9ecf[0x0]['Scope']=='SELECTIVE'||_0x2d9ecf[0x0][_0x5e3add(0x204)]==null){if(_0x2d9ecf[0x0][_0x5e3add(0x25c)]!=null){var _0x33bece=_0x2d9ecf[0x0]['ContributorsId']['results'];function _0x11fa16(_0x48f37e){var _0x2d9d41=_0x5e3add;return _0x48f37e==_spPageContextInfo[_0x2d9d41(0x259)];}var _0x2ec5bb=_0x33bece[_0x5e3add(0x23e)](_0x11fa16);if(_0x2ec5bb[_0x5e3add(0x266)]>0x0){if(_0x1252ff=='Add'||_0x1252ff=='Update'){if(_0x432de6=='null')alert('Unauthorized\x20access!'),window['location']['href']=_0x5e3add(0x268)+titanForWork[_0x5e3add(0x255)]('CompanyId')+'';else{if(_0x432de6==_0x5e3add(0x1e1)||_0x432de6==_0x5e3add(0x243)||_0x432de6==_0x5e3add(0x274)||_0x432de6==_0x5e3add(0x260)){}else alert(_0x5e3add(0x224)),window[_0x5e3add(0x28d)]['href']=_0x5e3add(0x268)+titanForWork[_0x5e3add(0x255)](_0x5e3add(0x26e))+'';}}else{if(_0x1252ff==_0x5e3add(0x1fb))$('#Submitbtn')[_0x5e3add(0x25b)](),$('.ViewMode')[_0x5e3add(0x22a)](_0x5e3add(0x1e5),'disabled');else _0x1252ff==_0x5e3add(0x235)?(alert(_0x5e3add(0x224)),window[_0x5e3add(0x28d)][_0x5e3add(0x256)]='../Pages/Myworkplace.aspx?WebAppId='+titanForWork[_0x5e3add(0x255)](_0x5e3add(0x26e))+''):(alert(_0x5e3add(0x224)),window[_0x5e3add(0x28d)][_0x5e3add(0x256)]=_0x5e3add(0x268)+titanForWork[_0x5e3add(0x255)](_0x5e3add(0x26e))+'');}}else alert(_0x5e3add(0x224)),window[_0x5e3add(0x28d)][_0x5e3add(0x256)]=_0x5e3add(0x268)+titanForWork[_0x5e3add(0x255)]('CompanyId')+'';}else alert('Unauthorized\x20access!'),window['location'][_0x5e3add(0x256)]=_0x5e3add(0x268)+titanForWork['getQueryStringParameter'](_0x5e3add(0x26e))+'';}else{if(_0x2d9ecf[0x0][_0x5e3add(0x204)]=='Everyone'||_0x2d9ecf[0x0]['Scope']=='EVERYONE'){}else alert(_0x5e3add(0x224)),window[_0x5e3add(0x28d)]['href']=_0x5e3add(0x268)+titanForWork[_0x5e3add(0x255)](_0x5e3add(0x26e))+'';}}else alert('Unauthorized\x20access!'),window[_0x5e3add(0x28d)]['href']=_0x5e3add(0x268)+titanForWork[_0x5e3add(0x255)]('CompanyId')+'';},'error':function(_0x58d0e0){var _0x4066dd=_0x2b1f8a;console[_0x4066dd(0x263)](_0x58d0e0);}});}else $(_0x2b1f8a(0x27b))[_0x2b1f8a(0x25b)](),$(_0x2b1f8a(0x1d0))['attr'](_0x2b1f8a(0x1e5),_0x2b1f8a(0x1e5));window[_0x2b1f8a(0x28d)][_0x2b1f8a(0x256)]['includes'](_0x2b1f8a(0x26b))==!![]&&$(_0x2b1f8a(0x25d))[_0x2b1f8a(0x1db)]();}var LabelDefaultLangauge=[],labels=[];function a0_0x32e6(){var _0x5800e6=['Initiative','trim','/_api/Web/Lists/getByTitle(\x27','#DDL_Department\x20option:contains(','disabled','Approved','1087387SPzRIa','/Pages/Activity.aspx?Mode=Add&WebAppId=','done','Suggestion\x20deleted\x20successfully.','Recommended\x20to\x20clear\x20the\x20browsing\x20data\x20and\x20cookies\x20for\x20smooth\x20and\x20fast\x20browsing.\x20Please\x20press\x20Ctrl\x20+\x20H\x20to\x20clear\x20cookies.','lableText_Converted','getItemsWithQueryItem','/_api/web/lists/getbytitle(\x27CategoryMaster\x27)/items?$filter=CategoryType\x20eq\x20\x27Activity\x27\x20and\x20Status\x20eq\x20\x27Yes\x27\x20&$orderby=\x20CatogeryName\x20asc\x20','CompanySiteUrl','Key','FileName','#DDL_Category\x20option:selected','Update','data-localize','files','[object\x20SafariRemoteNotification]','html','\x27)\x22></i></th>','Data\x20has\x20been\x20saved.','AttachmentFiles','View','toString','Add','HTMLElement','input','text','194522OMAWvw','#Suggestion','13801099STxKAx','Scope','\x27)&$expand=AttachmentFiles','\x27>\x20','Suggesion','\x22\x20class=\x22Attachments-List\x22><span\x20class=\x22fa-stack\x20fa-lg\x22\x20style=\x22line-height:\x201em;\x20height:\x201em;\x22><i\x20class=\x22fa\x20fa-paperclip\x22\x20style=\x22font-size:\x2020px;\x20font-weight:\x20500;\x22></i></i><strong\x20class=\x22fa-stack-1x\x22\x20style=\x22color:#FFF;\x20font-size:12px;\x20margin-top:2px;\x22>','DeleteTaskItem','labelText_Actual','results','#DDL_Category','data','Suggestions','69iKJiNa','#Acivities','Selective','userDisplayName','Doc\x20Uploaded.','</a>&nbsp;&nbsp;<i\x20class=\x27fa\x20fa-trash-o\x20DeletePic\x27\x20style=\x27color:red\x27\x20onclick=\x22DeleteItemAttachment(','110zTGbEw','POST','/_api/web/lists/GetByTitle(\x27Activity\x27)/items(\x27','=([^&#]*)','/_api/web/lists/getbytitle(\x27Activity\x27)/items?$filter=ID\x20eq\x20(\x27','91956iMJmCO','\x27)/items','target','--\x20Select\x20--','GetItemIDOfApprovalTaskList','error','>Activity</h4>','Mode','button','Please\x20enter\x20title.','Unauthorized\x20access!','val','find','push','18486oDiMtz','replace','attr','webAbsoluteUrl','Auto\x20Approved\x20Success!','36XWxAKQ','CreateWorkflowTaskForApproval','Type','<th\x20scope=\x22row\x22><div\x20class=\x27Attachments-List\x27><i\x20class=\x27fa\x20fa-paperclip\x27\x20style=\x27color:red\x27></i><a\x20target=\x27_blank\x27\x20href=\x27','Multilingual\x20:\x20','Department','CatogeryName','\x22\x22\x20title=\x22remove\x22></span></div>','null','Data\x20has\x20been\x20Saved.','<option\x20\x20\x20\x20\x20/>','PATCH','ApprovalNotRequired','\x27\x20and\x20Company\x20eq\x20\x27','SP.Data.ActivityListItem','focus','stringify','filter','/_api/web/lists/GetByTitle(\x27Activity\x27)/GetItemById(','.richText-editor','Title','<h4\x20class=\x22h4-color\x22\x20id=\x22txtActivity\x22\x20data-localize=','Suggestion','safari','prop','split','#CategoryDiv','ajax','name','\x27\x20&$orderby=\x20Title\x20asc&$top=5000','#DDL_Department\x20option:selected','</tr>','Select','ServerRelativeUrl','#Initiative','.DeletePic','\x27\x20and\x20Department\x20eq\x20\x27','#DDL_Department','then','DELETE','getQueryStringParameter','href','17QkwDxf','Failed','userId','#__REQUESTDIGEST','hide','ContributorsId','#Close','\x27)/Items(','each','Activity','DefaultLanguage','\x20file\x20type\x20are\x20not\x20allow!\x20','log','click','#filename','length','\x20key\x20not\x20found.','../Pages/Myworkplace.aspx?WebAppId=','&Type=Activities&sourcelocation=../Pages/Myworkplace.aspx','#FileUpload','?MODAL','New\x20Initiative','ready','CompanyId','[data-localize]','&nbsp;&nbsp;<span\x20class=\x22fa\x20fa-close\x20fa-lg\x20closeBtn\x22\x20style=\x22color:red;\x22\x20\x20onclick=\x22removeLine(this.id);\x22\x20id=\x22file_','hasClass','18232258UuYEud','8sZbicr','Activities','result','Response\x20from\x20titanForWork.CreateWorkflowTaskForApproval\x20:\x20','702477GXcIUK','selected','value','ListItem','#Submitbtn','webServerRelativeUrl','#Title','Please\x20select\x20Department.','sourcelocation','/_api/web/lists/GetByTitle(\x27Activity\x27)/items','CategoryType','335PZojAo','indexOf','Please\x20enter\x20suggestion.','append','Deleted','drop-zone','show','MERGE','\x20has\x20been\x20posted.','?$select=Title,Key,DefaultLanguage&$top=5000&$filter=Title\x20eq\x20\x27Workplace\x27\x20','urlParam','location','exec','#ResultDiv',')/AttachmentFiles/add(\x20FileName=\x27','readAsArrayBuffer','promise','ActivityType','.ViewMode',')/AttachmentFiles/getByFileName(\x27','Are\x20you\x20sure\x20to\x20delete\x20this\x20item?','\x27)\x20\x20','#Suggestions','application/json;odata=verbose','</strong></span>\x20','onerror','empty','responseJSON','responseText','remove','#oldfilename','NotificationCenter','documentMode','when','ItemId'];a0_0x32e6=function(){return _0x5800e6;};return a0_0x32e6();}function ChangeLabels(){var _0x275621=a0_0x5e350f,_0x5ca8ec='DefaultLanguage';if(LabelDefaultLangauge['length']==0x0){var _0x12ec72=_0x275621(0x28b);$[_0x275621(0x1df)](CommonFunction[_0x275621(0x1ed)]('LabelsSettings',_0x12ec72))[_0x275621(0x1e9)](function(_0x1495b4){var _0x4de8e7=_0x275621;try{LabelDefaultLangauge=_0x1495b4[_0x4de8e7(0x20b)],SetDMSText(_0x1495b4[_0x4de8e7(0x20b)],_0x5ca8ec);}catch(_0x405b9b){alert(_0x4de8e7(0x1eb));}});}else SetDMSText(LabelDefaultLangauge,_0x5ca8ec);}function SetDMSText(_0x5b14b0,_0x524430){labels=[],$['each'](_0x5b14b0,function(_0x2d6c37,_0x5180cb){var _0x107c8c=a0_0x2911,_0x759fe4=_0x5180cb[_0x107c8c(0x1f0)],_0x187d6e=_0x5180cb[_0x524430];if(_0x187d6e==null||_0x187d6e==''||_0x187d6e==undefined)_0x187d6e=_0x5180cb[_0x107c8c(0x261)];var _0x230e52={'labelText_Actual':_0x759fe4,'lableText_Converted':_0x187d6e};labels[_0x107c8c(0x227)](_0x230e52);}),DetectBrowser();}function DetectBrowser(){var _0x3a38eb=a0_0x5e350f,_0x4f9775=/constructor/i['test'](window[_0x3a38eb(0x1fe)])||function(_0x2541f4){var _0x32ea46=_0x3a38eb;return _0x2541f4[_0x32ea46(0x1fc)]()===_0x32ea46(0x1f6);}(!window[_0x3a38eb(0x244)]||typeof safari!=='undefined'&&safari['pushNotification']),_0x220104=![]||!!document[_0x3a38eb(0x1de)];_0x4f9775||_0x220104?ChangeWebPartsHeadings_OldBrowser():ChangeWebPartsHeadings();}function ChangeWebPartsHeadings(){var _0x18596c=a0_0x5e350f;try{$(_0x18596c(0x26f))[_0x18596c(0x25f)](function(_0x3611dc,_0x1b581a){var _0x16f8e0=_0x18596c;try{var _0x1fa6cd=$(this)[_0x16f8e0(0x22a)](_0x16f8e0(0x1f4)),_0x581533=labels['find'](function(_0x306194){var _0x370c84=_0x16f8e0;return _0x306194[_0x370c84(0x20a)][_0x370c84(0x1e2)]()===_0x1fa6cd;})[_0x16f8e0(0x1ec)];if($(this)[_0x16f8e0(0x226)]('a')[_0x16f8e0(0x266)]>0x0)$(this)['find']('a')['html'](_0x581533);else{if($(this)[_0x16f8e0(0x226)]('b')[_0x16f8e0(0x266)]>0x0)$(this)['find']('b')[_0x16f8e0(0x1f7)](_0x581533);else{if($(this)['find']('p')[_0x16f8e0(0x266)]>0x0)$(this)[_0x16f8e0(0x226)]('p')[_0x16f8e0(0x1f7)](_0x581533);else $(this)[_0x16f8e0(0x271)](_0x16f8e0(0x222))?$(this)[_0x16f8e0(0x22a)]('value',_0x581533):$(this)['html'](_0x581533);}}}catch(_0x231884){console['log']('Multilingual\x20:\x20'+_0x1fa6cd+_0x16f8e0(0x267)),$(this)[_0x16f8e0(0x22a)](_0x16f8e0(0x279),$(this)['val']());}});}catch(_0x5a4406){console[_0x18596c(0x263)](_0x18596c(0x231)+_0x5a4406);}}function ChangeWebPartsHeadings_OldBrowser(){var _0x52f832=a0_0x5e350f;try{$(_0x52f832(0x26f))[_0x52f832(0x25f)](function(_0x1c34b3,_0x423ecd){var _0x5c2e07=_0x52f832;try{var _0x5a122b=$(this)[_0x5c2e07(0x22a)](_0x5c2e07(0x1f4)),_0x58a2fb=findObjectByKey(labels,_0x5a122b,_0x5a122b);if($(this)[_0x5c2e07(0x226)]('a')[_0x5c2e07(0x266)]>0x0)$(this)[_0x5c2e07(0x226)]('a')['html'](_0x58a2fb);else{if($(this)[_0x5c2e07(0x226)]('b')[_0x5c2e07(0x266)]>0x0)$(this)[_0x5c2e07(0x226)]('b')['html'](_0x58a2fb);else{if($(this)[_0x5c2e07(0x226)]('p')[_0x5c2e07(0x266)]>0x0)$(this)['find']('p')[_0x5c2e07(0x1f7)](_0x58a2fb);else $(this)[_0x5c2e07(0x271)]('button')?_0x58a2fb!=null&&_0x58a2fb!=_0x5c2e07(0x235)&&_0x58a2fb!=''?$(this)['attr'](_0x5c2e07(0x279),_0x58a2fb):$(this)[_0x5c2e07(0x22a)](_0x5c2e07(0x279),$(this)[_0x5c2e07(0x225)]()):_0x58a2fb!=null&&_0x58a2fb!=_0x5c2e07(0x235)&&_0x58a2fb!=''?$(this)['html'](_0x58a2fb):$(this)[_0x5c2e07(0x1f7)]($(this)[_0x5c2e07(0x200)]());}}}catch(_0x482c02){console[_0x5c2e07(0x263)]('Multilingual\x20:\x20'+_0x5a122b+'\x20key\x20not\x20found.'),$(this)['attr'](_0x5c2e07(0x279),$(this)[_0x5c2e07(0x225)]());}});}catch(_0x2d27c5){console[_0x52f832(0x263)](_0x52f832(0x231)+_0x2d27c5);}}function findObjectByKey(_0x18da3b,_0x4dcc70,_0x3d8311){var _0x4434c3=a0_0x5e350f;for(var _0x303a2b=0x0;_0x303a2b<_0x18da3b[_0x4434c3(0x266)];_0x303a2b++){if(_0x18da3b[_0x303a2b][_0x4434c3(0x20a)]==_0x3d8311)return _0x18da3b[_0x303a2b][_0x4434c3(0x1ec)];}return null;}function changeActivityStatus(){var _0x3109b1=a0_0x5e350f,_0xc2cfd4=$['urlParam'](_0x3109b1(0x1e0));if(confirm(_0x3109b1(0x1d2))){var _0xe715d5=_0x3109b1(0x260),_0x462b4d=titanForWork[_0x3109b1(0x255)](_0x3109b1(0x1ef))+_0x3109b1(0x1e3)+_0xe715d5+_0x3109b1(0x25e)+_0xc2cfd4+')';$[_0x3109b1(0x248)]({'url':_0x462b4d,'type':_0x3109b1(0x216),'async':![],'data':JSON['stringify']({'__metadata':{'type':_0x3109b1(0x23b)},'ApprovalStatus':_0x3109b1(0x286),'ApprovarName':_spPageContextInfo[_0x3109b1(0x212)],'Active':![]}),'headers':{'accept':_0x3109b1(0x1d5),'X-RequestDigest':$(_0x3109b1(0x25a))[_0x3109b1(0x225)](),'content-Type':_0x3109b1(0x1d5),'X-Http-Method':_0x3109b1(0x238),'If-Match':'*'},'success':function(_0x4b9b35,_0x100734,_0x466de7){var _0x247ac2=_0x3109b1;alert(_0x247ac2(0x1ea)),window[_0x247ac2(0x28d)][_0x247ac2(0x229)]($['urlParam']('sourcelocation'));},'error':function(_0x5608ef){var _0xc47f19=_0x3109b1;console[_0xc47f19(0x263)](_0x5608ef);}});}}
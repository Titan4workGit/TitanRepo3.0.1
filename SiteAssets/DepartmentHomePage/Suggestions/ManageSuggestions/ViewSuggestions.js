var a0_0xed3e7a=a0_0x1ca3;function a0_0x2397(){var _0x53fc96=['255732wIMvlN','AddSuggestion','GetApprovalTaskListItem','2424EZrcCx','\x27)/items(','application/json;odata=verbose','SP.Data.ActivityListItem','html','#btnClear','Initiative','ListItem','sorter','AttachmentFiles','hide','getApprovers','/Pages/Activity.aspx?Mode=Add&WebAppId=','reject','Are\x20you\x20sure\x20to\x20delete\x20this\x20item?','#_btnaddviewSuggestion','Active','DELETE','27490aPfjMv','Suggestion','GetAllUserInfo','Record\x20has\x20been\x20Deleted','\x27\x20and\x20AuthorId\x20eq\x20','slice','click','PrincipalAccountType','Remarks','formatDate','SP.Data.','GetAllSuggestions','&Mode=Update&Type=','\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20and\x20AuthorId\x20eq\x20','UpdateListItem','asc','</td></tr>','ajax','#createNewSuggestion','4tUOFmV','#ddlStatus','val','evenselected','AddNewTak','focus','#activityChip','sourcelocation','getElementById','Please\x20enter\x20suggestion.','CategoryType','PublishByPerson','Something\x20went\x20wrong.',');\x27><i\x20class=\x27fa\x20fa-eye\x20fa-lg\x27\x20aria-hidden=\x27true\x27></i></a></td>','charAt','ApprovedDate','Key','&ItemId=','DepartmentSiteUrl','DepartmentId','#modalStatusSuggestion','FormValidation_Suggestion','#Act_Category_list','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=Active\x20eq\x20\x271\x27\x20and\x20Department\x20eq\x20\x27','7NIYoHe','\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20or\x20(AuthorId\x20eq\x20','AddTaskToList','ItemId,Title,ApprovedBy/ID,ApprovedBy/Title,ApprovedDate,Remarks&$expand=ApprovedBy&$filter=ItemId\x20eq\x20\x27','Add','SPClientPeoplePickerDict','</td>','SPClientPeoplePicker_InitStandaloneControlWrapper','ApprovalTaskList','CatogeryName','</div>','empty','dd-M-yy','split','CheckSuggestion','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$filter=CompanyID\x20eq\x20\x27','GetItemTypeForListName','Status','\x20and\x20ApprovalStatus\x20ne\x20\x27Deleted\x27))\x20&$expand=Author&$orderby=Modified\x20desc','MaximumEntitySuggestions','replace','</tr>','NoRecordFound','</a></th>','FileName','\x27)&$expand=AttachmentFiles','Pending','AllowMultipleValues','\x20and\x20ItemId\x20eq\x20','Department','\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Pending\x27\x20and\x20AuthorId\x20eq\x20','[id^=\x27','DepartmentName','ApproverId','siteAbsoluteUrl','\x27)/items?$select=','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=CategoryType\x20eq\x20\x27','Please\x20enter\x20title.','\x27>\x20\x20\x20','totalpages','Author','\x27)/items?$select=*&$filter=CompanyId\x20eq\x20\x27','.mainDivAllSuggestions','results','AddSuggestions','push','SetControls','#Close','urlParam','<a\x20class=\x27btn\x20btn-outline-primary\x20btn-xs\x27\x20id=\x27EditFafabtn\x27\x20style=\x27min-width:30px\x20!important;\x27\x20href=\x27','#activities-filter','#DDL_Department','length','Title','attr','\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20Department\x20eq\x20\x27',')\x20&$expand=Author&$orderby=Modified\x20desc','SPClientPeoplePicker','log','/_api/web/lists/getbytitle(\x27','location','Deleted','#NoRecordFound','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=(Active\x20eq\x201\x20and\x20ApprovalStatus\x20eq\x20\x27Approved\x27)\x20\x20or\x20(AuthorId\x20eq\x20','pagedropdown','../Pages/Activity.aspx?WebAppId=','sorterSuggestion','New\x20Suggestion\x20has\x20been\x20added\x20and\x20sent\x20for\x20approval.','6489Lnogfw','GET','append','#ResultDiv','Approved','promise','#txtTitle','ApprovedBy','#oldfilename','getQueryStringParameter','<tr><td>','BindEvents','=([^&#]*)','655467ISOQcu','/_api/web/lists/getbytitle(\x27Suggestions\x27)/items(','#closeSuggestion','TempTableSuggestions','[?&]','prototype','1307620HcHuIZ','message','\x20and\x20ApprovalStatus\x20ne\x20\x27Deleted\x27)&$expand=Author&$orderby=Modified\x20desc','CreateSuggestion','href','each','\x27)/items','DeleteApprovalTaskListItem','/_api/web/Lists/GetByTitle(\x27Suggestions\x27)/Items?$select=ID,Title,Active/Title&$filter=ID\x20eq\x20\x27','An\x20error\x20occurred.\x20Please\x20try\x20again.','Suggestion\x20deleted\x20successfully.','\x20and\x20DepartmentId/ID\x20eq\x20','span[class=\x27sp-peoplepicker-userSpan\x27]','responseJSON','TableConfiguration','New\x20Suggestion\x20updated\x20Sucessfully.','/_api/web/lists/getbytitle(\x27Activity\x27)/items?$filter=ID\x20eq\x20(\x27','resolve','datepicker','#StatusSuggestion','DeleteProcessedUser','toUpperCase',')\x27></i></a>','table','#ddlDepartment','Submit','\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27','#txtRejectedDate','createApprovalTask','webAbsoluteUrl','ResolvedListElementId','\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27)\x20&$expand=Author&$orderby=Modified\x20desc','dd/mm/yy','userId','show','AddItemToList','oddrow','Rejected','atob','#_btnaddviewActivities','Update','desc','&Type=Initiative&sourcelocation=../Pages/ViewSuggestions.aspx','3091muIPRf','AllSuggestions','#txtRemarks','#txtSuggestion','Suggestions','tablenav','CompanySiteUrl','MERGE','SiteURL','POST','&Type=Suggestion&sourcelocation=../Pages/ViewSuggestions.aspx','ready','ShowStatus','currentpage','#__REQUESTDIGEST','#modalApprovalSuggestion','All','#_btnaddviewInitiative','ResolvePrincipalSource','/_api/web/lists/getbytitle(\x27CategoryMaster\x27)/items?$filter=CategoryType\x20eq\x20\x27Activity\x27\x20and\x20Status\x20eq\x20\x27Yes\x27\x20&$orderby=\x20CatogeryName\x20asc\x20','totalrecords','468176XBYCuf','text','<a\x20class=\x27btn\x20btn-outline-danger\x20btn-xs\x27\x20style=\x27min-width:30px\x20!important;\x27\x20><i\x20class=\x27fa\x20fa-trash-o\x20fa-lg\x27\x20aria-hidden=\x27true\x27\x20onclick=\x27changeActivityStatus(','indexOf','<option\x20\x20\x20\x20\x20/>','CompanyId','SearchPrincipalSource','Mode','<div\x20class=\x22upload-chip\x22>','<tr>','ApprovalStatus','Created','SP.Data.SuggestionsListItem','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=(Active\x20eq\x201\x20and\x20ApprovalStatus\x20eq\x20\x27Approved\x27)&$expand=Author&$orderby=Modified\x20desc','error','SuggetionId','modal','\x27\x20and\x20DepartmentId\x20eq\x20\x27','/_api/lists/getByTitle(\x27ApprovalTaskList\x27)/items?$select=ID,DepartmentId/ID&$expand=DepartmentId&$Filter=WebpartName\x20eq\x20\x27Suggestion\x27\x20and\x20CompanyId\x20eq\x20','ActivityType','startrecord','selectedrow','Approved\x20item\x20can\x27t\x20be\x20deleted.','Type','done','/_api/Web/Lists/getByTitle(\x27','Deferred','head','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=(Active\x20eq\x201\x20and\x20ApprovalStatus\x20eq\x20\x27Pending\x27\x20and\x20AuthorId\x20eq\x20','\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Pending\x27\x20and\x20AuthorId\x20eq\x20','745638aKWmzy','</td><td>','webServerRelativeUrl','\x27\x20><i\x20class=\x27fa\x20fa-pencil-square-o\x20fa-lg\x27\x20aria-hidden=\x27true\x27\x20></i></a>','stringify','join'];a0_0x2397=function(){return _0x53fc96;};return a0_0x2397();}(function(_0x44f821,_0x10f105){var _0x5926e0=a0_0x1ca3,_0x2b0b03=_0x44f821();while(!![]){try{var _0x5b2b4a=-parseInt(_0x5926e0(0x216))/0x1+-parseInt(_0x5926e0(0x1f2))/0x2+parseInt(_0x5926e0(0x1ac))/0x3*(parseInt(_0x5926e0(0x23e))/0x4)+-parseInt(_0x5926e0(0x1b2))/0x5+parseInt(_0x5926e0(0x210))/0x6*(parseInt(_0x5926e0(0x15b))/0x7)+parseInt(_0x5926e0(0x219))/0x8*(-parseInt(_0x5926e0(0x19f))/0x9)+-parseInt(_0x5926e0(0x22b))/0xa*(-parseInt(_0x5926e0(0x1dd))/0xb);if(_0x5b2b4a===_0x10f105)break;else _0x2b0b03['push'](_0x2b0b03['shift']());}catch(_0x1488be){_0x2b0b03['push'](_0x2b0b03['shift']());}}}(a0_0x2397,0x23810));var Status='',Valid=!![],userId=_spPageContextInfo[a0_0xed3e7a(0x1d3)],sorterSharedWithMe,OwnURL='',ViewSuggestions=function(){var _0x296dd1=a0_0xed3e7a;this[_0x296dd1(0x1f9)],this[_0x296dd1(0x1e5)],this[_0x296dd1(0x1f7)],this['DepartmentId'],this['SuggetionId'],this[_0x296dd1(0x190)]=$('#txtTitle'),this[_0x296dd1(0x22c)]=$(_0x296dd1(0x1e0)),this['ApprovedBy']=$('#txtRejectedBy'),this[_0x296dd1(0x24d)]=$(_0x296dd1(0x1cd)),this['Remarks']=$(_0x296dd1(0x1df)),this[_0x296dd1(0x16c)]=$('#txtStatus'),this[_0x296dd1(0x1b5)]=$(_0x296dd1(0x23d)),this[_0x296dd1(0x1de)]=$(_0x296dd1(0x185)),this['AddSuggestion']=$('#addSuggestions'),this['CloseSuggestion']=$(_0x296dd1(0x1ae)),this[_0x296dd1(0x171)]=$(_0x296dd1(0x199)),this[_0x296dd1(0x1e5)]='';};ViewSuggestions[a0_0xed3e7a(0x1b1)]['InitializeControls']=function InitializeControls(){var _0x5a8a9d=a0_0xed3e7a,_0x48bac1=this;_0x48bac1['AddSuggestion'][_0x5a8a9d(0x1d4)](),_0x48bac1[_0x5a8a9d(0x1f7)]=titanForWork[_0x5a8a9d(0x1a8)](_0x5a8a9d(0x1f7)),_0x48bac1['DepartmentId']=titanForWork[_0x5a8a9d(0x1a8)](_0x5a8a9d(0x156));var _0x1daa35=titanForWork['getQueryStringParameter'](_0x5a8a9d(0x155));_0x48bac1[_0x5a8a9d(0x1e5)]=_0x1daa35,objViewSuggestions['GetAllSuggestions']();},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x189)]=function SetControls(){var _0x3ea0a7=this;},ViewSuggestions['prototype'][a0_0xed3e7a(0x1aa)]=function BindEvents(){var _0x5db137=a0_0xed3e7a,_0x289699=this;$(_0x5db137(0x244))[_0x5db137(0x166)](),categoryGet!=null&&(chip=_0x5db137(0x1fa)+decodeDepartment+_0x5db137(0x165),chip+=_0x5db137(0x1fa)+deCodeCategory+_0x5db137(0x165),$(_0x5db137(0x244))[_0x5db137(0x1a1)](chip)),_0x289699[_0x5db137(0x217)][_0x5db137(0x231)](function(){var _0x303946=_0x5db137;_0x289699['Mode']=_0x303946(0x15f),_0x289699[_0x303946(0x190)][_0x303946(0x240)](''),_0x289699[_0x303946(0x22c)]['val'](''),$(_0x303946(0x23d))[_0x303946(0x1f3)](_0x303946(0x1cb)),$(_0x303946(0x1ec))['modal']();}),_0x289699['CloseSuggestion'][_0x5db137(0x231)](function(){var _0x18c4fb=_0x5db137;window[_0x18c4fb(0x197)][_0x18c4fb(0x1b6)]='../Pages/Myworkplace.aspx?WebAppId='+_0x289699[_0x18c4fb(0x1f7)]+'';}),_0x289699['CreateSuggestion']['click'](function(){var _0x156f57=_0x5db137,_0x5b9009=$(_0x156f57(0x1a5))[_0x156f57(0x240)](),_0xdc88e0=$(_0x156f57(0x1e0))[_0x156f57(0x240)]();if(objViewSuggestions[_0x156f57(0x158)]()){submitEventFired=!![];if(_0x289699[_0x156f57(0x1f9)]=='Add')objViewSuggestions[_0x156f57(0x242)](),objViewSuggestions[_0x156f57(0x236)](),$(_0x156f57(0x1ec))[_0x156f57(0x202)](_0x156f57(0x223)),_0x289699[_0x156f57(0x190)][_0x156f57(0x240)](''),_0x289699[_0x156f57(0x22c)][_0x156f57(0x240)]('');else _0x289699[_0x156f57(0x1f9)]==_0x156f57(0x1da)&&(objViewSuggestions['UpdateListItem'](),objViewSuggestions[_0x156f57(0x236)]());}});},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x1c0)]=function TableConfiguration(){var _0x2639f7=a0_0xed3e7a;sorterSuggestion=new TINY[(_0x2639f7(0x1c9))][(_0x2639f7(0x221))](_0x2639f7(0x19d),_0x2639f7(0x1af),{'headclass':_0x2639f7(0x20d),'ascclass':_0x2639f7(0x23a),'descclass':_0x2639f7(0x1db),'evenclass':'evenrow','oddclass':_0x2639f7(0x1d6),'evenselclass':_0x2639f7(0x241),'oddselclass':'oddselected','paginate':!![],'size':0xa,'currentid':_0x2639f7(0x1ea),'totalid':_0x2639f7(0x182),'startingrecid':_0x2639f7(0x206),'endingrecid':'endrecord','totalrecid':_0x2639f7(0x1f1),'hoverid':_0x2639f7(0x207),'pageddid':_0x2639f7(0x19b),'navid':_0x2639f7(0x1e2),'sortdir':0x1,'init':!![]});},$[a0_0xed3e7a(0x18b)]=function(_0x1ed676){var _0x1ed26e=a0_0xed3e7a;debugger;var _0x261a6e=new RegExp(_0x1ed26e(0x1b0)+_0x1ed676+_0x1ed26e(0x1ab))['exec'](window[_0x1ed26e(0x197)]['href']);if(_0x261a6e==null)return null;return decodeURI(_0x261a6e[0x1])||0x0;};var chip,departmentGet=$[a0_0xed3e7a(0x18b)]('Department');if(departmentGet!=null)var decodeDepartment=window[a0_0xed3e7a(0x1d8)](departmentGet);var categoryGet=$[a0_0xed3e7a(0x18b)](a0_0xed3e7a(0x209));if(categoryGet!=null)var deCodeCategory=window[a0_0xed3e7a(0x1d8)](categoryGet);function bindEvent(){var _0x4828a4=a0_0xed3e7a;debugger;$('#btnApply')['click'](function(){var _0x2ca48e=a0_0x1ca3,_0x2471a3=getPeopleUserInfoGroups(_0x2ca48e(0x249)),_0x5414b5=$(_0x2ca48e(0x1ca))['val'](),_0x6e32b6=$('#Act_Category_list')['val'](),_0x29e41d=$(_0x2ca48e(0x23f))[_0x2ca48e(0x240)]();$('#activityChip')['empty'](),chip=_0x2ca48e(0x1fa)+_0x5414b5+_0x2ca48e(0x165),chip+=_0x2ca48e(0x1fa)+_0x6e32b6+_0x2ca48e(0x165),chip+=_0x2ca48e(0x1fa)+_0x29e41d+'</div>',$(_0x2ca48e(0x244))[_0x2ca48e(0x1a1)](chip);_0x2471a3[_0x2ca48e(0x18f)]==0x0&&_0x5414b5!=_0x2ca48e(0x1ed)&&_0x6e32b6!=_0x2ca48e(0x1ed)&&(_0x29e41d!=_0x2ca48e(0x175)?(OwnURL=titanForWork[_0x2ca48e(0x1a8)](_0x2ca48e(0x1e3))+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=CategoryType\x20eq\x20\x27'+_0x6e32b6+_0x2ca48e(0x192)+_0x5414b5+'\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27)\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions[_0x2ca48e(0x236)]()):(OwnURL=titanForWork['getQueryStringParameter'](_0x2ca48e(0x1e3))+_0x2ca48e(0x17f)+_0x6e32b6+_0x2ca48e(0x192)+_0x5414b5+'\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Pending\x27\x20and\x20AuthorId\x20eq\x20'+userId+')\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions[_0x2ca48e(0x236)]()));_0x2471a3[_0x2ca48e(0x18f)]==0x0&&_0x5414b5==_0x2ca48e(0x1ed)&&_0x6e32b6!=_0x2ca48e(0x1ed)&&(_0x29e41d!=_0x2ca48e(0x175)?(OwnURL=titanForWork[_0x2ca48e(0x1a8)](_0x2ca48e(0x1e3))+_0x2ca48e(0x17f)+_0x6e32b6+'\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27)\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions['GetAllSuggestions']()):(OwnURL=titanForWork[_0x2ca48e(0x1a8)](_0x2ca48e(0x1e3))+_0x2ca48e(0x17f)+_0x6e32b6+_0x2ca48e(0x179)+userId+_0x2ca48e(0x193),objViewSuggestions[_0x2ca48e(0x236)]()));_0x2471a3[_0x2ca48e(0x18f)]==0x0&&_0x5414b5!=_0x2ca48e(0x1ed)&&_0x6e32b6==_0x2ca48e(0x1ed)&&(_0x29e41d!=_0x2ca48e(0x175)?(OwnURL=titanForWork['getQueryStringParameter'](_0x2ca48e(0x1e3))+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=Active\x20eq\x20\x271\x27\x20and\x20Department\x20eq\x20\x27'+_0x5414b5+_0x2ca48e(0x1d1),objViewSuggestions[_0x2ca48e(0x236)]()):(OwnURL=titanForWork[_0x2ca48e(0x1a8)]('CompanySiteUrl')+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=Active\x20eq\x20\x271\x27\x20and\x20Department\x20eq\x20\x27'+_0x5414b5+_0x2ca48e(0x20f)+userId+_0x2ca48e(0x193),objViewSuggestions[_0x2ca48e(0x236)]()));_0x2471a3[_0x2ca48e(0x18f)]==0x0&&_0x5414b5==_0x2ca48e(0x1ed)&&_0x6e32b6==_0x2ca48e(0x1ed)&&(_0x29e41d!=_0x2ca48e(0x175)?(OwnURL=titanForWork['getQueryStringParameter']('CompanySiteUrl')+_0x2ca48e(0x1ff),objViewSuggestions[_0x2ca48e(0x236)]()):(OwnURL=titanForWork['getQueryStringParameter']('CompanySiteUrl')+_0x2ca48e(0x20e)+userId+_0x2ca48e(0x193),objViewSuggestions[_0x2ca48e(0x236)]()));if(_0x2471a3[_0x2ca48e(0x18f)]>0x0&&_0x5414b5!=_0x2ca48e(0x1ed)&&_0x6e32b6!=_0x2ca48e(0x1ed)){var _0x50e02d=_0x2471a3[0x0][_0x2ca48e(0x168)](',');if(userId!=_0x50e02d[0x0]&&_0x29e41d=='Pending'){var _0x4b45d6=$(_0x2ca48e(0x185));return _0x4b45d6['html'](''),![];}userId==_0x50e02d[0x0]?(OwnURL=titanForWork[_0x2ca48e(0x1a8)](_0x2ca48e(0x1e3))+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=CategoryType\x20eq\x20\x27'+_0x6e32b6+_0x2ca48e(0x192)+_0x5414b5+'\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27'+_0x29e41d+'\x27\x20and\x20AuthorId\x20eq\x20'+userId+')\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions[_0x2ca48e(0x236)]()):(OwnURL=titanForWork[_0x2ca48e(0x1a8)](_0x2ca48e(0x1e3))+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=CategoryType\x20eq\x20\x27'+_0x6e32b6+_0x2ca48e(0x192)+_0x5414b5+'\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20and\x20AuthorId\x20eq\x20'+_0x50e02d[0x0]+_0x2ca48e(0x193),objViewSuggestions[_0x2ca48e(0x236)]());}if(_0x2471a3['length']>0x0&&_0x5414b5==_0x2ca48e(0x1ed)&&_0x6e32b6!=_0x2ca48e(0x1ed)){var _0x50e02d=_0x2471a3[0x0]['split'](',');if(userId!=_0x50e02d[0x0]&&_0x29e41d==_0x2ca48e(0x175)){var _0x4b45d6=$(_0x2ca48e(0x185));return _0x4b45d6[_0x2ca48e(0x21d)](''),![];}userId==_0x50e02d[0x0]?(OwnURL=titanForWork[_0x2ca48e(0x1a8)](_0x2ca48e(0x1e3))+_0x2ca48e(0x17f)+_0x6e32b6+_0x2ca48e(0x1cc)+_0x29e41d+_0x2ca48e(0x22f)+userId+')\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions[_0x2ca48e(0x236)]()):(OwnURL=titanForWork[_0x2ca48e(0x1a8)](_0x2ca48e(0x1e3))+_0x2ca48e(0x17f)+_0x6e32b6+'\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20and\x20AuthorId\x20eq\x20'+_0x50e02d[0x0]+_0x2ca48e(0x193),objViewSuggestions['GetAllSuggestions']());}if(_0x2471a3[_0x2ca48e(0x18f)]>0x0&&_0x5414b5!=_0x2ca48e(0x1ed)&&_0x6e32b6==_0x2ca48e(0x1ed)){var _0x50e02d=_0x2471a3[0x0][_0x2ca48e(0x168)](',');if(userId!=_0x50e02d[0x0]&&_0x29e41d==_0x2ca48e(0x175)){var _0x4b45d6=$(_0x2ca48e(0x185));return _0x4b45d6['html'](''),![];}userId==_0x50e02d[0x0]?(OwnURL=titanForWork[_0x2ca48e(0x1a8)](_0x2ca48e(0x1e3))+_0x2ca48e(0x15a)+_0x5414b5+'\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27'+_0x29e41d+_0x2ca48e(0x22f)+userId+_0x2ca48e(0x193),objViewSuggestions[_0x2ca48e(0x236)]()):(OwnURL=titanForWork[_0x2ca48e(0x1a8)](_0x2ca48e(0x1e3))+_0x2ca48e(0x15a)+_0x5414b5+_0x2ca48e(0x238)+_0x50e02d[0x0]+_0x2ca48e(0x193),objViewSuggestions[_0x2ca48e(0x236)]());}if(_0x2471a3[_0x2ca48e(0x18f)]>0x0&&_0x5414b5==_0x2ca48e(0x1ed)&&_0x6e32b6==_0x2ca48e(0x1ed)){var _0x50e02d=_0x2471a3[0x0][_0x2ca48e(0x168)](',');if(userId!=_0x50e02d[0x0]&&_0x29e41d==_0x2ca48e(0x175)){var _0x4b45d6=$(_0x2ca48e(0x185));return _0x4b45d6[_0x2ca48e(0x21d)](''),![];}userId==_0x50e02d[0x0]?(OwnURL=titanForWork['getQueryStringParameter']('CompanySiteUrl')+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27'+_0x29e41d+_0x2ca48e(0x22f)+userId+_0x2ca48e(0x193),objViewSuggestions[_0x2ca48e(0x236)]()):(OwnURL=titanForWork['getQueryStringParameter']('CompanySiteUrl')+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20and\x20AuthorId\x20eq\x20'+_0x50e02d[0x0]+_0x2ca48e(0x193),objViewSuggestions[_0x2ca48e(0x236)]());}}),$(_0x4828a4(0x21e))[_0x4828a4(0x231)](function(){var _0x18fcb0=_0x4828a4;$(_0x18fcb0(0x1ca))[_0x18fcb0(0x240)](_0x18fcb0(0x1ed)),$(_0x18fcb0(0x159))[_0x18fcb0(0x240)](_0x18fcb0(0x1ed)),clearPeoplePickerControl('PublishByPerson');});}function clearPeoplePickerControl(_0x39d5fd){var _0x889fd1=a0_0xed3e7a,_0x1cd1ff=_0x39d5fd+'_TopSpan',_0x3a256e=null,_0x58b205=this[_0x889fd1(0x194)]['SPClientPeoplePickerDict'];for(var _0x23f766 in _0x58b205){if(_0x23f766==_0x1cd1ff){_0x3a256e=_0x58b205[_0x23f766];break;}}if(_0x3a256e){var _0x29f813=$(document[_0x889fd1(0x246)](_0x3a256e[_0x889fd1(0x1d0)]))['find'](_0x889fd1(0x1be));$(_0x29f813)[_0x889fd1(0x1b7)](function(_0xcde32){var _0x5e82b8=_0x889fd1;_0x3a256e[_0x5e82b8(0x1c6)](this);});}}ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x236)]=function GetAllSuggestions(){var _0x508706=a0_0xed3e7a;debugger;var _0x1e7b9b=$['Deferred'](),_0x2a2749=this;return $[_0x508706(0x23c)]({'url':OwnURL,'headers':{'Accept':_0x508706(0x21b)},'async':![],'success':function(_0x1b8af7){var _0x1491f1=_0x508706,_0x2902b5=_0x1b8af7['d'][_0x1491f1(0x186)],_0x1c1e41='',_0x3c37b4=_0x1491f1(0x190),_0x4fa3e2=_0x1491f1(0x22c),_0x2cbe3d=_0x1491f1(0x1fd),_0x4f2495=_0x1491f1(0x229);for(var _0x324f61=0x0;_0x324f61<_0x2902b5[_0x1491f1(0x18f)];_0x324f61++){var _0x27e935=_0x2902b5[_0x324f61]['ID'],_0x4b1da0=_0x2902b5[_0x324f61][_0x1491f1(0x248)],_0x511a81=_0x2902b5[_0x324f61][_0x1491f1(0x190)],_0xea48a1=_0x2902b5[_0x324f61][_0x1491f1(0x1e1)],_0x2fe7c4=_0x2902b5[_0x324f61][_0x1491f1(0x205)],_0x1ba303=_0x2902b5[_0x324f61][_0x1491f1(0x178)],_0x199260=_0x2902b5[_0x324f61][_0x1491f1(0x183)]['Title'],_0x364952=_0x2902b5[_0x324f61][_0x1491f1(0x1fc)],_0x3d71bf=_0x2902b5[_0x324f61][_0x1491f1(0x183)]['ID'],_0x2b7282,_0x257753=_0x2902b5[_0x324f61][_0x2cbe3d];_0x257753=new Date(_0x257753),_0x257753=$[_0x1491f1(0x1c4)]['formatDate'](_0x1491f1(0x167),_0x257753);var _0x310289='../Pages/Activity.aspx?WebAppId='+_0x2a2749[_0x1491f1(0x1f7)]+_0x1491f1(0x24f)+_0x27e935+'&Mode=View&Type='+_0x2fe7c4+'&sourcelocation=../Pages/ViewSuggestions.aspx',_0x93bd21=_0x1491f1(0x19c)+_0x2a2749[_0x1491f1(0x1f7)]+_0x1491f1(0x24f)+_0x27e935+_0x1491f1(0x237)+_0x2fe7c4+'&sourcelocation=../Pages/ViewSuggestions.aspx';_0x1c1e41+=_0x1491f1(0x1a9)+_0x4b1da0+_0x1491f1(0x211)+_0x511a81+_0x1491f1(0x211)+_0x1ba303+_0x1491f1(0x211)+_0x199260+_0x1491f1(0x211)+_0x257753+_0x1491f1(0x211)+_0x364952+_0x1491f1(0x161),_0x1c1e41+='<td\x20style=\x27text-align:center;\x27>',(_0x3d71bf==_spPageContextInfo[_0x1491f1(0x1d3)]||_0x364952==_0x1491f1(0x1d7)||isTechAdmins==!![])&&(_0x1c1e41+=_0x1491f1(0x18c)+_0x93bd21+_0x1491f1(0x213),_0x1c1e41+=_0x1491f1(0x1f4)+_0x27e935+_0x1491f1(0x1c8)),_0x1c1e41+='<a\x20class=\x27btn\x20btn-outline-primary\x20btn-xs\x20my_announce_view_icon\x27\x20style=\x27min-width:30px\x20!important;\x27\x20data-toggle=\x27modal\x27\x20data-target=\x27#modalApprovalSuggestion\x27\x20onclick=\x27ViewActivityinmodel('+_0x27e935+_0x1491f1(0x24b),_0x1c1e41+=_0x1491f1(0x23b);}var _0x50cb61=_0x1c1e41,_0x447e1b=_0x2a2749[_0x1491f1(0x1de)];_0x447e1b[_0x1491f1(0x21d)](''),_0x2902b5[_0x1491f1(0x18f)]==0x0?_0x2a2749[_0x1491f1(0x171)][_0x1491f1(0x1d4)]():_0x2a2749[_0x1491f1(0x171)][_0x1491f1(0x223)](),_0x447e1b['append'](_0x50cb61),_0x2902b5[_0x1491f1(0x18f)]>0x0&&(_0x1e7b9b[_0x1491f1(0x1c3)](),objViewSuggestions[_0x1491f1(0x1c0)]());},'eror':function(_0x20d8d8){var _0x59a6f8=_0x508706;console[_0x59a6f8(0x195)](_0x59a6f8(0x24a));}}),_0x1e7b9b;},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x1e9)]=function ShowStatus(_0xac11ae){var _0x12e0c0=a0_0xed3e7a,_0x3db311=this,_0x4b1863=_0x12e0c0(0x163),_0x4a624d='';_0x4a624d=_0x12e0c0(0x15e)+_0xac11ae+'\x27';var _0x3176eb=_spPageContextInfo[_0x12e0c0(0x1cf)]+_0x12e0c0(0x196)+_0x4b1863+_0x12e0c0(0x17e)+_0x4a624d;$[_0x12e0c0(0x23c)]({'url':_0x3176eb,'headers':{'accept':_0x12e0c0(0x21b)},'async':!![],'success':function(_0x76f60b){var _0x4fdeb8=_0x12e0c0,_0x49a05c=_0x76f60b['d']['results'],_0x4246e5=/(&nbsp;|<([^>]+)>)/ig,_0x3a040e=_0x49a05c[0x0][_0x4fdeb8(0x233)],_0x3a040e=_0x3a040e[_0x4fdeb8(0x16f)](_0x4246e5,''),_0x2bae6c=_0x49a05c[0x0][_0x4fdeb8(0x24d)];_0x2bae6c=new Date(_0x2bae6c),_0x2bae6c=$[_0x4fdeb8(0x1c4)][_0x4fdeb8(0x234)](_0x4fdeb8(0x1d2),_0x2bae6c),_0x3db311[_0x4fdeb8(0x1a6)][_0x4fdeb8(0x1f3)](_0x49a05c[0x0][_0x4fdeb8(0x1a6)][_0x4fdeb8(0x190)]),_0x3db311[_0x4fdeb8(0x24d)][_0x4fdeb8(0x1f3)](_0x2bae6c),_0x3db311[_0x4fdeb8(0x233)][_0x4fdeb8(0x1f3)](_0x3a040e),$('#modalStatusSuggestion')[_0x4fdeb8(0x202)](),$(_0x4fdeb8(0x1c5))[_0x4fdeb8(0x231)](function(){var _0x4c0836=_0x4fdeb8;$(_0x4c0836(0x157))[_0x4c0836(0x202)]('hide');});},'error':function(_0x34b37e){var _0x1420a3=_0x12e0c0;alert('Something\x20went\x20wrong.'),console[_0x1420a3(0x195)](_0x34b37e);}});},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x187)]=function AddSuggestions(_0x425cc3){var _0x8b8302=a0_0xed3e7a,_0x18cccf=this;this['Mode']=_0x8b8302(0x1da);var _0x204325=_0x8b8302(0x1e1),_0x470896='';_0x470896='ID,Title,Suggestion&$filter=ID\x20eq\x20\x27'+_0x425cc3+'\x27';var _0x17a30d=_0x18cccf[_0x8b8302(0x1e5)]+_0x8b8302(0x196)+_0x204325+_0x8b8302(0x17e)+_0x470896;alert(_0x17a30d),$[_0x8b8302(0x23c)]({'url':_0x17a30d,'headers':{'accept':_0x8b8302(0x21b)},'async':!![],'success':function(_0x2d9a96){var _0x37b27f=_0x8b8302,_0x8338bb=_0x2d9a96['d'][_0x37b27f(0x186)];_0x18cccf['SuggetionId']=_0x425cc3,_0x18cccf[_0x37b27f(0x190)][_0x37b27f(0x240)](_0x8338bb[0x0][_0x37b27f(0x190)]),_0x18cccf[_0x37b27f(0x22c)]['val'](_0x8338bb[0x0]['Suggestion']),$(_0x37b27f(0x23d))[_0x37b27f(0x1f3)](_0x37b27f(0x1da)),$('#modalApprovalSuggestion')[_0x37b27f(0x202)](),objViewSuggestions[_0x37b27f(0x236)]();},'error':function(_0x5577aa){var _0x4adcc0=_0x8b8302;alert(_0x4adcc0(0x24a)),console[_0x4adcc0(0x195)](_0x5577aa);}});},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x242)]=function AddNewTak(){var _0xda281b=a0_0xed3e7a,_0x1716c9=this,_0x28e7ef=_0x1716c9['Title'][_0xda281b(0x240)](),_0xd91eac=_0x1716c9['Suggestion'][_0xda281b(0x240)](),_0x9628c3='Suggestions',_0x3952c0,_0x4d27c2=_0xda281b(0x1fe);_0x3952c0={'__metadata':{'type':_0x4d27c2},'Title':_0x28e7ef,'Suggestion':_0xd91eac},$['when'](objViewSuggestions[_0xda281b(0x1d5)](_0x9628c3,_0x3952c0))[_0xda281b(0x20a)](function(_0x460fde){});},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x1d5)]=function AddItemToList(_0x3ff74f,_0x420bb3){var _0x2235c8=a0_0xed3e7a,_0x4b919b=this,_0x58dde9=$['Deferred']();return $[_0x2235c8(0x23c)]({'url':_0x4b919b['SiteURL']+_0x2235c8(0x196)+_0x3ff74f+_0x2235c8(0x1b8),'type':_0x2235c8(0x1e6),'async':![],'headers':{'accept':_0x2235c8(0x21b),'X-RequestDigest':$('#__REQUESTDIGEST')['val'](),'content-Type':_0x2235c8(0x21b)},'data':JSON[_0x2235c8(0x214)](_0x420bb3),'success':function(_0x37246c){var _0x5aaee3=_0x2235c8;_0x58dde9[_0x5aaee3(0x1c3)](_0x37246c),objViewSuggestions['GetAllSuggestions']();var _0x584500=_0x37246c['d']['ID'];objViewSuggestions[_0x5aaee3(0x224)](_0x584500);},'error':function(_0x2f91cc){var _0x355e94=_0x2235c8;console[_0x355e94(0x195)](JSON[_0x355e94(0x214)](_0x2f91cc)),_0x58dde9[_0x355e94(0x226)](_0x2f91cc);}}),_0x58dde9[_0x2235c8(0x1a4)]();},ViewSuggestions['prototype']['getApprovers']=function getApprovers(_0x43c864){var _0x143be7=a0_0xed3e7a,_0x505196=titanForWork['getQueryStringParameter'](_0x143be7(0x156)),_0x1c383e=titanForWork[_0x143be7(0x1a8)](_0x143be7(0x1f7)),_0x3fe247='ProcessApprovers';siteURLRoot=_spPageContextInfo[_0x143be7(0x1cf)]+_0x143be7(0x196)+_0x3fe247+_0x143be7(0x184)+_0x1c383e+_0x143be7(0x203)+_0x505196+'\x27\x20and\x20WebPartName\x20eq\x20\x27Suggesion\x27',$[_0x143be7(0x23c)]({'url':siteURLRoot,'headers':{'Accept':_0x143be7(0x21b)},'async':![],'success':function(_0x1db1bd){var _0x4f53f7=_0x143be7,_0x59f29f=_0x1db1bd['d'][_0x4f53f7(0x186)],_0x4f3061=new Array();for(var _0x5a7531=0x0;_0x5a7531<_0x59f29f['length'];_0x5a7531++){for(var _0x47c4d5=0x0;_0x47c4d5<_0x59f29f[_0x5a7531][_0x4f53f7(0x17c)][_0x4f53f7(0x186)][_0x4f53f7(0x18f)];_0x47c4d5++){_0x4f3061[_0x4f53f7(0x1f5)](_0x59f29f[_0x5a7531][_0x4f53f7(0x17c)]['results'][_0x47c4d5])==-0x1&&_0x4f3061[_0x4f53f7(0x188)](_0x59f29f[_0x5a7531]['ApproverId'][_0x4f53f7(0x186)][_0x47c4d5]);}}objViewSuggestions['createApprovalTask'](_0x4f3061,_0x43c864);},'eror':function(_0x352570){var _0x4e8763=_0x143be7;console[_0x4e8763(0x195)]($('#txtSomethingWentWrong')[_0x4e8763(0x240)]());}});},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x1ce)]=function createApprovalTask(_0x4dd7de,_0x1f5e72){var _0x14e2d8=a0_0xed3e7a;try{var _0x610c0a=titanForWork[_0x14e2d8(0x1a8)]('DepartmentId'),_0x34f9a5=titanForWork[_0x14e2d8(0x1a8)]('CompanyId'),_0x26fa15=$(_0x14e2d8(0x1a5))[_0x14e2d8(0x240)](),_0x57f9cb=$(_0x14e2d8(0x1e0))[_0x14e2d8(0x240)](),_0x2d8b9b,_0x2c39f8=GetItemTypeForListName('ApprovalTaskList');_0x2d8b9b={'__metadata':{'type':_0x2c39f8},'Title':_0x26fa15,'Details':_0x57f9cb,'CompanyId':_0x34f9a5,'DepartmentIdId':_0x610c0a,'ApproversId':{'results':_0x4dd7de},'WebpartName':_0x14e2d8(0x22c),'Status':'Initiated','ItemId':_0x1f5e72},objViewSuggestions[_0x14e2d8(0x15d)](_0x14e2d8(0x163),_0x2d8b9b);}catch(_0x43a559){console[_0x14e2d8(0x195)](_0x43a559[_0x14e2d8(0x1b3)]);}},ViewSuggestions[a0_0xed3e7a(0x1b1)]['AddTaskToList']=function AddTaskToList(_0x17711c,_0xdb1aa4){var _0x46787e=a0_0xed3e7a,_0xb2d146=$[_0x46787e(0x20c)]();return $['ajax']({'url':_spPageContextInfo[_0x46787e(0x1cf)]+'/_api/web/lists/getbytitle(\x27'+_0x17711c+_0x46787e(0x1b8),'type':_0x46787e(0x1e6),'async':![],'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$(_0x46787e(0x1eb))[_0x46787e(0x240)](),'content-Type':'application/json;odata=verbose'},'data':JSON[_0x46787e(0x214)](_0xdb1aa4),'success':function(_0x2b8b5f){var _0x45e932=_0x46787e;_0xb2d146['resolve'](_0x2b8b5f),alert(_0x45e932(0x19e)),$('#modalApprovalSuggestion')[_0x45e932(0x202)](_0x45e932(0x223)),NotificationCenter();},'error':function(_0x2f9bae){var _0x144fb1=_0x46787e;console[_0x144fb1(0x195)](JSON['stringify'](_0x2f9bae)),_0xb2d146[_0x144fb1(0x226)](_0x2f9bae);}}),_0xb2d146[_0x46787e(0x1a4)]();};var listName=a0_0xed3e7a(0x1e1),itemType=GetItemTypeForListName(listName);ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x16b)]=function GetItemTypeForListName(_0x2299d3){var _0x293165=a0_0xed3e7a;return _0x293165(0x235)+_0x2299d3[_0x293165(0x24c)](0x0)['toUpperCase']()+_0x2299d3[_0x293165(0x168)]('\x20')[_0x293165(0x215)]('')[_0x293165(0x230)](0x1)+'ListItem';},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x239)]=function UpdateListItem(){var _0x419fd1=a0_0xed3e7a,_0x1ea654=this,_0x17e1b5=_0x1ea654[_0x419fd1(0x190)][_0x419fd1(0x240)](),_0x539d58=_0x1ea654[_0x419fd1(0x22c)]['val'](),_0x14cd00={'__metadata':{'type':itemType},'Title':_0x17e1b5,'Suggestion':_0x539d58};$[_0x419fd1(0x23c)]({'url':_0x1ea654['SiteURL']+_0x419fd1(0x1ad)+_0x1ea654[_0x419fd1(0x201)]+')','type':'POST','contentType':_0x419fd1(0x21b),'data':JSON[_0x419fd1(0x214)](_0x14cd00),'headers':{'accept':_0x419fd1(0x21b),'X-RequestDigest':$(_0x419fd1(0x1eb))['val'](),'IF-MATCH':'*','X-HTTP-Method':_0x419fd1(0x1e4)},'success':function(_0x527da7){var _0x332d34=_0x419fd1;alert(_0x332d34(0x1c1)),objViewSuggestions[_0x332d34(0x236)](),$(_0x332d34(0x1ec))[_0x332d34(0x202)]('hide');},'error':function(_0x13f777){var _0x1c3513=_0x419fd1;alert(_0x1c3513(0x24a));}});},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x158)]=function FormValidation_Suggestion(){var _0xb12526=a0_0xed3e7a,_0x5d7326=this,_0x4ef9d3=_0x5d7326[_0xb12526(0x190)][_0xb12526(0x240)](),_0x29ed74=_0x5d7326[_0xb12526(0x22c)][_0xb12526(0x240)]();if($['trim'](_0x4ef9d3)=='')return alert(_0xb12526(0x180)),_0x4ef9d3[_0xb12526(0x243)](),![];else{if($['trim'](_0x29ed74)=='')return alert(_0xb12526(0x247)),_0x29ed74[_0xb12526(0x243)](),![];}return!![];},ViewSuggestions[a0_0xed3e7a(0x1b1)]['DeleteSuggestion']=function DeleteSuggestion(_0xa2d999){var _0x1b16e3=a0_0xed3e7a,_0x38701a=this,_0x488528='Suggestions';if(objViewSuggestions['CheckSuggestion'](_0xa2d999)==![])return alert(_0x1b16e3(0x208)),![];var _0x5a94e6=confirm('Are\x20you\x20sure\x20to\x20delete\x20this\x20item?');if(_0x5a94e6){var _0x10d3a6=_0x38701a['SiteURL']+_0x1b16e3(0x196)+_0x488528+_0x1b16e3(0x21a)+_0xa2d999+')';$['ajax']({'url':_0x10d3a6,'type':_0x1b16e3(0x22a),'headers':{'accept':_0x1b16e3(0x21b),'X-RequestDigest':$(_0x1b16e3(0x1eb))[_0x1b16e3(0x240)](),'IF-MATCH':'*'},'success':function(_0x2ddc02){var _0x53c1ed=_0x1b16e3;alert('Suggestion\x20deleted\x20successfully.'),objViewSuggestions[_0x53c1ed(0x218)](_0xa2d999)[_0x53c1ed(0x20a)](function(_0xf5f062){var _0x522ad2=_0x53c1ed;objViewSuggestions[_0x522ad2(0x1b9)](_0xf5f062);}),objViewSuggestions[_0x53c1ed(0x236)]();},'error':function(_0x4d72d8){var _0x10e4db=_0x1b16e3;console[_0x10e4db(0x195)](_0x4d72d8);}});}},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x1b9)]=function DeleteApprovalTaskListItem(_0x1f7b64){var _0x340f66=a0_0xed3e7a,_0x795e7=this,_0x1617d1=_0x340f66(0x163),_0x8b10b6=_spPageContextInfo['webAbsoluteUrl']+_0x340f66(0x196)+_0x1617d1+_0x340f66(0x21a)+_0x1f7b64+')';$[_0x340f66(0x23c)]({'url':_0x8b10b6,'type':_0x340f66(0x22a),'headers':{'accept':_0x340f66(0x21b),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x340f66(0x240)](),'IF-MATCH':'*'},'success':function(_0x3a1fd4){},'error':function(_0x2e5aee){var _0x4fd061=_0x340f66;console[_0x4fd061(0x195)](_0x2e5aee);}});},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x218)]=function GetApprovalTaskListItem(_0x2c3916){var _0x13bbad=a0_0xed3e7a,_0x3ef061=this,_0x167dae=$[_0x13bbad(0x20c)](),_0x1eb670=titanForWork[_0x13bbad(0x1a8)](_0x13bbad(0x156)),_0x5231bd=titanForWork[_0x13bbad(0x1a8)](_0x13bbad(0x1f7)),_0xc46285=_spPageContextInfo['webAbsoluteUrl']+_0x13bbad(0x204)+_0x5231bd+_0x13bbad(0x1bd)+_0x1eb670+_0x13bbad(0x177)+_0x2c3916+'';return $[_0x13bbad(0x23c)]({'url':_0xc46285,'type':_0x13bbad(0x1a0),'async':![],'headers':{'Accept':'application/json;odata=verbose'},'success':function(_0x45e5b5){var _0x43fc96=_0x13bbad,_0x340caf=_0x45e5b5['d'][_0x43fc96(0x186)];if(_0x340caf[_0x43fc96(0x18f)]>0x0){var _0x50550b=_0x340caf[0x0]['ID'];_0x167dae[_0x43fc96(0x1c3)](_0x50550b);}else _0x167dae[_0x43fc96(0x1c3)](0x0);},'error':function(_0x29e40e){var _0x11d8d8=_0x13bbad;console[_0x11d8d8(0x195)](_0x29e40e),_0x167dae['reject'](_0x29e40e);}}),_0x167dae;},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x169)]=function CheckSuggestion(_0x5080f8){var _0x43a1ac=a0_0xed3e7a,_0x3b6b20=this,_0x1386c0=!![],_0x3ac2ae=$['Deferred'](),_0x1700bb=_0x3b6b20[_0x43a1ac(0x1e5)]+_0x43a1ac(0x1ba)+_0x5080f8+'\x27';return $['ajax']({'url':_0x1700bb,'headers':{'Accept':_0x43a1ac(0x21b)},'async':![],'success':function(_0x4bf912){var _0x5ea512=_0x43a1ac,_0x3550c5=_0x4bf912['d'][_0x5ea512(0x186)],_0xd24dc5=_0x5ea512(0x229);for(var _0x48ab6c=0x0;_0x48ab6c<_0x3550c5[_0x5ea512(0x18f)];_0x48ab6c++){var _0x40eeac=_0x3550c5[_0x48ab6c]['ID'],_0xfe6aa=!![],_0xfe6aa=_0x3550c5[_0x48ab6c][_0xd24dc5];_0xfe6aa==!![]&&(Status=_0x5ea512(0x1a3),_0x1386c0=![]);}},'eror':function(_0x1f9616){var _0x57d7a3=_0x43a1ac;console[_0x57d7a3(0x195)](_0x57d7a3(0x24a));}}),_0x1386c0;},ViewSuggestions[a0_0xed3e7a(0x1b1)][a0_0xed3e7a(0x16b)]=function GetItemTypeForListName(_0x3d5224){var _0x54540e=a0_0xed3e7a;return _0x54540e(0x235)+_0x3d5224['charAt'](0x0)[_0x54540e(0x1c7)]()+_0x3d5224['split']('\x20')['join']('')['slice'](0x1)+_0x54540e(0x220);},$(document)[a0_0xed3e7a(0x1e8)](function(){var _0x2cfd4f=a0_0xed3e7a;getTechAdminPermissions();var _0x319833=this;objViewSuggestions=new ViewSuggestions();decodeDepartment!=null?OwnURL=titanForWork[_0x2cfd4f(0x1a8)](_0x2cfd4f(0x1e3))+_0x2cfd4f(0x17f)+deCodeCategory+_0x2cfd4f(0x192)+decodeDepartment+_0x2cfd4f(0x15c)+userId+_0x2cfd4f(0x16d):OwnURL=titanForWork[_0x2cfd4f(0x1a8)](_0x2cfd4f(0x1e3))+_0x2cfd4f(0x19a)+userId+_0x2cfd4f(0x1b4);getDepartment(),bindEvent(),initializePeoplePicker(_0x2cfd4f(0x249),!![]),objViewSuggestions['InitializeControls'](),objViewSuggestions[_0x2cfd4f(0x1aa)](),GetCategory();var _0x34a40d=_spPageContextInfo['webServerRelativeUrl']+_0x2cfd4f(0x225)+titanForWork[_0x2cfd4f(0x1a8)](_0x2cfd4f(0x1f7))+_0x2cfd4f(0x1e7);$(_0x2cfd4f(0x228))[_0x2cfd4f(0x191)](_0x2cfd4f(0x1b6),_0x34a40d);var _0x31cd06=_spPageContextInfo[_0x2cfd4f(0x212)]+_0x2cfd4f(0x225)+titanForWork[_0x2cfd4f(0x1a8)](_0x2cfd4f(0x1f7))+_0x2cfd4f(0x1dc);$(_0x2cfd4f(0x1ee))['attr'](_0x2cfd4f(0x1b6),_0x31cd06);var _0x39fecf=_spPageContextInfo['webServerRelativeUrl']+_0x2cfd4f(0x225)+titanForWork[_0x2cfd4f(0x1a8)](_0x2cfd4f(0x1f7))+'&Type=Activities&sourcelocation=../Pages/ViewSuggestions.aspx';$(_0x2cfd4f(0x1d9))[_0x2cfd4f(0x191)](_0x2cfd4f(0x1b6),_0x39fecf),$(_0x2cfd4f(0x18a))['click'](function(){var _0xc894a8=_0x2cfd4f;window[_0xc894a8(0x197)][_0xc894a8(0x16f)]($[_0xc894a8(0x18b)](_0xc894a8(0x245)));});});function FilterTable(){var _0x3afc41=a0_0xed3e7a;$(_0x3afc41(0x18d))[_0x3afc41(0x202)]();}function DeleteActivity(_0x2a28b6){var _0x440860=a0_0xed3e7a;confirm(_0x440860(0x227))&&$['ajax']({'url':titanForWork[_0x440860(0x1a8)](_0x440860(0x1e3))+'/_api/web/lists/GetByTitle(\x27Activity\x27)/items('+_0x2a28b6+')','type':_0x440860(0x1e6),'headers':{'X-RequestDigest':$(_0x440860(0x1eb))[_0x440860(0x240)](),'IF-MATCH':'*','X-HTTP-Method':'DELETE'},'success':function(_0x264844,_0x2be158,_0x53c975){var _0x1a2d6c=_0x440860;alert(_0x1a2d6c(0x22e)),objViewSuggestions[_0x1a2d6c(0x236)]();},'error':function(_0x590581,_0x3452d1,_0x49ac45){var _0x1add84=_0x440860;$(_0x1add84(0x1a2))[_0x1add84(0x166)]()[_0x1add84(0x1f3)](data[_0x1add84(0x1bf)][_0x1add84(0x200)]);}});}function GetCategory(){var _0x1c5ce3=a0_0xed3e7a,_0x38c403=_spPageContextInfo[_0x1c5ce3(0x1cf)]+_0x1c5ce3(0x1f0);$[_0x1c5ce3(0x23c)]({'url':_0x38c403,'headers':{'Accept':_0x1c5ce3(0x21b)},'async':![],'success':function(_0x2f3467){var _0x4bba88=_0x1c5ce3,_0xf66cca=_0x2f3467['d']['results'];if(_0xf66cca[_0x4bba88(0x18f)]>0x0){$(_0x4bba88(0x159))['append']($(_0x4bba88(0x1f6))[_0x4bba88(0x240)](_0x4bba88(0x1ed))[_0x4bba88(0x1f3)](_0x4bba88(0x1ed))),$(_0x4bba88(0x159))[_0x4bba88(0x1a1)]($('<option\x20\x20\x20\x20\x20/>')[_0x4bba88(0x240)](_0x4bba88(0x21f))[_0x4bba88(0x1f3)](_0x4bba88(0x21f))),$(_0x4bba88(0x159))[_0x4bba88(0x1a1)]($(_0x4bba88(0x1f6))[_0x4bba88(0x240)]('Suggestion')['text'](_0x4bba88(0x22c)));for(i=0x0;i<_0xf66cca[_0x4bba88(0x18f)];i++){$(_0x4bba88(0x159))['append']($(_0x4bba88(0x1f6))[_0x4bba88(0x240)](_0xf66cca[i][_0x4bba88(0x164)])[_0x4bba88(0x1f3)](_0xf66cca[i][_0x4bba88(0x164)]));}}},'eror':function(_0x36b412){var _0x34036b=_0x1c5ce3;console[_0x34036b(0x195)](_0x36b412);}});}function ViewActivityinmodel(_0x4645ec){var _0x390d14=a0_0xed3e7a,_0x4f9a41=titanForWork[_0x390d14(0x1a8)]('CompanySiteUrl')+_0x390d14(0x1c2)+_0x4645ec+_0x390d14(0x174);$['ajax']({'url':_0x4f9a41,'headers':{'Accept':_0x390d14(0x21b)},'async':![],'success':function(_0x41e315){var _0x3fd80f=_0x390d14,_0x2c7738=_0x41e315['d'][_0x3fd80f(0x186)],_0x2efaab=$(_0x3fd80f(0x1a7));_0x2efaab[_0x3fd80f(0x166)]();if(_0x2c7738[_0x3fd80f(0x18f)]>0x0){$('#txtTitle')[_0x3fd80f(0x1f3)](_0x2c7738[0x0][_0x3fd80f(0x190)]),$('#txtSuggestion')[_0x3fd80f(0x21d)](_0x2c7738[0x0]['Suggestions']),$('#Act_Category_lists')['text'](_0x2c7738[0x0][_0x3fd80f(0x248)]),$(_0x3fd80f(0x18e))[_0x3fd80f(0x1f3)](_0x2c7738[0x0][_0x3fd80f(0x178)]);var _0x25c08f=_0x2c7738[0x0]['AttachmentFiles']['results']['length'];if(_0x25c08f>0x0){var _0x3c7342=_0x3fd80f(0x1fb);for(var _0x54eceb=0x0;_0x54eceb<_0x25c08f;_0x54eceb++){_0x3c7342+='<th\x20scope=\x22row\x22\x20class=\x27attachment-chip\x27><i\x20class=\x27fa\x20fa-paperclip\x27\x20style=\x27color:red\x27></i><a\x20\x20target=\x27_blank\x27\x20href=\x27'+_0x2c7738[0x0][_0x3fd80f(0x222)]['results'][_0x54eceb]['ServerRelativeUrl']+_0x3fd80f(0x181)+_0x2c7738[0x0][_0x3fd80f(0x222)][_0x3fd80f(0x186)][_0x54eceb][_0x3fd80f(0x173)]+_0x3fd80f(0x172),_0x3c7342+=_0x3fd80f(0x170);}$('#oldfilename')['append'](_0x3c7342);}}},'error':function(_0x2147dc){var _0x145651=_0x390d14;alert(_0x145651(0x1bb));}});}function getDepartment(){var _0x21ddb6=a0_0xed3e7a,_0x56ed59=$['Deferred'](),_0x355d30=titanForWork[_0x21ddb6(0x1a8)](_0x21ddb6(0x1f7)),_0x2596d2;_0x2596d2=_spPageContextInfo[_0x21ddb6(0x1cf)]+_0x21ddb6(0x16a)+_0x355d30+'\x27',$[_0x21ddb6(0x23c)]({'url':_0x2596d2,'headers':{'accept':_0x21ddb6(0x21b),'X-RequestDigest':$(_0x21ddb6(0x1eb))[_0x21ddb6(0x240)](),'IF-MATCH':'*'},'async':![],'success':function(_0x4cbda4){var _0x34a5ae=_0x21ddb6;debugger;var _0x59c330=_0x4cbda4['d'][_0x34a5ae(0x186)];$(_0x34a5ae(0x1ca))['append']($(_0x34a5ae(0x1f6))[_0x34a5ae(0x240)](_0x34a5ae(0x1ed))[_0x34a5ae(0x1f3)](_0x34a5ae(0x1ed)));for(var _0x397674=0x0;_0x397674<_0x59c330[_0x34a5ae(0x18f)];_0x397674++){debugger;$('#ddlDepartment')[_0x34a5ae(0x1a1)]($(_0x34a5ae(0x1f6))[_0x34a5ae(0x240)](_0x59c330[_0x397674][_0x34a5ae(0x17b)])[_0x34a5ae(0x1f3)](_0x59c330[_0x397674][_0x34a5ae(0x17b)]));}},'eror':function(_0x16e6a5){var _0x4bb55d=_0x21ddb6;alert(_0x4bb55d(0x200));}});}function initializePeoplePicker(_0x106c82){var _0x579366=a0_0xed3e7a,_0x3dd02d={};_0x3dd02d[_0x579366(0x232)]='User',_0x3dd02d[_0x579366(0x1f8)]=0xf,_0x3dd02d[_0x579366(0x1ef)]=0xf,_0x3dd02d[_0x579366(0x176)]=![],_0x3dd02d[_0x579366(0x16e)]=0x32,this[_0x579366(0x162)](_0x106c82,null,_0x3dd02d);}function getPeopleUserInfoGroups(_0x196f6d){var _0x67f010=a0_0xed3e7a,_0xad0c3d=new Array(),_0x3c4dab=$(_0x67f010(0x17a)+_0x196f6d+'\x27]'),_0x124d8d=SPClientPeoplePicker[_0x67f010(0x160)][_0x3c4dab[0x1]['id']],_0x5385c2=_0x124d8d[_0x67f010(0x22d)]();if(_0x5385c2[_0x67f010(0x18f)]>0x0)for(var _0x576be7=0x0;_0x576be7<_0x5385c2['length'];_0x576be7++){_0xad0c3d[_0x67f010(0x188)](GetUserIdd(_0x5385c2[_0x576be7][_0x67f010(0x24e)]));}return _0xad0c3d;}function a0_0x1ca3(_0x591633,_0x396af8){var _0x2397f6=a0_0x2397();return a0_0x1ca3=function(_0x1ca326,_0x45fb5e){_0x1ca326=_0x1ca326-0x155;var _0x309b8c=_0x2397f6[_0x1ca326];return _0x309b8c;},a0_0x1ca3(_0x591633,_0x396af8);}function GetUserIdd(_0x584c37){var _0x568019=a0_0xed3e7a,_0x33a066={'logonName':_0x584c37},_0x4cf899=$[_0x568019(0x23c)]({'url':_spPageContextInfo[_0x568019(0x17d)]+'/_api/web/ensureuser','type':_0x568019(0x1e6),'async':![],'contentType':'application/json;odata=verbose','data':JSON[_0x568019(0x214)](_0x33a066),'headers':{'Accept':'application/json;odata=verbose','X-RequestDigest':$(_0x568019(0x1eb))[_0x568019(0x240)]()},'success':function(_0xed95c0){return _0xed95c0['d']['Id'];},'error':function(_0x56bfd3){}});return _0x4cf899['responseJSON']['d']['Id']+',';}function changeActivityStatus(_0x46584c){var _0x1b5032=a0_0xed3e7a;if(confirm(_0x1b5032(0x227))){var _0x26bff9='Activity',_0x173095=titanForWork['getQueryStringParameter']('CompanySiteUrl')+_0x1b5032(0x20b)+_0x26bff9+'\x27)/Items('+_0x46584c+')';$[_0x1b5032(0x23c)]({'url':_0x173095,'type':'POST','async':![],'data':JSON['stringify']({'__metadata':{'type':_0x1b5032(0x21c)},'ApprovalStatus':_0x1b5032(0x198),'ApprovarName':_spPageContextInfo['userDisplayName'],'Active':![]}),'headers':{'accept':_0x1b5032(0x21b),'X-RequestDigest':$(_0x1b5032(0x1eb))[_0x1b5032(0x240)](),'content-Type':_0x1b5032(0x21b),'X-Http-Method':'PATCH','If-Match':'*'},'success':function(_0x58e75f,_0x2da876,_0x39837b){var _0x2d68e5=_0x1b5032;alert(_0x2d68e5(0x1bc));},'error':function(_0x40d625){var _0x2e6116=_0x1b5032;console[_0x2e6116(0x195)](_0x40d625);}});}}
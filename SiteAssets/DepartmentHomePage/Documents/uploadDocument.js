var a0_0x129cdb=a0_0xefd3;(function(_0x219b74,_0x594dab){var _0x199f07=a0_0xefd3,_0x56029f=_0x219b74();while(!![]){try{var _0x17d9ad=parseInt(_0x199f07(0x19b))/0x1*(-parseInt(_0x199f07(0x17e))/0x2)+parseInt(_0x199f07(0x198))/0x3*(-parseInt(_0x199f07(0x244))/0x4)+parseInt(_0x199f07(0x1df))/0x5*(-parseInt(_0x199f07(0x201))/0x6)+parseInt(_0x199f07(0x1f9))/0x7*(parseInt(_0x199f07(0x260))/0x8)+parseInt(_0x199f07(0x24a))/0x9*(parseInt(_0x199f07(0x249))/0xa)+-parseInt(_0x199f07(0x275))/0xb*(-parseInt(_0x199f07(0x19a))/0xc)+parseInt(_0x199f07(0x248))/0xd;if(_0x17d9ad===_0x594dab)break;else _0x56029f['push'](_0x56029f['shift']());}catch(_0x155206){_0x56029f['push'](_0x56029f['shift']());}}}(a0_0xa93c,0x6a58c));var FinalFiles4Upload=[],finalFiles=[],TotalSize=0x0,DocUrlCollection=[],bytesToMegaBytes=_0x1cd64b=>_0x1cd64b/0x400**0x2;$(document)[a0_0x129cdb(0x265)](function(){var _0x55f6ea=a0_0x129cdb;ChangeLabels(),$(_0x55f6ea(0x1c5))[_0x55f6ea(0x179)](_0x55f6ea(0x290)),$(_0x55f6ea(0x1b8))[_0x55f6ea(0x237)](function(){cleartext();}),$(_0x55f6ea(0x204))[_0x55f6ea(0x237)](function(_0x130fca){var _0x51d1de=_0x55f6ea;this[_0x51d1de(0x241)]==!![]?($(_0x51d1de(0x196))[_0x51d1de(0x1eb)](),$(_0x51d1de(0x1c9))['show'](),$('#astTitle')[_0x51d1de(0x1eb)]()):($('#txtFileTitle')[_0x51d1de(0x189)](),$(_0x51d1de(0x1c9))['hide'](),currentSectionType!='My\x20Documents'&&(jQuery[_0x51d1de(0x22c)]('Title',arrMandatoryCols)!='-1'&&$(_0x51d1de(0x21b))[_0x51d1de(0x189)]()));}),$(_0x55f6ea(0x23b))[_0x55f6ea(0x252)]({'changeMonth':!![],'changeYear':!![],'minDate':new Date()}),$(_0x55f6ea(0x23b))[_0x55f6ea(0x252)](_0x55f6ea(0x215),_0x55f6ea(0x25f),_0x55f6ea(0x281)),$(_0x55f6ea(0x214))[_0x55f6ea(0x237)](function(){var _0x1bb67c=_0x55f6ea;$(_0x1bb67c(0x220))[_0x1bb67c(0x242)](_0x1bb67c(0x241),!![]),$(_0x1bb67c(0x220))[_0x1bb67c(0x242)](_0x1bb67c(0x1dc),''),$('#chkUploadNew')['prop'](_0x1bb67c(0x1dc),''),$(_0x1bb67c(0x194))[_0x1bb67c(0x189)](),$(_0x1bb67c(0x233))[_0x1bb67c(0x1eb)]();}),$('#chkNotUpload')[_0x55f6ea(0x237)](function(){var _0x63fdcb=_0x55f6ea;$(_0x63fdcb(0x214))[_0x63fdcb(0x277)](_0x63fdcb(0x241),''),$(_0x63fdcb(0x220))[_0x63fdcb(0x242)](_0x63fdcb(0x241),![]),$('#chkKeepExist')[_0x63fdcb(0x242)](_0x63fdcb(0x1dc),'disabled'),$('#chkUploadNew')[_0x63fdcb(0x242)]('disabled',_0x63fdcb(0x1dc)),$('.replaceOptions')[_0x63fdcb(0x1eb)](),$(_0x63fdcb(0x20a))[_0x63fdcb(0x242)]('checked',![]),$('.RenameandUpload')[_0x63fdcb(0x1eb)]();}),$('#AttachmentUploadField')['on'](_0x55f6ea(0x284),function(_0x53cc89){var _0x539dca=_0x55f6ea;FinalFiles4Upload=[];var _0x590326=this[_0x539dca(0x183)][_0x539dca(0x16f)],_0x37c96f=0x0;$[_0x539dca(0x279)](this[_0x539dca(0x183)],function(_0x1ae5e7,_0x321f08){var _0x3ba03b=_0x539dca;if(finalFiles[_0x3ba03b(0x1cf)](_0x9213e0=>_0x9213e0[_0x3ba03b(0x28e)]===_0x321f08['name'])[_0x3ba03b(0x16f)]==0x0){var _0x325dc5=_0x321f08[_0x3ba03b(0x28e)][_0x3ba03b(0x177)]('.');_0x325dc5=_0x325dc5[_0x325dc5[_0x3ba03b(0x16f)]-0x1];var _0x50333c=returnExtension(_0x325dc5);if(_0x50333c==!![])return alert(_0x325dc5+_0x3ba03b(0x182)),![];finalFiles[finalFiles['length']]=_0x321f08;}});FinalFiles4Upload[_0x539dca(0x16f)]==0x0&&($('#txtUploadFiles')[_0x539dca(0x1d6)](''),$(_0x539dca(0x17a))[_0x539dca(0x1eb)]());finalFiles=ReinitializeArray(finalFiles),$(_0x539dca(0x17a))['empty'](),FinalFiles4Upload=FinalFiles4Upload[_0x539dca(0x172)](finalFiles);var _0x593862='',_0x1e7da0=$('#txtUploadFiles')[_0x539dca(0x1ff)](_0x539dca(0x1ba))[_0x539dca(0x16f)];for(_0x37c96f;_0x37c96f<finalFiles[_0x539dca(0x16f)];_0x37c96f++){$(_0x539dca(0x17a))['show'](),finalFiles[_0x37c96f][_0x539dca(0x28e)]['length']>0xf?(_0x1e7da0=_0x1e7da0+0x1,_0x593862=finalFiles[_0x37c96f][_0x539dca(0x28e)][_0x539dca(0x18c)](0x0,0xf)+_0x539dca(0x28f),$(_0x539dca(0x17a))[_0x539dca(0x1d1)](_0x539dca(0x1e2)+finalFiles[_0x37c96f]['name']+_0x539dca(0x1ed)+_0x1e7da0+_0x539dca(0x274)+_0x593862+'&nbsp;&nbsp;<span\x20class=\x22fa\x20fa-close\x20fa-lg\x20closeBtn\x20DeletePic\x22\x20style=\x22color:red;\x22\x20\x20onclick=\x22removeLine(this.id,\x20\x27'+finalFiles[_0x37c96f][_0x539dca(0x28e)]+_0x539dca(0x23e)+_0x1e7da0+_0x539dca(0x285))):$(_0x539dca(0x17a))[_0x539dca(0x1d1)]('<div\x20class=\x22NewFileUpload\x22\x20title=\x22'+finalFiles[_0x37c96f][_0x539dca(0x28e)]+'\x22\x20id=\x22file_'+_0x1e7da0+_0x539dca(0x274)+finalFiles[_0x37c96f][_0x539dca(0x28e)]+_0x539dca(0x1ab)+finalFiles[_0x37c96f]['name']+_0x539dca(0x23e)+_0x1e7da0+_0x539dca(0x285));}$(_0x539dca(0x181))[_0x539dca(0x179)]('');}),$(_0x55f6ea(0x203))['click'](function(){var _0xd48342=_0x55f6ea;$(_0xd48342(0x214))['attr']('checked',''),$('#chkKeepExist')['prop'](_0xd48342(0x241),![]),$(_0xd48342(0x220))[_0xd48342(0x242)]('disabled',_0xd48342(0x1dc)),$(_0xd48342(0x20a))[_0xd48342(0x242)](_0xd48342(0x1dc),_0xd48342(0x1dc)),$(_0xd48342(0x194))[_0xd48342(0x1eb)](),$(_0xd48342(0x20a))[_0xd48342(0x242)](_0xd48342(0x241),![]),$(_0xd48342(0x233))[_0xd48342(0x189)]();}),$('#ddlFileType')[_0x55f6ea(0x284)](function(){var _0xaed63d=_0x55f6ea;getSubCategory(this['value'],_0xaed63d(0x173));}),$(_0x55f6ea(0x24e))[_0x55f6ea(0x237)](function(){var _0x5df48e=_0x55f6ea;if(uploadPermission==![])return alert(_0x5df48e(0x269)),$(_0x5df48e(0x24b))[_0x5df48e(0x26e)](_0x5df48e(0x1eb)),![];if(checkFileSize()==!![])saveAttachment();else{if(confirm(_0x5df48e(0x267)+TotalSize+_0x5df48e(0x25d))==!![])$(_0x5df48e(0x24b))[_0x5df48e(0x26e)]('hide'),OpenLargeUpload();else return $(_0x5df48e(0x24b))['modal']('hide'),![];}}),bindCategory(),$('#expiredon')['click'](function(){var _0x410f3c=_0x55f6ea;$('#txtUpdateValidity')[_0x410f3c(0x189)]();}),$(_0x55f6ea(0x27c))[_0x55f6ea(0x237)](function(){var _0x480586=_0x55f6ea;$(_0x480586(0x23b))[_0x480586(0x1eb)](),$('#txtUpdateValidity')['val']('');}),$(_0x55f6ea(0x251))[_0x55f6ea(0x237)](function(){ShareFileValidation()==!![]&&shareFileMulti();});});function checkFileSize(){var _0x164360=a0_0x129cdb;TotalSize=0x0;for(var _0x48156f=0x0;_0x48156f<FinalFiles4Upload[_0x164360(0x16f)];_0x48156f++){TotalSize+=parseFloat(bytesToMegaBytes(FinalFiles4Upload[_0x48156f]['size'])[_0x164360(0x22f)](0x2));}return TotalSize>0x12c?![]:!![];}function saveAttachment(){var _0x356c26=a0_0x129cdb;if($(_0x356c26(0x18e))[_0x356c26(0x179)]()==_0x356c26(0x27a))return alert(_0x356c26(0x1ac)),![];if($(_0x356c26(0x203))[_0x356c26(0x242)](_0x356c26(0x241))==!![]&&$('#txtNamePostfix')[_0x356c26(0x179)]()[_0x356c26(0x1bf)]()=='')return alert(_0x356c26(0x1e8)),![];if($(_0x356c26(0x286))['prop'](_0x356c26(0x241))&&$(_0x356c26(0x23b))['val']()==''){alert('Kindly\x20enter\x20expiry\x20date.');return;}if(new Date()>new Date($(_0x356c26(0x23b))[_0x356c26(0x179)]()))return alert('Expiry\x20date\x20should\x20me\x20greater\x20than\x20today.'),![];if($(_0x356c26(0x17a))[_0x356c26(0x1d6)]()[_0x356c26(0x1bf)]()=='')return alert(_0x356c26(0x1d7)),![];else{waitingDialog[_0x356c26(0x189)](),FailDueToCheckOut=0x0;for(var _0x242a8a=0x0;_0x242a8a<FinalFiles4Upload['length'];_0x242a8a++){var _0x43ead5=$(_0x356c26(0x18a))[_0x356c26(0x179)](),_0x50bfa9=_0x356c26(0x1a4);UploadFile(_0x50bfa9,FinalFiles4Upload[_0x242a8a],_0x43ead5,_0x242a8a);}FailDueToCheckOut==FinalFiles4Upload[_0x356c26(0x16f)]&&(waitingDialog['hide'](),alert(_0x356c26(0x253)),$('#myModalupload')['modal']('hide'));}}var FailDueToCheckOut=0x0;function UploadFile(_0x50f63c,_0x5c5508,_0x295c78,_0x1e1d80){var _0x191da9=a0_0x129cdb,_0x3f8c01=_0x5c5508[_0x191da9(0x28e)],_0x419b87=[];if($(_0x191da9(0x220))['is'](':checked')==!![])IsFileCheckout(_0x50f63c,_0x3f8c01,_0x295c78,_0x191da9(0x1a8))==!![]?FailDueToCheckOut++:(_0x419b87=IsFileExist(_0x50f63c,_0x3f8c01,_0x295c78),uploadDocuments(_0x50f63c,_0x5c5508,_0x295c78,_0x419b87,_0x1e1d80));else{if($(_0x191da9(0x20a))['is'](_0x191da9(0x247))==!![])IsFileCheckout(_0x50f63c,_0x3f8c01,_0x295c78,'Upload')==!![]?FailDueToCheckOut++:(_0x419b87=[],uploadDocuments(_0x50f63c,_0x5c5508,_0x295c78,_0x419b87,_0x1e1d80));else{if($('#chkNotUpload')['is'](_0x191da9(0x247))==!![])_0x419b87=IsFileExist(_0x50f63c,_0x3f8c01,_0x295c78),_0x419b87[_0x191da9(0x16f)]==0x0?uploadDocuments(_0x50f63c,_0x5c5508,_0x295c78,_0x419b87,_0x1e1d80):FinalFiles4Upload['length']==_0x1e1d80+0x1+FailDueToCheckOut&&(DocUrlCollection=[],FailDueToCheckOut==0x0?(alert(_0x191da9(0x1e6)),reloadDocument()):(alert(FailDueToCheckOut+_0x191da9(0x24f)),reloadDocument()),waitingDialog[_0x191da9(0x1eb)](),$('#myModalupload')['modal'](_0x191da9(0x1eb)));else{if($(_0x191da9(0x203))['is'](_0x191da9(0x247))==!![])IsFileCheckout(_0x50f63c,_0x3f8c01,_0x295c78,'Upload')==!![]?FailDueToCheckOut++:(_0x419b87=IsFileExist(_0x50f63c,_0x3f8c01,_0x295c78),uploadDocuments(_0x50f63c,_0x5c5508,_0x295c78,_0x419b87,_0x1e1d80));else{}}}}}function IsFileCheckout(_0x58ef20,_0x509141,_0x4115e0,_0x295069){var _0x403785=a0_0x129cdb,_0x530188='',_0x4a636d='/'+_0x4115e0['substring'](_0x4115e0[_0x403785(0x230)]('/s')+0x1),_0xf44d3d=_0x4a636d+'/'+_0x58ef20+_0x509141,_0x69ef01=_0x4115e0+_0x403785(0x170)+_0xf44d3d+_0x403785(0x1a1);return $['ajax']({'url':_0x69ef01,'type':_0x403785(0x26d),'async':![],'headers':{'Accept':_0x403785(0x1c1)},'success':function(_0x45d52d,_0x53bf7b,_0x518e5e){var _0x57fa2a=_0x403785;_0x295069=='Upload'?_0x45d52d['d']['Email'][_0x57fa2a(0x1a0)]()==_spPageContextInfo[_0x57fa2a(0x1dd)][_0x57fa2a(0x1a0)]()?_0x530188=![]:_0x530188=!![]:_0x530188=!![];},'error':function(_0xf41a29,_0x5d75d1,_0x3450b6){_0x530188=![];}}),_0x530188;}function IsFileExist(_0x413ca8,_0x4023ea,_0x4dd77b){var _0x1b1f75=a0_0x129cdb,_0x49482d='/'+_0x4dd77b[_0x1b1f75(0x18c)](_0x4dd77b[_0x1b1f75(0x230)]('/s')+0x1),_0x435271=_0x49482d+'/'+_0x413ca8+_0x4023ea,_0x44c883=[];return jQuery['ajax']({'url':_0x4dd77b+_0x1b1f75(0x200)+_0x435271+_0x1b1f75(0x28a)+'ListItemAllFields/DocumentType,ListItemAllFields/SharedId,ListItemAllFields/DocumentWrittenBy,ListItemAllFields/PermissionLevel,ListItemAllFields/PermissionLevelId,ListItemAllFields/Regarding,ListItemAllFields/SecurityLevel,ListItemAllFields/Title','type':_0x1b1f75(0x26d),'async':![],'headers':{'accept':_0x1b1f75(0x1c1)},'success':function(_0x491bc8){var _0x5b5fcc=_0x1b1f75;_0x44c883=_0x491bc8['d'][_0x5b5fcc(0x231)];},'error':function(_0x5a0cee){var _0x373cd8=_0x1b1f75;_0x5a0cee['status']==0x194?console['log'](_0x4023ea+'\x20file\x20doesnt\x20exist'):waitingDialog[_0x373cd8(0x1eb)]();}}),_0x44c883;}var CheckLibary=a0_0x129cdb(0x259);function uploadDocuments(_0x690e08,_0x5e7dec,_0x5d9920,_0x4ea12c,_0x142363){var _0x5350d2=a0_0x129cdb;url=_0x5d9920+'/_api/contextinfo';var _0xf465d4='';$[_0x5350d2(0x1b2)]({'url':url,'type':_0x5350d2(0x1fc),'headers':{'Accept':_0x5350d2(0x193)},'contentType':_0x5350d2(0x1c1),'success':function(_0x1351c4){var _0x5ba965=_0x5350d2,_0x2996e4=_0x1351c4['d'][_0x5ba965(0x1c8)][_0x5ba965(0x289)],_0x3cb50c='';_0x3cb50c=_0x5ba965(0x259);var _0x1760ad=new FileReader(),_0x5c57a7;_0x1760ad[_0x5ba965(0x1a6)]=function(_0x770c02){var _0x38b053=_0x5ba965;_0x5c57a7=_0x1760ad['result'];var _0x35659f=_spPageContextInfo[_0x38b053(0x176)]+'/'+_0x3cb50c,_0x26f7d3=_0xf465d4=_0x5e7dec[_0x38b053(0x28e)];$(_0x38b053(0x203))['is'](_0x38b053(0x247))==!![]&&_0x4ea12c[_0x38b053(0x16f)]!=0x0&&(_0x26f7d3=_0x5e7dec[_0x38b053(0x28e)]['split']('.')[_0x38b053(0x1af)](0x0,-0x1)[_0x38b053(0x1e7)]('.'),_0x26f7d3=$(_0x38b053(0x22a))['val']()['trim']()+_0x26f7d3+$(_0x38b053(0x225))[_0x38b053(0x179)]()['trim']()+'.'+_0x5e7dec[_0x38b053(0x28e)][_0x38b053(0x18c)](_0x5e7dec[_0x38b053(0x28e)]['lastIndexOf']('.')+0x1));if(checkSpecialCharaters(_0x26f7d3)==!![])_0x26f7d3=_0x26f7d3[_0x38b053(0x20e)](/[&\/\\#,+()$~%'":*?<>{}]/g,'');else{}_0x5d9920!=_spPageContextInfo[_0x38b053(0x256)]&&$['when'](GetFormDigestValue(_0x5d9920))[_0x38b053(0x255)](function(_0x2aa873){RequestDigest=_0x2aa873;});url=_0x5d9920+_0x38b053(0x219)+_0x690e08+_0x38b053(0x175)+_0x26f7d3+'\x27,overwrite=true)?@target=\x27'+_0x35659f+_0x38b053(0x1ee);try{$[_0x38b053(0x1b2)]({'url':url,'type':_0x38b053(0x1fc),'data':_0x5c57a7,'headers':{'Accept':'application/json;\x20odata=verbose','X-RequestDigest':RequestDigest},'contentType':'application/json;odata=verbose','processData':![],'success':function(_0x18bbbb){var _0x366c5c=_0x38b053;RequestDigest=$(_0x366c5c(0x1d0))[_0x366c5c(0x179)]();var _0xc5ad90='',_0x5826f8=_0x18bbbb['d'][_0x366c5c(0x19d)];$(_0x366c5c(0x204))['is'](':checked')==!![]?(_0x5826f8=_0x5826f8[_0x366c5c(0x177)]('.')[_0x366c5c(0x1af)](0x0,-0x1)[_0x366c5c(0x1e7)]('.'),_0xc5ad90=$(_0x366c5c(0x221))['val']()[_0x366c5c(0x1bf)]()+_0x5826f8+$(_0x366c5c(0x26b))['val']()['trim']()):_0xc5ad90=_0x18bbbb['d'][_0x366c5c(0x19d)];var _0x2bb065=_0x18bbbb['d'][_0x366c5c(0x235)],_0x478a0a='';_0x478a0a=_0x18bbbb['d'][_0x366c5c(0x231)][_0x366c5c(0x262)],(_0x478a0a==null||_0x478a0a=='')&&(_0x478a0a=encodeURI(_0x18bbbb['d'][_0x366c5c(0x235)])),_0x18bbbb['d'][_0x366c5c(0x19d)]['includes'](_0x366c5c(0x1ea))==![]&&(_0x478a0a=_0x478a0a[_0x366c5c(0x20e)]('interactivepreview','default&mobileredirect=true')),DocUrlCollection['push']({'FileUrl':_0x478a0a,'FileName':_0x18bbbb['d'][_0x366c5c(0x19d)]}),$[_0x366c5c(0x218)](getTargetIDByUrl(_0x5d9920,_0x18bbbb['d']['ServerRelativeUrl']))[_0x366c5c(0x255)](function(_0x1cb64f){var _0x6a2bc4=_0x366c5c;AddSharedLinkToListOrg(_0x18bbbb['d'][_0x6a2bc4(0x235)],_0x1cb64f,_0xc5ad90),updateDocumentProperties(_0x3cb50c,_0x1cb64f,_0x5d9920,_0x4ea12c,_0x142363,_0xf465d4);});},'error':function(_0x141900){var _0x45d8ad=_0x38b053;return waitingDialog[_0x45d8ad(0x1eb)](),RequestDigest=$('#__REQUESTDIGEST')[_0x45d8ad(0x179)](),_0x141900[_0x45d8ad(0x236)][_0x45d8ad(0x258)](_0x45d8ad(0x1e3))==!![]?(alert(_0x45d8ad(0x22d)+_0x5e7dec[_0x45d8ad(0x28e)]+'.'),![]):(alert(_0x141900[_0x45d8ad(0x236)]),![]);}})[_0x38b053(0x1e4)](function(_0x454049){var _0x21de23=_0x38b053;return waitingDialog['hide'](),RequestDigest=$(_0x21de23(0x1d0))['val'](),_0x454049['responseJSON'][_0x21de23(0x20b)][_0x21de23(0x217)][_0x21de23(0x1c6)][_0x21de23(0x258)]('denied')==!![]?![]:(alert(_0x454049[_0x21de23(0x27e)][_0x21de23(0x20b)]['message'][_0x21de23(0x1c6)]),![]);});}catch(_0x2e5f7a){return waitingDialog['hide'](),RequestDigest=$('#__REQUESTDIGEST')[_0x38b053(0x179)](),console[_0x38b053(0x21e)](_0x2e5f7a),![];}},_0x1760ad['readAsArrayBuffer'](_0x5e7dec);},'error':function(_0x30d5e8){var _0x1bec73=_0x5350d2;return waitingDialog[_0x1bec73(0x1eb)](),RequestDigest=$(_0x1bec73(0x1d0))[_0x1bec73(0x179)](),_0x30d5e8[_0x1bec73(0x236)][_0x1bec73(0x258)]('Access\x20denied')==!![]?(alert(_0x1bec73(0x22d)+_0x5e7dec['name']+'.'),![]):(alert(_0x30d5e8[_0x1bec73(0x236)]),![]);}});}function getSubCategory(_0xcdee7b){var _0x44580f=a0_0x129cdb;$(_0x44580f(0x1fd))[_0x44580f(0x1da)]()[_0x44580f(0x1d1)](_0x44580f(0x21c));var _0x308ec4=_0x44580f(0x1ef)+_0xcdee7b+'\x27\x20';$[_0x44580f(0x218)](getItemsWithQuery(_0x44580f(0x1db),_0x308ec4,_spPageContextInfo[_0x44580f(0x256)]))[_0x44580f(0x255)](function(_0x229ff3){var _0x2cfea7=_0x44580f;if(_0x229ff3[_0x2cfea7(0x16f)]>0x0){_0x229ff3['sort'](function(_0x2b8085,_0x5cd733){var _0x473821=_0x2cfea7,_0x8e31af=_0x2b8085[_0x473821(0x180)]['toLowerCase'](),_0x3f2f13=_0x5cd733[_0x473821(0x180)][_0x473821(0x1a0)]();if(_0x8e31af<_0x3f2f13)return-0x1;if(_0x8e31af>_0x3f2f13)return 0x1;return 0x0;});for(var _0x2e6e00=0x0;_0x2e6e00<_0x229ff3[_0x2cfea7(0x16f)];_0x2e6e00++){$(_0x2cfea7(0x1fd))['append']('<option\x20value=\x22'+_0x229ff3[_0x2e6e00][_0x2cfea7(0x180)]+'\x22>'+_0x229ff3[_0x2e6e00]['Title']+'</option>');}}});}function bindCategory(){var _0x4a55fd=a0_0x129cdb,_0x5c6e26='?$select=CategoryType,CatogeryName&$filter=CategoryType\x20eq\x20\x27Document\x27\x20and\x20Status\x20eq\x20\x27Yes\x27';$['when'](getItemsWithQuery(_0x4a55fd(0x1f6),_0x5c6e26,_spPageContextInfo[_0x4a55fd(0x256)]))[_0x4a55fd(0x255)](function(_0x511063){var _0x3ff720=_0x4a55fd;$('#ddlFileType')[_0x3ff720(0x1d1)](_0x3ff720(0x21c)),_0x511063[_0x3ff720(0x23a)](function(_0x241641,_0x4018f6){var _0x492795=_0x3ff720,_0x23a774=_0x241641[_0x492795(0x22e)][_0x492795(0x1a0)](),_0xbe15a8=_0x4018f6['CatogeryName'][_0x492795(0x1a0)]();if(_0x23a774<_0xbe15a8)return-0x1;if(_0x23a774>_0xbe15a8)return 0x1;return 0x0;});if(_0x511063[_0x3ff720(0x16f)]>0x0)for(var _0x466d12=0x0;_0x466d12<_0x511063[_0x3ff720(0x16f)];_0x466d12++){$(_0x3ff720(0x18e))[_0x3ff720(0x1d1)]('<option\x20value=\x22'+_0x511063[_0x466d12][_0x3ff720(0x22e)]+'\x22>'+_0x511063[_0x466d12][_0x3ff720(0x22e)]+'</option>');}});}function getItemsWithQuery(_0x3e6652,_0x5d50b2,_0x4c3d7c){var _0x1e26d5=a0_0x129cdb,_0x5a0c15=$[_0x1e26d5(0x28b)](),_0x5b9ebf=_0x4c3d7c+_0x1e26d5(0x1bc)+_0x3e6652+_0x1e26d5(0x228)+_0x5d50b2;return $[_0x1e26d5(0x1b2)]({'url':_0x5b9ebf,'type':'GET','async':![],'headers':{'accept':_0x1e26d5(0x1c1)},'success':function(_0x2f11f8){var _0x2aaa5a=_0x1e26d5;_0x5a0c15[_0x2aaa5a(0x17d)](_0x2f11f8['d']['results']);},'error':function(_0x5b4608){var _0xaffe21=_0x1e26d5;_0x5a0c15[_0xaffe21(0x1b6)](_0x5b4608);}}),_0x5a0c15[_0x1e26d5(0x27d)]();}function ReinitializeArray(_0x52c029){var _0x2121ca=a0_0x129cdb,_0xe5a131=[],_0x145c1e=0x0;for(var _0x34dec9=0x0;_0x34dec9<_0x52c029[_0x2121ca(0x16f)];_0x34dec9++){_0xe5a131[_0x145c1e++]=_0x52c029[_0x34dec9];}return _0xe5a131;}function removeLine(_0x1b44e7,_0x1ca1c8){var _0x51ad93=a0_0x129cdb,_0x82d3b4=_0x1b44e7[_0x51ad93(0x177)]('_')[0x1];$('#'+_0x1b44e7)['remove'](),finalFiles=finalFiles[_0x51ad93(0x1cf)](function(_0x1d8c62){return _0x1d8c62['name']!==_0x1ca1c8;}),FinalFiles4Upload=finalFiles,FinalFiles4Upload[_0x51ad93(0x16f)]==0x0&&($(_0x51ad93(0x17a))[_0x51ad93(0x1d6)](''),$('#txtUploadFiles')['hide']()),$(_0x51ad93(0x181))[_0x51ad93(0x179)]('');}function checkSpecialCharaters(_0x4648ff){var _0x45cd1c=a0_0x129cdb,_0x40e781=_0x45cd1c(0x1fe);for(i=0x0;i<_0x40e781[_0x45cd1c(0x16f)];i++){if(_0x4648ff['indexOf'](_0x40e781[i])>-0x1)return!![];}return![];}function GetFormDigestValue(_0x697bf4){var _0x11aa1d=a0_0x129cdb,_0x577296=$[_0x11aa1d(0x28b)]();return $[_0x11aa1d(0x1b2)]({'url':_0x697bf4+_0x11aa1d(0x1c0),'type':_0x11aa1d(0x1fc),'async':![],'headers':{'accept':_0x11aa1d(0x1c1)},'success':function(_0xf7ce14){var _0x533016=_0x11aa1d,_0x1cfd53=_0xf7ce14['d'][_0x533016(0x1c8)][_0x533016(0x289)];_0x577296[_0x533016(0x17d)](_0x1cfd53),console[_0x533016(0x21e)](_0x1cfd53);},'error':function(_0x5d0b69,_0x21b556,_0x312096){var _0x18e420=_0x11aa1d;console['log'](_0x18e420(0x250));}}),_0x577296['promise']();}function updateDocumentProperties(_0x51b3b7,_0x4e58f1,_0x53ac14,_0x57683a,_0x8eda14,_0x19de98){var _0x2dd886=a0_0x129cdb,_0x3859fb=![],_0x3317dc,_0x1fd354='',_0x4aca4b='Not\x20Required';$(_0x2dd886(0x1aa))['is'](_0x2dd886(0x247))==!![]&&(_0x4aca4b=_0x2dd886(0x1f2));var _0x5b3cab=getTargetGroupId();if($('#sharedWithPermission')['val']()==_0x2dd886(0x1c7))_0x1fd354=_0x2dd886(0x270);else $(_0x2dd886(0x1c5))[_0x2dd886(0x179)]()==_0x2dd886(0x290)?_0x1fd354=_0x2dd886(0x1ae):_0x1fd354=_0x2dd886(0x188);var _0x180ef7=$(_0x2dd886(0x196))['val']();$(_0x2dd886(0x204))['is'](_0x2dd886(0x247))==!![]&&$(_0x2dd886(0x220))['is'](_0x2dd886(0x247))==![]?(_0x19de98=_0x19de98[_0x2dd886(0x177)]('.')['slice'](0x0,-0x1)[_0x2dd886(0x1e7)]('.'),_0x180ef7=$(_0x2dd886(0x221))[_0x2dd886(0x179)]()[_0x2dd886(0x1bf)]()+_0x19de98+$('#txtTitlePostfix')[_0x2dd886(0x179)]()['trim']()):_0x57683a[_0x2dd886(0x16f)]==0x0&&$(_0x2dd886(0x204))['is'](_0x2dd886(0x247))==!![]&&(_0x19de98=_0x19de98[_0x2dd886(0x177)]('.')[_0x2dd886(0x1af)](0x0,-0x1)[_0x2dd886(0x1e7)]('.'),_0x180ef7=$(_0x2dd886(0x221))['val']()['trim']()+_0x19de98+$(_0x2dd886(0x26b))['val']()[_0x2dd886(0x1bf)]());var _0x1ec9e8='DepartmentalDMS',_0x37fa19=GetItemTypeForLibraryName(_0x1ec9e8);$(_0x2dd886(0x203))['is'](_0x2dd886(0x247))==!![]||$(_0x2dd886(0x20a))['is'](_0x2dd886(0x247))==!![]?(_0x3859fb=![],_0x3317dc={'__metadata':{'type':_0x37fa19},'Title':_0x180ef7,'DocumentNo':$(_0x2dd886(0x283))[_0x2dd886(0x179)](),'DocumentType':$('#ddlFileType')[_0x2dd886(0x179)](),'DocumentWrittenBy':$(_0x2dd886(0x1b9))[_0x2dd886(0x179)](),'Details':$(_0x2dd886(0x24c))[_0x2dd886(0x179)](),'SubCategory':$(_0x2dd886(0x1fd))[_0x2dd886(0x179)](),'AccessLevel':'Everyone','SecurityLevel':_0x2dd886(0x1b5),'PermissionLevel':$('#sharedWithPermission')[_0x2dd886(0x179)](),'Acknowledgement':_0x4aca4b,'SharedId':{'results':_0x5b3cab},'PermissionLevelId':_0x1fd354},($(_0x2dd886(0x1fd))['val']()==_0x2dd886(0x199)||$(_0x2dd886(0x1fd))['val']()==null||$('#FileSubType')[_0x2dd886(0x179)]()==_0x2dd886(0x27a))&&delete _0x3317dc[_0x2dd886(0x1db)]):$('#chkKeepExist')['is'](_0x2dd886(0x247))==!![]&&_0x57683a['length']!=0x0?(_0x3859fb=!![],_0x3317dc={'__metadata':{'type':_0x37fa19},'Title':_0x57683a[_0x2dd886(0x180)]?_0x57683a[_0x2dd886(0x180)]:'','DocumentNo':_0x57683a[_0x2dd886(0x26a)]?_0x57683a[_0x2dd886(0x26a)]:'','DocumentType':_0x57683a[_0x2dd886(0x1cb)]?_0x57683a[_0x2dd886(0x1cb)]:'','DocumentWrittenBy':_0x57683a[_0x2dd886(0x1b7)]?_0x57683a[_0x2dd886(0x1b7)]:'','Details':_0x57683a[_0x2dd886(0x1b4)]?_0x57683a[_0x2dd886(0x1b4)]:'','SubCategory':_0x57683a[_0x2dd886(0x1db)]?_0x57683a['SubCategory']:'','AccessLevel':_0x57683a['AccessLevel']?_0x57683a[_0x2dd886(0x1b0)]:'','SecurityLevel':_0x57683a['SecurityLevel']?_0x57683a['SecurityLevel']:'','PermissionLevel':_0x57683a[_0x2dd886(0x19e)]?_0x57683a[_0x2dd886(0x19e)]:'','PermissionLevelId':_0x57683a['PermissionLevelId']?_0x57683a[_0x2dd886(0x272)]:'','Approval':_0x57683a[_0x2dd886(0x280)]},_0x57683a[_0x2dd886(0x23c)]!=null&&(_0x3317dc['SharedId']={'results':_0x57683a[_0x2dd886(0x23c)][_0x2dd886(0x1b3)]}),(_0x57683a[_0x2dd886(0x1db)]=='--select--'||_0x57683a['SubCategory']==null||_0x57683a[_0x2dd886(0x1db)]==_0x2dd886(0x27a)||_0x57683a[_0x2dd886(0x1db)]=='')&&delete _0x3317dc[_0x2dd886(0x1db)]):(_0x3859fb=![],_0x3317dc={'__metadata':{'type':_0x37fa19},'Title':_0x180ef7,'DocumentNo':$(_0x2dd886(0x283))['val'](),'DocumentType':$('#ddlFileType')[_0x2dd886(0x179)](),'DocumentWrittenBy':$(_0x2dd886(0x1b9))[_0x2dd886(0x179)](),'Details':$(_0x2dd886(0x24c))[_0x2dd886(0x179)](),'SubCategory':$(_0x2dd886(0x1fd))['val'](),'AccessLevel':'Everyone','SecurityLevel':'Everyone','PermissionLevel':$(_0x2dd886(0x1c5))[_0x2dd886(0x179)](),'Acknowledgement':_0x4aca4b,'SharedId':{'results':_0x5b3cab},'PermissionLevelId':_0x1fd354},($(_0x2dd886(0x1fd))[_0x2dd886(0x179)]()==_0x2dd886(0x199)||$('#FileSubType')[_0x2dd886(0x179)]()==null||$('#FileSubType')[_0x2dd886(0x179)]()==_0x2dd886(0x27a))&&delete _0x3317dc['SubCategory']),updateFileWithID(_0x51b3b7,_0x3317dc,_0x4e58f1,_0x53ac14,_0x3859fb,_0x8eda14);}function updateFileWithID(_0x5e69e3,_0x3e81ed,_0x54a0e6,_0x3a5d40,_0x45686b,_0x5a1eff){var _0x38a1a2=a0_0x129cdb,_0x390dff=$['Deferred']();_0x3a5d40!=_spPageContextInfo[_0x38a1a2(0x256)]&&$['when'](GetFormDigestValue(_0x3a5d40))[_0x38a1a2(0x255)](function(_0x1aaf0a){RequestDigest=_0x1aaf0a;});var _0x2eb0f1=_0x5e69e3,_0x576bab=_0x3a5d40+_0x38a1a2(0x17c)+_0x2eb0f1+_0x38a1a2(0x1ad)+_0x54a0e6+')';return $[_0x38a1a2(0x1b2)]({'url':_0x576bab,'type':_0x38a1a2(0x1fc),'async':![],'headers':{'accept':_0x38a1a2(0x1c1),'X-RequestDigest':RequestDigest,'content-Type':_0x38a1a2(0x1c1),'X-Http-Method':_0x38a1a2(0x261),'If-Match':'*'},'data':JSON[_0x38a1a2(0x1f8)](_0x3e81ed),'success':function(_0x4475ef){var _0x292108=_0x38a1a2;RequestDigest=$(_0x292108(0x1d0))[_0x292108(0x179)]();if($(_0x292108(0x220))['is'](':checked')==![]){var _0x26085e=_0x292108(0x20d)+_0x54a0e6+'\x27\x20';$[_0x292108(0x218)](getItemsWithQuery(_0x292108(0x239),_0x26085e,_spPageContextInfo[_0x292108(0x256)]))[_0x292108(0x255)](function(_0x509f46){var _0x3a3aff=_0x292108;if(_0x509f46[_0x3a3aff(0x16f)]>0x0)for(var _0x1f3d64=0x0;_0x1f3d64<_0x509f46[_0x3a3aff(0x16f)];_0x1f3d64++){DeleteSharedLinks(_0x509f46[_0x1f3d64]['ID']);}});}FinalFiles4Upload['length']==_0x5a1eff+0x1+FailDueToCheckOut&&($('#chkUploadMail')[_0x292108(0x242)](_0x292108(0x241))==!![]?(FailDueToCheckOut==0x0?(alert(_0x292108(0x1e6)),reloadDocument()):alert(FailDueToCheckOut+_0x292108(0x24f)),waitingDialog[_0x292108(0x1eb)]()):(DocUrlCollection=[],FailDueToCheckOut==0x0?(alert(_0x292108(0x1e6)),reloadDocument()):(alert(FailDueToCheckOut+_0x292108(0x24f)),reloadDocument()),waitingDialog[_0x292108(0x1eb)]()),$(_0x292108(0x24b))[_0x292108(0x26e)]('hide')),_0x390dff['resolve'](!![]);},'error':function(_0x5a9592){var _0x1ab25f=_0x38a1a2;waitingDialog[_0x1ab25f(0x1eb)](),RequestDigest=$(_0x1ab25f(0x1d0))[_0x1ab25f(0x179)]();if(_0x5a9592['responseText'][_0x1ab25f(0x230)](_0x1ab25f(0x1d5))!=-0x1||_0x5a9592['responseText'][_0x1ab25f(0x230)]('The\x20security\x20validation\x20for\x20this\x20page\x20is\x20i')!=-0x1){var _0x27c76b=Documentname;if(Documentname[_0x1ab25f(0x258)](_0x1ab25f(0x190))==!![])_0x27c76b=_0x27c76b['replace'](_0x1ab25f(0x190),_0x1ab25f(0x278));else Documentname==_0x1ab25f(0x1ce)&&(_0x27c76b=_0x27c76b[_0x1ab25f(0x20e)](_0x1ab25f(0x1ce),_0x1ab25f(0x257)));alert(_0x1ab25f(0x1e1)),$(_0x1ab25f(0x24b))[_0x1ab25f(0x26e)](_0x1ab25f(0x1eb)),$(_0x1ab25f(0x17a))[_0x1ab25f(0x1da)](),$(_0x1ab25f(0x17a))['hide'](),FinalFiles4Upload=[];}else{var _0x4d4b91='';_0x5a9592['responseJSON'][_0x1ab25f(0x20b)][_0x1ab25f(0x217)][_0x1ab25f(0x1c6)]==undefined?_0x4d4b91=JSON[_0x1ab25f(0x1f8)](_0x5a9592):_0x4d4b91=_0x5a9592[_0x1ab25f(0x27e)]['error'][_0x1ab25f(0x217)][_0x1ab25f(0x1c6)],alert(_0x4d4b91);}_0x390dff['reject'](_0x5a9592);}}),_0x390dff[_0x38a1a2(0x27d)]();}function EmailProperties(_0xe4965){var _0x44dac5=a0_0x129cdb,_0x30206e='',_0x22c807='',_0x198eac=[];$('#ddlFileType')[_0x44dac5(0x179)]()!=_0x44dac5(0x27a)&&(_0x22c807=$(_0x44dac5(0x18e))[_0x44dac5(0x179)]());var _0x23515b='',_0x2f12e2=$('#ddlDepartment')[_0x44dac5(0x179)]()[_0x44dac5(0x177)]('/'),_0x120a2a=_0x2f12e2[_0x2f12e2[_0x44dac5(0x16f)]-0x1];_0x23515b='<strong>Department:</strong>\x20'+_0x120a2a,_0x30206e='Following\x20document(s)\x20have\x20been\x20uploaded.<br/><br/>';var _0x198eac=getFromUserEmail();for(var _0x56f508=0x0;_0x56f508<DocUrlCollection['length'];_0x56f508++){var _0x2a08b5='',_0x45cf7a=DocUrlCollection[_0x56f508]['FileUrl'];if(DocUrlCollection[_0x56f508][_0x44dac5(0x17f)]['indexOf'](_0x44dac5(0x234))!=-0x1||DocUrlCollection[_0x56f508][_0x44dac5(0x17f)]['indexOf'](_0x44dac5(0x211))!=-0x1||DocUrlCollection[_0x56f508][_0x44dac5(0x17f)][_0x44dac5(0x230)]('png')!=-0x1||DocUrlCollection[_0x56f508]['FileName'][_0x44dac5(0x230)]('jpg')!=-0x1||DocUrlCollection[_0x56f508][_0x44dac5(0x17f)][_0x44dac5(0x230)](_0x44dac5(0x25a))!=-0x1){if(_0x45cf7a[_0x44dac5(0x258)](_0x44dac5(0x245))==!![]||_0x45cf7a['includes'](_0x44dac5(0x259))==!![])_0x45cf7a[_0x44dac5(0x258)](_0x44dac5(0x245))==!![]?_0x2a08b5=_0xe4965+'/DocumentManagementSystem/Forms/AllItems.aspx?id='+encodeURIComponent(_0x45cf7a)+_0x44dac5(0x288)+encodeURIComponent(_0x45cf7a[_0x44dac5(0x1f7)](0x0,_0x45cf7a[_0x44dac5(0x1b1)]('/')+0x0)):_0x2a08b5=_0xe4965+_0x44dac5(0x1d2)+encodeURIComponent(_0x45cf7a)+_0x44dac5(0x288)+encodeURIComponent(_0x45cf7a['substr'](0x0,_0x45cf7a['lastIndexOf']('/')+0x0));else{var _0x1db1b8=window['location'][_0x44dac5(0x1c3)]+_0x45cf7a[_0x44dac5(0x1f7)](0x0,_0x45cf7a['lastIndexOf']('/')+0x0);_0x2a08b5=_0x1db1b8+'/Forms/AllItems.aspx?id='+encodeURIComponent(_0x45cf7a)+_0x44dac5(0x288)+encodeURIComponent(_0x45cf7a[_0x44dac5(0x1f7)](0x0,_0x45cf7a[_0x44dac5(0x1b1)]('/')+0x0));}}else _0x2a08b5=encodeURI(DocUrlCollection[_0x56f508]['FileUrl']);_0x30206e=_0x30206e+'<div>\x20'+_0x23515b+_0x44dac5(0x25b)+_0x44dac5(0x1fa)+DocUrlCollection[_0x56f508][_0x44dac5(0x17f)]+'</div>'+_0x44dac5(0x23f)+$('#txtFileTitle')[_0x44dac5(0x179)]()+'</div>'+_0x44dac5(0x171)+$('#txtdocumentNo')[_0x44dac5(0x179)]()+_0x44dac5(0x1a9)+_0x44dac5(0x223)+_0x22c807+_0x44dac5(0x1a9)+_0x44dac5(0x191)+$(_0x44dac5(0x24c))[_0x44dac5(0x179)]()+_0x44dac5(0x25b)+_0x44dac5(0x208)+_spPageContextInfo['userDisplayName']+_0x44dac5(0x1a9)+_0x44dac5(0x21d)+moment(new Date())[_0x44dac5(0x1ca)](_0x44dac5(0x18b))+'</div><br/><br/>'+_0x44dac5(0x20f)+_0x2a08b5+_0x44dac5(0x210)+_0x44dac5(0x271);}_0x30206e+=_0x44dac5(0x19c);for(var _0x2739c2=0x0;_0x2739c2<LabelDefaultLangauge[_0x44dac5(0x16f)];_0x2739c2++){_0x30206e[_0x44dac5(0x258)](LabelDefaultLangauge[_0x2739c2][_0x44dac5(0x206)])==!![]&&(_0x30206e=_0x30206e[_0x44dac5(0x1f4)](LabelDefaultLangauge[_0x2739c2][_0x44dac5(0x206)],LabelDefaultLangauge[_0x2739c2]['DefaultLanguage']));}var _0x42a050;_0x42a050={'properties':{'__metadata':{'type':_0x44dac5(0x18f)},'From':_spPageContextInfo['userEmail'],'To':{'results':_0x198eac},'Body':_0x30206e,'Subject':_0x44dac5(0x207)}};var _0x33f802=_spPageContextInfo[_0x44dac5(0x176)]+_0x44dac5(0x1bb);$[_0x44dac5(0x1b2)]({'contentType':'application/json','url':_0x33f802,'type':_0x44dac5(0x1fc),'data':JSON[_0x44dac5(0x1f8)](_0x42a050),'headers':{'Accept':_0x44dac5(0x1c1),'content-type':_0x44dac5(0x1c1),'X-RequestDigest':$(_0x44dac5(0x1d0))[_0x44dac5(0x179)]()},'success':function(_0xa4cf64){var _0x551359=_0x44dac5;DocUrlCollection=[];FailDueToCheckOut==0x0?alert('File(s)\x20have\x20been\x20uploaded\x20successfully.'):alert(FailDueToCheckOut+_0x551359(0x24f));waitingDialog[_0x551359(0x1eb)]();var _0x4c2596=Documentname;if(Documentname[_0x551359(0x258)](_0x551359(0x190))==!![])_0x4c2596=_0x4c2596[_0x551359(0x20e)](_0x551359(0x190),_0x551359(0x278));else Documentname==_0x551359(0x1ce)&&(_0x4c2596=_0x4c2596[_0x551359(0x20e)]('Documents','Shared%20Documents'));},'error':function(_0x4ab719,_0x45fdfa,_0x49f5b0){var _0x3183df=_0x44dac5;FailDueToCheckOut==0x0?alert(_0x3183df(0x1e6)):alert(FailDueToCheckOut+_0x3183df(0x24f));waitingDialog[_0x3183df(0x1eb)](),DocUrlCollection=[];var _0x188cac=JSON[_0x3183df(0x1f3)](_0x4ab719[_0x3183df(0x236)]),_0x56bdd5=_0x4ab719[_0x3183df(0x240)],_0x546a88=_0x188cac['error']['message'][_0x3183df(0x1c6)];}});}function getTargetIDByUrl(_0x5cdf40,_0x4383fd){var _0x1837e9=a0_0x129cdb;return $[_0x1837e9(0x1b2)]({'url':_0x5cdf40+_0x1837e9(0x1f1)+_0x4383fd+_0x1837e9(0x1ec),'type':'GET','async':![],'headers':{'accept':_0x1837e9(0x1c1)},'success':function(_0x42f8f5){commonserverRedirectedEmbedUri=_0x42f8f5['d']['ServerRedirectedEmbedUri'],(commonserverRedirectedEmbedUri==null||commonserverRedirectedEmbedUri=='')&&(commonserverRedirectedEmbedUri=''),targetRoleDefinitionId=_0x42f8f5['d']['Id'];},'error':function(_0x360f37){var _0x1e1d51=_0x1837e9;waitingDialog[_0x1e1d51(0x1eb)](),alert(_0x360f37['responseText']);}}),targetRoleDefinitionId;}function GetItemTypeForLibraryName(_0x5f2fc9){var _0x190bce=a0_0x129cdb;return _0x190bce(0x25c)+_0x5f2fc9[_0x190bce(0x192)](0x0)[_0x190bce(0x19f)]()+_0x5f2fc9[_0x190bce(0x177)]('\x20')[_0x190bce(0x1e7)]('')[_0x190bce(0x1af)](0x1)+'Item';}function getFromUserEmail(){var _0x53b40f=a0_0x129cdb,_0x23ace8=[],_0x197b66=$('#ddlDepartment')['val']()[_0x53b40f(0x177)]('/'),_0x268395=_0x197b66[_0x197b66[_0x53b40f(0x16f)]-0x1],_0x59e185=_0x53b40f(0x20c)+Logged_CompanyId+_0x53b40f(0x1e9)+_0x268395+'\x27\x20';return $['when'](getItemsWithQuery(_0x53b40f(0x224),_0x59e185,_spPageContextInfo[_0x53b40f(0x256)]))[_0x53b40f(0x255)](function(_0x35563d){var _0x38f5b9=_0x53b40f;_0x23ace8[_0x38f5b9(0x276)](_0x35563d[0x0][_0x38f5b9(0x266)]);}),_0x23ace8;}var LabelDefaultLangauge=[];function ChangeLabels(){var _0x3f2cb1=a0_0x129cdb,_0x51254f=_0x3f2cb1(0x21f);if(LabelDefaultLangauge[_0x3f2cb1(0x16f)]==0x0){var _0x4352cf='?$select=Title,Key,DefaultLanguage&$top=5000&$filter=Title\x20eq\x20\x27DMS\x27\x20';$['when'](CommonFunction[_0x3f2cb1(0x212)](_0x3f2cb1(0x1a3),_0x4352cf))[_0x3f2cb1(0x255)](function(_0x594855){var _0x16ee96=_0x3f2cb1;try{LabelDefaultLangauge=_0x594855['results'],SetDMSText(_0x594855[_0x16ee96(0x1b3)],_0x51254f);}catch(_0x15dd0b){alert('Recommended\x20to\x20clear\x20the\x20browsing\x20data\x20and\x20cookies\x20for\x20smooth\x20and\x20fast\x20browsing.\x20Please\x20press\x20Ctrl\x20+\x20H\x20to\x20clear\x20cookies.');}});}else SetDMSText(LabelDefaultLangauge,_0x51254f);}function SetDMSText(_0x784fb0,_0x3a8358){labels=[],$['each'](_0x784fb0,function(_0x2773ca,_0x3d4a09){var _0x109d30=a0_0xefd3,_0x458218=_0x3d4a09[_0x109d30(0x206)],_0x1a2ca2=_0x3d4a09[_0x3a8358];if(_0x1a2ca2==null||_0x1a2ca2==''||_0x1a2ca2==undefined)_0x1a2ca2=_0x3d4a09['DefaultLanguage'];var _0x21f361={'labelText_Actual':_0x458218,'lableText_Converted':_0x1a2ca2};labels[_0x109d30(0x276)](_0x21f361);}),DetectBrowser();}function DetectBrowser(){var _0x5df69f=a0_0x129cdb,_0x4f0e89=/constructor/i[_0x5df69f(0x229)](window['HTMLElement'])||function(_0xb89537){var _0x405bcb=_0x5df69f;return _0xb89537[_0x405bcb(0x1fb)]()===_0x405bcb(0x1d8);}(!window[_0x5df69f(0x1f5)]||typeof safari!==_0x5df69f(0x1c2)&&safari[_0x5df69f(0x26c)]),_0x1065bc=![]||!!document[_0x5df69f(0x22b)];_0x4f0e89||_0x1065bc?ChangeWebPartsHeadings_OldBrowser():ChangeWebPartsHeadings();}function ChangeWebPartsHeadings(){var _0x1e80b4=a0_0x129cdb;try{$('[data-localize]')[_0x1e80b4(0x279)](function(_0x55cf70,_0x226255){var _0x21c23d=_0x1e80b4;try{var _0x388e0f=$(this)[_0x21c23d(0x277)](_0x21c23d(0x17b)),_0x4d113c=labels[_0x21c23d(0x1ff)](function(_0x42ba81){var _0x6eff2c=_0x21c23d;return _0x42ba81['labelText_Actual'][_0x6eff2c(0x1bf)]()===_0x388e0f;})[_0x21c23d(0x205)];if($(this)['find']('a')[_0x21c23d(0x16f)]>0x0)$(this)[_0x21c23d(0x1ff)]('a')['html'](_0x4d113c);else{if($(this)[_0x21c23d(0x1ff)]('b')[_0x21c23d(0x16f)]>0x0)$(this)['find']('b')[_0x21c23d(0x1d6)](_0x4d113c);else{if($(this)[_0x21c23d(0x1ff)]('p')['length']>0x0)$(this)['find']('p')[_0x21c23d(0x1d6)](_0x4d113c);else $(this)[_0x21c23d(0x1bd)](_0x21c23d(0x232))?$(this)[_0x21c23d(0x277)]('value',_0x4d113c):$(this)[_0x21c23d(0x1d6)](_0x4d113c);}}}catch(_0x39b5d0){console[_0x21c23d(0x21e)](_0x21c23d(0x1a2)+_0x388e0f+_0x21c23d(0x24d)),$(this)[_0x21c23d(0x277)](_0x21c23d(0x1c6),$(this)['val']());}});}catch(_0x71344){console[_0x1e80b4(0x21e)]('Multilingual\x20:\x20'+_0x71344);}}function ChangeWebPartsHeadings_OldBrowser(){var _0x4c3c63=a0_0x129cdb;try{$('[data-localize]')[_0x4c3c63(0x279)](function(_0x32c7ab,_0x25d0e5){var _0x58e4c8=_0x4c3c63;try{var _0x15c43b=$(this)['attr'](_0x58e4c8(0x17b)),_0x33fe2f=findObjectByKey(labels,_0x15c43b,_0x15c43b);if($(this)[_0x58e4c8(0x1ff)]('a')['length']>0x0)$(this)['find']('a')[_0x58e4c8(0x1d6)](_0x33fe2f);else{if($(this)['find']('b')[_0x58e4c8(0x16f)]>0x0)$(this)[_0x58e4c8(0x1ff)]('b')[_0x58e4c8(0x1d6)](_0x33fe2f);else{if($(this)[_0x58e4c8(0x1ff)]('p')[_0x58e4c8(0x16f)]>0x0)$(this)[_0x58e4c8(0x1ff)]('p')[_0x58e4c8(0x1d6)](_0x33fe2f);else $(this)[_0x58e4c8(0x1bd)](_0x58e4c8(0x232))?_0x33fe2f!=null&&_0x33fe2f!=_0x58e4c8(0x1f0)&&_0x33fe2f!=''?$(this)[_0x58e4c8(0x277)](_0x58e4c8(0x1c6),_0x33fe2f):$(this)['attr'](_0x58e4c8(0x1c6),$(this)['val']()):_0x33fe2f!=null&&_0x33fe2f!='null'&&_0x33fe2f!=''?$(this)[_0x58e4c8(0x1d6)](_0x33fe2f):$(this)[_0x58e4c8(0x1d6)]($(this)[_0x58e4c8(0x268)]());}}}catch(_0x536317){console[_0x58e4c8(0x21e)](_0x58e4c8(0x1a2)+_0x15c43b+_0x58e4c8(0x24d)),$(this)[_0x58e4c8(0x277)](_0x58e4c8(0x1c6),$(this)[_0x58e4c8(0x179)]());}});}catch(_0x521ab9){console[_0x4c3c63(0x21e)](_0x4c3c63(0x1a2)+_0x521ab9);}}function a0_0xa93c(){var _0xd85aaf=['/_api/contextinfo','application/json;odata=verbose','undefined','origin','getTime','#sharedWithPermission','value','Contribute','GetContextWebInformation','.prefix_and_postfix_name','format','DocumentType','Departmental\x20Documents','#chkcompany','Documents','filter','#__REQUESTDIGEST','append','/DepartmentalDMS/Forms/AllItems.aspx?id=','DELETE','\x27\x20and\x20WebPartName\x20eq\x20\x27Head\x20of\x20the\x20department\x27\x20and\x20Department/Id\x20eq\x20\x27','does\x20not\x20exist\x20on\x20type','html','Please\x20select\x20any\x20file\x20first.','[object\x20SafariRemoteNotification]','/Forms','empty','SubCategory','disabled','userEmail','#chkCorporate','20xFGWYV','display:\x20none','Required\x20columns\x20does\x20not\x20exists.\x20Kindly\x20contact\x20administrator\x20to\x20activate\x20features.','<div\x20class=\x22NewFileUpload\x22\x20title=\x22','Access\x20denied','fail','#FileName','File(s)\x20have\x20been\x20uploaded\x20successfully.','join','Kindly\x20enter\x20postfix\x20of\x20file\x20Name.','\x27\x20and\x20DepartmentName\x20eq\x20\x27','.pdf','hide','\x27)/ListItemAllFields','\x22\x20id=\x22file_','\x27&$expand=ListItemAllFields','?$select=Title,Category/CatogeryName,Category/CategoryType,Active&$expand=Category&$filter=Category/CategoryType\x20eq\x20\x27Document\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20Category/CatogeryName\x20eq\x20\x27','null','/_api/Web/GetFileByServerRelativeUrl(\x27','Required','parse','replaceAll','safari','CategoryMaster','substr','stringify','14nmJfCN','<div><strong>File\x20Name\x20:</strong>','toString','POST','#FileSubType','<>#%&*{}?:|\x22\x5c/~`\x27','find','/_api/web/getfilebyserverrelativeurl(\x27','1199820KSRumx','ApproverRequired','#RenameandUpload','#prefix_and_postfix_name','lableText_Converted','Key','Documents(s)\x20have\x20been\x20uploaded.','<div><strong>Uploaded\x20by:</strong>\x20','LibraryName\x20eq\x20\x27DepartmentalDMS\x27\x20and\x20startswith(SharedGroup,\x27Everyone\x27)\x20and\x20PermissionStatus\x20ne\x20\x27Revoked\x27\x20and\x20CompanyID\x20eq\x20\x27','#chkUploadNew','error','?$select=MassMailID,CompanyID/Id,DepartmentName&$expand=CompanyID&$filter=CompanyID/Id\x20eq\x20\x27','?$select=ID,DocumentID&$filter=DocumentID\x20eq\x20\x27','replace','<div><a\x20href=','>Click\x20here</a>\x20to\x20open\x20the\x20document.</div>','rar','getItemsWithQueryItem','#notifymail','#chkReplaceVer','option','parent','message','when','/_api/web/GetFolderByServerRelativeUrl(\x27','Approved','#astTitle','<option\x20value=\x22-Select-\x22>-Select-</option>','<div><strong>Uploaded\x20On:</strong>\x20','log','DefaultLanguage','#chkKeepExist','#txtTitlePrefix','DepartmentName','<div\x20data-localize=\x27Category\x27><strong>Category</strong><strong>:</strong>\x20','Departments','#txtNamePostfix','CompanyIDId','labelText_Actual','\x27)/items/','test','#txtNamePrefix','documentMode','inArray','You\x20don\x27t\x20have\x20the\x20required\x20permission\x20to\x20upload\x20','CatogeryName','toFixed','indexOf','ListItemAllFields','button','.RenameandUpload','xml','ServerRelativeUrl','responseText','click','DD/MM/YYYY','SharedDocument','sort','#txtUpdateValidity','SharedId','#btnAll','\x27);\x22\x20id=\x22file_','<div\x20data-localize=\x27Title\x27><strong>Title</strong><strong>:</strong>\x20','status','checked','prop','#txtShareMessage','16496RDORDX','DocumentManagementSystem','Yes',':checked','7854171UsyQrM','571630iNYbLj','18VfHPVI','#myModalupload','#UploadFileComment','\x20key\x20not\x20found.','#AttachAttachmentButton','\x20file(s)\x20are\x20locked,\x20couldn\x27t\x20be\x20uploaded.\x0aOther\x20files(s)\x20have\x20been\x20uploaded\x20successfully.','Failed','#btnShareMulti','datepicker','Selected\x20file(s)\x20are\x20locked,\x20couldn\x27t\x20be\x20uploaded.','docCommThem','done','webAbsoluteUrl','Shared%20Documents','includes','DepartmentalDMS','jpeg','</div><br/>','SP.Data.','\x20MB\x20file(s).\x20It\x20will\x20take\x20couple\x20of\x20minutes\x20to\x20upload.\x20Do\x20you\x20want\x20to\x20continue\x20?','addClass','dateFormat','432968NZIcww','PATCH','ServerRedirectedEmbedUri','ProcessApprovers','yyyy','ready','MassMailID','You\x20are\x20trying\x20to\x20upload\x20','text','Access\x20Denied','DocumentNo','#txtTitlePostfix','pushNotification','GET','modal','#FileTitle','1073741827','<br/><br/>','PermissionLevelId','Approver','\x22><i\x20class=\x22fa\x20fa-paperclip\x22\x20style=\x22font-size:\x2020px;\x20font-weight:\x20500;\x22></i></i></span>\x20','3342581hlhaTZ','push','attr','/Shared%20Documents/','each','-Select-','ApprovalTaskList','#forever','promise','responseJSON','style','Approval','MM\x20dd,\x20yy','Workplace','#txtdocumentNo','change','\x22\x22\x20title=\x22remove\x22></span></div>','#expiredon','\x27)/items','&parent=','FormDigestValue','\x27)?$expand=ListItemAllFields&$select=*,ListItemAllFields/AccessLevel,ListItemAllFields/Department,ListItemAllFields/Details,ListItemAllFields/DocumentNo,','Deferred','?$select=*,ID,WebPartName,Department/Id,Contributors/Id&$top=5000&$expand=Department,Contributors&$filter=WebPartName\x20eq\x20\x27Head\x20of\x20the\x20department\x27\x20and\x20Department/Id\x20eq\x20\x27','/_api/web/sitegroups/getbyname(\x27ALL_EMPLOYEE\x27)?$select=id','name','...','Read','length','/_api/web/GetFileByServerRelativeUrl(\x27','<div\x20data-localize=\x27Reference\x27><strong>Reference</strong><strong>:</strong>\x20','concat','FileSubType','File','\x27)/Files/add(url=\x27','webServerRelativeUrl','split','SharedUserEmail','val','#txtUploadFiles','data-localize','/_api/Web/Lists/getByTitle(\x27','resolve','190LIVQlW','FileName','Title','#AttachmentUploadField','\x20file\x20type\x20are\x20not\x20allow!\x20','files','Contributors','Pending','#Acknowledgment','#sharewith','1073741937','show','#ddlDepartment','MMM\x20DD\x20YYYY','substring','PermissionStatus','#ddlFileType','SP.Utilities.EmailProperties','/Documents/','<div><strong>Details:</strong>\x20','charAt','application/json;\x20odata=verbose','.replaceOptions','all','#txtFileTitle','#chkUploadMail','42XMayIt','--select--','24hmyabR','1487FAwhyL','This\x20is\x20an\x20auto\x20generated\x20email.\x20Please\x20don\x27t\x20reply.','Name','PermissionLevel','toUpperCase','toLowerCase','\x27)/CheckedOutByUser/Email','Multilingual\x20:\x20','LabelsSettings','DepartmentalDMS/','Department','onload','Restricted\x20View','Upload','</div>','#chckAcknowledgement','&nbsp;&nbsp;<span\x20class=\x22fa\x20fa-close\x20fa-lg\x20closeBtn\x20DeletePic\x22\x20style=\x22color:red;\x22\x20\x20onclick=\x22removeLine(this.id,\x20\x27','Kindly\x20fill\x20mandatory\x20fields.','\x27)/Items(','1073741826','slice','AccessLevel','lastIndexOf','ajax','results','Details','Everyone','reject','DocumentWrittenBy','#btnUpload','#FileAuthor','.NewFileUpload','/_api/SP.Utilities.Utility.SendEmail','/_api/web/lists/getbytitle(\x27','hasClass','\x27\x20and\x20CompanyId\x20eq\x20\x27','trim'];a0_0xa93c=function(){return _0xd85aaf;};return a0_0xa93c();}function findObjectByKey(_0x5612fc,_0x19f7ef,_0x5987a3){var _0x10d78e=a0_0x129cdb;for(var _0x4a4930=0x0;_0x4a4930<_0x5612fc[_0x10d78e(0x16f)];_0x4a4930++){if(_0x5612fc[_0x4a4930][_0x10d78e(0x227)]==_0x5987a3)return _0x5612fc[_0x4a4930][_0x10d78e(0x205)];}return null;}function DeleteSharedLinks(_0x2c7217){var _0x4fe5e1=a0_0x129cdb;$[_0x4fe5e1(0x1b2)]({'url':_spPageContextInfo[_0x4fe5e1(0x256)]+'/_api/web/lists/GetByTitle(\x27SharedDocument\x27)/items(\x27'+_0x2c7217+'\x27)','type':_0x4fe5e1(0x1fc),'async':![],'headers':{'X-RequestDigest':$('#__REQUESTDIGEST')[_0x4fe5e1(0x179)](),'IF-MATCH':'*','X-HTTP-Method':_0x4fe5e1(0x1d3)},'success':function(_0x4563c7,_0x1e36ee,_0x25da67){console['log']('Shared\x20link\x20has\x20been\x20removed.');},'error':function(_0x1e2a59,_0x18bade,_0xb3effc){var _0x449a78=_0x4fe5e1;waitingDialog[_0x449a78(0x1eb)](),console[_0x449a78(0x21e)](_0x1e2a59[_0x449a78(0x236)]);}});}function AddSharedLinkToListOrg(_0x2fc68f,_0x12eecf,_0x551361){var _0x5538bc=a0_0x129cdb;IsBlock='No';var _0x42375e='SharedDocument';PermissionStatus='Pending';var _0x3e9732=$(_0x5538bc(0x1fd))[_0x5538bc(0x179)](),_0x4625b1=$('#sharedWithPermission')['val']();_0x3e9732=='-Select-'&&(_0x3e9732='');var _0x8b70f2=GetItemTypeForListName(_0x42375e),_0x1d8d69='',_0x49d9bc=[];_0x49d9bc[_0x5538bc(0x276)]();var _0x595927=$(_0x5538bc(0x18a))['val']()[_0x5538bc(0x177)]('/'),_0x1d4e19=_0x595927[_0x595927[_0x5538bc(0x16f)]-0x1],_0x34f921=arrDepartmentItems[_0x5538bc(0x1cf)](function(_0x24455e){var _0x4cb75d=_0x5538bc;return _0x24455e[_0x4cb75d(0x222)]==_0x1d4e19;}),_0x1a741a;_0x4625b1==_0x5538bc(0x1a7)&&(IsBlock='Yes');var _0x75dfd7=null;$('#txtUpdateValidity')['val']()!=''&&(_0x75dfd7=GetDateStandardFormat(moment($(_0x5538bc(0x23b))['val']())[_0x5538bc(0x1ca)](_0x5538bc(0x238)))),_0x1a741a={'__metadata':{'type':_0x8b70f2},'Title':_0x551361,'SharedFileTitle':$('#txtFileTitle')[_0x5538bc(0x179)](),'DocumentURL':_0x2fc68f,'SharedUsersId':{'results':getTargetGroupId()},'DocumentID':String(_0x12eecf),'DOC_IDId':_0x12eecf,'DocumentType':_0x5538bc(0x174),'SharedGroup':_0x5538bc(0x1b5),'PermissionType':_0x4625b1,'DocumentNo':$('#txtdocumentNo')[_0x5538bc(0x179)](),'Details':$('#UploadFileComment')[_0x5538bc(0x179)](),'IsBlock':IsBlock,'SharedType':_0x5538bc(0x1a5),'SharedFrom':_0x1d4e19,'SharedMessage':$(_0x5538bc(0x243))[_0x5538bc(0x179)](),'SharingValidity':new Date($('#txtUpdateValidity')[_0x5538bc(0x179)]()),'NeedAcknowledgement':$(_0x5538bc(0x1aa))['prop'](_0x5538bc(0x241)),'LibraryURL':$(_0x5538bc(0x18a))[_0x5538bc(0x179)]()+'/DepartmentalDMS','LibraryName':_0x5538bc(0x259),'SiteURL':$(_0x5538bc(0x18a))[_0x5538bc(0x179)](),'DocType':$(_0x5538bc(0x18e))[_0x5538bc(0x179)](),'IsSendMail':$(_0x5538bc(0x197))['prop'](_0x5538bc(0x241)),'Corporate':$(_0x5538bc(0x1de))[_0x5538bc(0x242)](_0x5538bc(0x241)),'SubCategory':_0x3e9732,'FromPage':_0x5538bc(0x282),'CompanyIDId':parseInt(Logged_CompanyId),'DepartmentIDId':parseInt(_0x34f921[0x0]['ID'])},PermissionStatus==_0x5538bc(0x185)&&(_0x1a741a[_0x5538bc(0x18d)]='Pending'),$[_0x5538bc(0x218)](AddItemToListGroups(_0x42375e,_0x1a741a))[_0x5538bc(0x255)](function(_0xb5e58){});}var PermissionStatus='';function AddSharedLinkToList_Old(_0x391f30,_0x3ccb31,_0x55101b,_0x1a22a0,_0x416ef0,_0xc8f40b,_0x425c8c,_0x695dce,_0x171439,_0x2be589){var _0x35c248=a0_0x129cdb;IsBlock='No';var _0x52caa=_0x35c248(0x239),_0x2e2207=GetItemTypeForListName(_0x52caa),_0x55f5cd='';Documentname[_0x35c248(0x230)]('/')!=-0x1?_0x55f5cd=Documentname[_0x35c248(0x177)]('/')[0x0]:_0x55f5cd=Documentname;for(k=0x0;k<_0x3ccb31[_0x35c248(0x16f)];k++){var _0x5a87a4=[];_0x5a87a4[_0x35c248(0x276)](_0x3ccb31[k]);var _0xe8ab01;_0xc8f40b==_0x35c248(0x1a7)&&(IsBlock=_0x35c248(0x246));var _0xf70803=null;$('#txtUpdateValidity')['val']()!=''&&(_0xf70803=GetDateStandardFormat(moment($(_0x35c248(0x23b))[_0x35c248(0x179)]())[_0x35c248(0x1ca)](_0x35c248(0x238)))),_0xe8ab01={'__metadata':{'type':_0x2e2207},'Title':$(_0x35c248(0x1e5))[_0x35c248(0x268)](),'SharedFileTitle':$(_0x35c248(0x26f))[_0x35c248(0x268)](),'DocumentURL':_0x391f30,'SharedUsersId':{'results':_0x5a87a4},'SharedUserEmail':ShareUserPrincipleMail[k],'DocumentID':_0x55101b,'DOC_IDId':_0x55101b,'DocumentType':_0x1a22a0,'SharedGroup':_0x416ef0,'PermissionType':_0xc8f40b,'ServerRedirectedEmbedURL':'','IsBlock':IsBlock,'SharedType':_0x425c8c,'SharedFrom':_0x171439,'SharedMessage':$(_0x35c248(0x243))[_0x35c248(0x179)](),'SharingValidity':_0xf70803,'NeedAcknowledgement':$(_0x35c248(0x186))[_0x35c248(0x242)](_0x35c248(0x241)),'LibraryURL':DMS_Link[_0x35c248(0x177)]('/Forms')[0x0],'LibraryName':_0x55f5cd,'SiteURL':DMS_Link[_0x35c248(0x177)](_0x35c248(0x1d9))[0x0][_0x35c248(0x1f7)](0x0,DMS_Link[_0x35c248(0x177)]('/Forms')[0x0]['lastIndexOf']('/')),'DocType':_0x695dce,'IsSendMail':$(_0x35c248(0x213))[_0x35c248(0x242)](_0x35c248(0x241)),'Corporate':$('#chkCorporate')['prop'](_0x35c248(0x241)),'CompanyIDId':parseInt(Logged_CompanyId),'DepartmentIDId':parseInt(SeletedDeptId),'SubCategory':_0x2be589},PermissionStatus==_0x35c248(0x185)&&(_0xe8ab01['PermissionStatus']=_0x35c248(0x185)),$(_0x35c248(0x187))[_0x35c248(0x179)]()==_0x35c248(0x1b5)?delete _0xe8ab01[_0x35c248(0x178)]:(delete _0xe8ab01[_0x35c248(0x226)],delete _0xe8ab01['DepartmentIDId']),$['when'](AddItemToListGroups(_0x52caa,_0xe8ab01))[_0x35c248(0x255)](function(_0x409f3c){});}}function AddItemToListGroups(_0x145ede,_0x815625){var _0x21add0=a0_0x129cdb;_0x145ede==_0x21add0(0x257)&&(_0x145ede=_0x21add0(0x1ce));var _0x28202a=$['Deferred']();return $[_0x21add0(0x1b2)]({'url':_spPageContextInfo['webAbsoluteUrl']+'/_api/web/lists/getbytitle(\x27'+_0x145ede+_0x21add0(0x287),'type':_0x21add0(0x1fc),'async':![],'headers':{'accept':_0x21add0(0x1c1),'X-RequestDigest':$('#__REQUESTDIGEST')['val'](),'content-Type':_0x21add0(0x1c1)},'data':JSON[_0x21add0(0x1f8)](_0x815625),'success':function(_0x283f52){var _0x103c3f=_0x21add0;_0x28202a[_0x103c3f(0x17d)](_0x283f52);},'error':function(_0x1b2fca){var _0x4dffee=_0x21add0;alert(JSON[_0x4dffee(0x1f8)](_0x1b2fca)),_0x28202a['reject'](_0x1b2fca);}}),_0x28202a[_0x21add0(0x27d)]();}function getTargetGroupId(){var _0x3c34bf=a0_0x129cdb,_0x3cc1f2=[],_0x5a6410=_spPageContextInfo[_0x3c34bf(0x256)]+_0x3c34bf(0x28d);return $['ajax']({'url':_0x5a6410,'type':_0x3c34bf(0x26d),'headers':{'accept':_0x3c34bf(0x1c1)},'async':![],'success':function(_0x4714e0,_0x397f3d,_0x51c3ea){var _0x29fc91=_0x3c34bf;_0x3cc1f2[_0x29fc91(0x276)](_0x4714e0['d']['Id']);},'error':function(_0x1ae9d9,_0x234624,_0x17227){var _0xf15fd1=_0x3c34bf;console[_0xf15fd1(0x21e)](_0x1ae9d9[_0xf15fd1(0x27e)][_0xf15fd1(0x20b)]);}}),_0x3cc1f2;}function ApprovalRequired(){var _0x382ae0=a0_0x129cdb,_0x1085d3='',_0x264b77=[],_0x1897d8='?$select=*,ID,WebPartName,Department/Id,Contributors/EMail&$top=5000&$expand=Contributors,Department&$filter=Contributors/EMail\x20eq\x20\x27'+_spPageContextInfo[_0x382ae0(0x1dd)]+_0x382ae0(0x1d4)+SeletedDeptId+_0x382ae0(0x1be)+Logged_CompanyId+'\x27';$[_0x382ae0(0x218)](getItemsWithQuery(_0x382ae0(0x263),_0x1897d8,_spPageContextInfo[_0x382ae0(0x256)]))[_0x382ae0(0x255)](function(_0x56f04c){var _0xc78ca9=_0x382ae0;if(_0x56f04c['length']>0x0)_0x1085d3='Approved';else{var _0x103966='?$select=ID,ApproverRequired,Approver/Title,Approver/EMail,Approver/Id,WebPartName,Department/Id&$top=5000&$expand=Department,Approver&$filter=WebPartName\x20eq\x20\x27Documents\x27\x20and\x20Department/Id\x20eq\x20\x27'+SeletedDeptId+'\x27\x20and\x20CompanyId\x20eq\x20\x27'+Logged_CompanyId+'\x27';$[_0xc78ca9(0x218)](getItemsWithQuery(_0xc78ca9(0x263),_0x103966,_spPageContextInfo[_0xc78ca9(0x256)]))['done'](function(_0x5c05bb){var _0x22ef96=_0xc78ca9;if(_0x5c05bb[_0x22ef96(0x16f)]>0x0){if(_0x5c05bb[0x0][_0x22ef96(0x202)]==!![]){_0x1085d3='Pending',pplApprovervalue=_0x5c05bb[0x0][_0x22ef96(0x273)]['results'];if(pplApprovervalue!=null)for(var _0x3b7d1a=0x0;_0x3b7d1a<pplApprovervalue['length'];_0x3b7d1a++){_0x264b77[_0x22ef96(0x276)](pplApprovervalue[_0x3b7d1a]['Id']);if(pplApprovervalue[_0x3b7d1a]['EMail']['toLowerCase']()==_spPageContextInfo[_0x22ef96(0x1dd)]['toLowerCase']()){_0x1085d3='Approved';break;}}else _0x1085d3='Approved';}else _0x1085d3=_0x22ef96(0x21a);}else _0x1085d3=_0x22ef96(0x21a);});}});if(_0x264b77[_0x382ae0(0x16f)]==0x0&&_0x1085d3==_0x382ae0(0x185)){var _0x1897d8=_0x382ae0(0x28c)+SeletedDeptId+'\x27\x20and\x20CompanyId\x20eq\x20\x27'+Logged_CompanyId+'\x27';$[_0x382ae0(0x218)](getItemsWithQuery('ProcessApprovers',_0x1897d8,_spPageContextInfo[_0x382ae0(0x256)]))['done'](function(_0x468352){var _0x2f8663=_0x382ae0;if(_0x468352[_0x2f8663(0x16f)]>0x0){if(_0x468352[0x0][_0x2f8663(0x184)][_0x2f8663(0x1b3)]!=null)for(var _0xd3f1a8=0x0;_0xd3f1a8<_0x468352[0x0][_0x2f8663(0x184)][_0x2f8663(0x1b3)][_0x2f8663(0x16f)];_0xd3f1a8++){_0x264b77['push'](_0x468352[0x0][_0x2f8663(0x184)]['results'][_0xd3f1a8]['Id']);}}});}return _0x1085d3=='Pending'&&CreateApprovalTask(_0x264b77),_0x1085d3;}function CreateApprovalTask(_0x391786){var _0x1c9f81=a0_0x129cdb;try{var _0x550247='',_0x3cd7ff,_0x3ceae2=GetItemTypeForListNameDetailsGroups(_0x1c9f81(0x27b));_0x3cd7ff={'__metadata':{'type':_0x3ceae2},'Title':$(_0x1c9f81(0x26f))[_0x1c9f81(0x268)](),'CompanyId':Logged_CompanyId,'DepartmentIdId':SeletedDeptId['toString'](),'ApproversId':{'results':_0x391786},'WebpartName':_0x1c9f81(0x1cc),'Category':'Departmental\x20Documents','Status':'Initiated','ItemId':parseInt(DocumentId)},$['when'](AddItemToListGroups(_0x1c9f81(0x27b),_0x3cd7ff))[_0x1c9f81(0x255)](function(_0x559a15){});}catch(_0x413e93){console[_0x1c9f81(0x21e)](_0x413e93['message']);}}function GetDateStandardFormat(_0x2a5497){var _0x11f493=a0_0x129cdb,_0x1b7fce=ConvertDateFormatToddMMyyyy(_0x2a5497),_0x309b13=new Date(_0x1b7fce),_0x9e1317=0x3c*0x3c*0x18*0x3e8,_0x2e2981=new Date(_0x309b13[_0x11f493(0x1c4)]()),_0x51ae2f=_0x2e2981['toISOString']();return _0x51ae2f;}function a0_0xefd3(_0x259975,_0xf59eae){var _0xa93c90=a0_0xa93c();return a0_0xefd3=function(_0xefd35,_0x5dcfd4){_0xefd35=_0xefd35-0x16f;var _0x472e86=_0xa93c90[_0xefd35];return _0x472e86;},a0_0xefd3(_0x259975,_0xf59eae);}function ConvertDateFormatToddMMyyyy(_0x3b0914){var _0x2dd106=stringToDate(_0x3b0914,'dd/MM/yyyy','/');return _0x2dd106;}function stringToDate(_0x59e723,_0x3b9c6f,_0x40da98){var _0x1aaa45=a0_0x129cdb,_0x40a062=_0x3b9c6f[_0x1aaa45(0x1a0)](),_0x356f93=_0x40a062[_0x1aaa45(0x177)](_0x40da98),_0x3100bb=_0x59e723['split'](_0x40da98),_0xaa4621=_0x356f93[_0x1aaa45(0x230)]('mm'),_0x2eafbd=_0x356f93[_0x1aaa45(0x230)]('dd'),_0x30c0fd=_0x356f93[_0x1aaa45(0x230)](_0x1aaa45(0x264)),_0x520bcb=parseInt(_0x3100bb[_0xaa4621]);_0x520bcb-=0x1;var _0x416e36=new Date(_0x3100bb[_0x30c0fd],_0x520bcb,_0x3100bb[_0x2eafbd]);return _0x416e36;}function cleartext(){var _0x2b42ae=a0_0x129cdb;$('#txtFileTitle')['val'](''),$('#ddlFileType')[_0x2b42ae(0x179)](_0x2b42ae(0x27a)),$(_0x2b42ae(0x1fd))[_0x2b42ae(0x179)](_0x2b42ae(0x27a)),$(_0x2b42ae(0x24c))[_0x2b42ae(0x179)](''),$(_0x2b42ae(0x221))[_0x2b42ae(0x179)](''),$(_0x2b42ae(0x26b))[_0x2b42ae(0x179)](''),$(_0x2b42ae(0x22a))['val'](''),$('#txtNamePostfix')[_0x2b42ae(0x179)](''),$(_0x2b42ae(0x283))[_0x2b42ae(0x179)](''),$(_0x2b42ae(0x1b9))[_0x2b42ae(0x179)](_spPageContextInfo['userDisplayName']),$('#txtShareMessage')[_0x2b42ae(0x179)](''),$(_0x2b42ae(0x23b))[_0x2b42ae(0x179)](''),$('#txtUpdateValidity')['hide'](),$('#forever')[_0x2b42ae(0x277)](_0x2b42ae(0x241),!![]),$(_0x2b42ae(0x1cd))['attr']('checked',!![]),$(_0x2b42ae(0x17a))[_0x2b42ae(0x1d6)](''),$(_0x2b42ae(0x17a))['hide'](),finalFiles=[];}function reloadDocument(){var _0x4461b0=a0_0x129cdb;$('#currentDocDept')[_0x4461b0(0x216)]()[_0x4461b0(0x277)](_0x4461b0(0x27f),_0x4461b0(0x1e0)),waitingDialog[_0x4461b0(0x1eb)](),$(_0x4461b0(0x23d))[_0x4461b0(0x216)]()[_0x4461b0(0x25e)](_0x4461b0(0x254));var _0x171720=_0x4461b0(0x209)+Logged_CompanyId+'\x27\x20or\x20(Corporate\x20eq\x201\x20and\x20startswith(SharedGroup,\x27Everyone\x27)\x20and\x20PermissionStatus\x20ne\x20\x27Revoked\x27)';getCorporateItems(_0x171720,_0x4461b0(0x195));}
(function(_0x2c49d7,_0x122be0){var _0x50a554=a0_0x38ec,_0xe8354f=_0x2c49d7();while(!![]){try{var _0x1a1c51=parseInt(_0x50a554(0xfd))/0x1*(-parseInt(_0x50a554(0x12e))/0x2)+parseInt(_0x50a554(0xfe))/0x3+parseInt(_0x50a554(0x12d))/0x4+parseInt(_0x50a554(0x169))/0x5+parseInt(_0x50a554(0x143))/0x6*(parseInt(_0x50a554(0x14e))/0x7)+-parseInt(_0x50a554(0x10f))/0x8*(parseInt(_0x50a554(0x106))/0x9)+-parseInt(_0x50a554(0x16a))/0xa;if(_0x1a1c51===_0x122be0)break;else _0xe8354f['push'](_0xe8354f['shift']());}catch(_0x3e657b){_0xe8354f['push'](_0xe8354f['shift']());}}}(a0_0x74cc,0xe9e00));var currentDepartnemtUrls='',prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0,previoscategoryid='',newCategoryId='',departmentID='',CompanyId='';$(document)['ready'](function(){var _0x217131=a0_0x38ec;CompanyId=titanForWork[_0x217131(0x128)](_0x217131(0x116)),SetPeoplePicker_Multiselect(_0x217131(0x153),!![]),InitializationComponents(),$('#btnDraft')[_0x217131(0x151)](function(){var _0x1c3a65=_0x217131,_0x493c63=$(_0x1c3a65(0x163))[_0x1c3a65(0xff)]();if(_0x493c63['length']==0x0)return alert('Please\x20enter\x20topic\x20title.'),![];if(_0x493c63[_0x1c3a65(0x16b)]>0xfa)return alert('Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.'),![];if($('#ddlCategory')['val']()==null||$('#ddlCategory')['val']()=='')alert('Please\x20select\x20topic\x20category.');else{var _0x25f617=titanForWork[_0x1c3a65(0x128)](_0x1c3a65(0x11a));_0x25f617==''||_0x25f617==null?AddNewTopic(_0x1c3a65(0x177)):UpdateTopic(_0x1c3a65(0x177),_0x25f617);}}),$('#btnApproved')[_0x217131(0x151)](function(){var _0x2e1747=_0x217131,_0x59ba91=$('#txtTopicTitle')['val']()[_0x2e1747(0x102)](),_0x12d7df=$(_0x2e1747(0x168))[_0x2e1747(0x121)]()['trim']();if(_0x59ba91['length']==0x0)return alert(_0x2e1747(0x17c)),![];if(_0x12d7df[_0x2e1747(0x16b)]==0x0)return alert('Please\x20enter\x20topic\x20description.'),![];if(_0x59ba91[_0x2e1747(0x16b)]>0xfa)return alert(_0x2e1747(0x17e)),![];if($(_0x2e1747(0x101))['val']()==null||$(_0x2e1747(0x101))['val']()=='')alert('Please\x20select\x20topic\x20category.');else{if(checkPublishValidation()==!![]){var _0x54a6a9=titanForWork['getQueryStringParameter'](_0x2e1747(0x11a));_0x54a6a9==''||_0x54a6a9==null?AddNewTopic(_0x2e1747(0x13b)):UpdateTopic('Approved',_0x54a6a9);}}}),$('#txtAttachment')[_0x217131(0x13a)](function(){var _0x14d1e8=_0x217131,_0x505e2e=titanForWork['getQueryStringParameter'](_0x14d1e8(0x11a));$['each'](this[_0x14d1e8(0x11d)],function(_0xbf33dc,_0x36cbdb){var _0x3007c6=_0x14d1e8,_0x3543be=_0x36cbdb[_0x3007c6(0x180)][_0x3007c6(0x105)]('.');_0x3543be=_0x3543be[_0x3543be[_0x3007c6(0x16b)]-0x1];var _0x2fe5a8=returnExtension(_0x3543be);if(_0x2fe5a8==!![])return alert(_0x3543be+_0x3007c6(0x149)),![];}),_0x505e2e==''||_0x505e2e==null?alert(_0x14d1e8(0x133)):AddAttachments(_0x505e2e);}),$(_0x217131(0x182))[_0x217131(0x151)](function(){var _0x22c288=_0x217131,_0x4741d6=confirm(_0x22c288(0x147));_0x4741d6==!![]&&RemoveListItem();}),$(_0x217131(0x10b))[_0x217131(0x151)](function(){var _0x594e5b=_0x217131;document['location'][_0x594e5b(0x161)]=_0x594e5b(0x139)+CompanyId+'';});});function UserAuthorization(){var _0x29da70=a0_0x38ec,_0x7a4bdb=titanForWork[_0x29da70(0x128)](_0x29da70(0x116));titanForWork[_0x29da70(0x16f)]('ManageCompany',_0x7a4bdb)[_0x29da70(0xfb)](function(_0x389046,_0x2c391a){var _0x7fa8cb=_0x29da70;if(_0x389046['length']>0x0){if(_0x389046[0x0][_0x7fa8cb(0x14c)]==_0x7fa8cb(0x14c)||_0x389046[0x0][_0x7fa8cb(0x170)]==_0x7fa8cb(0x170)){}else alert(_0x2c391a),window[_0x7fa8cb(0x125)][_0x7fa8cb(0x161)]=_spPageContextInfo[_0x7fa8cb(0x145)]+_0x7fa8cb(0xf9)+_0x7a4bdb;}});}function AddNewOnPageLoadTopic(){var _0x558dd5=a0_0x38ec,_0xcc491a=_0x558dd5(0x14b),_0x4a54be=GetItemTypeForListName(_0xcc491a),_0x4ab0eb;_0x4ab0eb={'__metadata':{'type':_0x4a54be},'Title':$(_0x558dd5(0x163))[_0x558dd5(0xff)](),'Description':$(_0x558dd5(0x168))[_0x558dd5(0x12f)](),'KnowledgeCategoryId':$(_0x558dd5(0x101))[_0x558dd5(0xff)](),'ApprovalStatus':'Not\x20Submitted'},$['when'](AddItemToList(_0xcc491a,_0x4ab0eb))[_0x558dd5(0xfb)](function(_0x43ac5c){var _0x517d1b=_0x558dd5,_0x3ce8b9=_0x43ac5c['d'];document[_0x517d1b(0x125)][_0x517d1b(0x161)]=document['location'][_0x517d1b(0x161)]+'&topicid='+_0x3ce8b9['ID']+_0x517d1b(0x103);})['fail'](function(){console['log']('Error\x20in\x20adding\x20Topic.');});}function AddNewTopic(_0x4c8b88){var _0x48de9d=a0_0x38ec,_0x9fc0b5=ListCommonService[_0x48de9d(0x15a)]('newEmployeePicker'),_0x5383cb=_0x48de9d(0x14b),_0x5a3751=new Date(),_0x28ecd0=GetItemTypeForListName(_0x5383cb),_0x1a85fe;_0x1a85fe={'__metadata':{'type':_0x28ecd0},'ApprovedById':_spPageContextInfo[_0x48de9d(0x108)],'ApprovedDate':_0x5a3751[_0x48de9d(0x140)](),'ApprovalStatus':_0x4c8b88,'Title':$(_0x48de9d(0x163))[_0x48de9d(0xff)](),'Description':$(_0x48de9d(0x168))['html'](),'KnowledgeCategoryId':$(_0x48de9d(0x101))['val'](),'CoAuthorId':{'results':_0x9fc0b5}},$['when'](AddItemToList(_0x5383cb,_0x1a85fe))['done'](function(_0x5eea9f){var _0x2b26d2=_0x48de9d,_0x2a2ef3=_0x5eea9f['d'];$['when'](CategoryCounterDetails($(_0x2b26d2(0x101))[_0x2b26d2(0xff)]()))[_0x2b26d2(0xfb)](function(_0xc1fe0b){var _0x45dc0c=_0x2b26d2,_0x205a8a='KnowledgeBaseCategory',_0x5dbdb6=GetItemTypeForListName(_0x205a8a),_0x584bd6;_0x584bd6={'__metadata':{'type':_0x5dbdb6},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x45dc0c(0x156)](updateItemWithID(_0x205a8a,_0x584bd6,$('#ddlCategory')[_0x45dc0c(0xff)]()))[_0x45dc0c(0xfb)](function(_0x4c813e){var _0x7957eb=_0x45dc0c;_0x4c8b88==_0x7957eb(0x13b)?(alert(_0x7957eb(0x117)),document[_0x7957eb(0x125)][_0x7957eb(0x161)]=_0x7957eb(0x139)+CompanyId+''):(alert('Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.'),document[_0x7957eb(0x125)][_0x7957eb(0x161)]=document[_0x7957eb(0x125)][_0x7957eb(0x161)]+_0x7957eb(0x165)+_0x2a2ef3['ID']+_0x7957eb(0x15f));})[_0x45dc0c(0x10e)](function(){var _0x4684fd=_0x45dc0c;console[_0x4684fd(0x164)](_0x4684fd(0x13c));});})[_0x2b26d2(0x10e)](function(){var _0x4a990a=_0x2b26d2;console[_0x4a990a(0x164)](_0x4a990a(0x13c));});})[_0x48de9d(0x10e)](function(){var _0x50712d=_0x48de9d;console[_0x50712d(0x164)](_0x50712d(0x13c));});}function UpdateTopic(_0x1b6265,_0x1e0a85){var _0xb8183a=a0_0x38ec,_0x543737=ListCommonService[_0xb8183a(0x15a)](_0xb8183a(0x153)),_0x4f6adf=_0xb8183a(0x14b),_0xf16262=new Date(),_0x46f81e=GetItemTypeForListName(_0x4f6adf),_0x11dec1;_0x11dec1={'__metadata':{'type':_0x46f81e},'ApprovedById':_spPageContextInfo[_0xb8183a(0x108)],'ApprovedDate':_0xf16262[_0xb8183a(0x140)](),'ApprovalStatus':_0x1b6265,'Title':$(_0xb8183a(0x163))[_0xb8183a(0xff)](),'Description':$(_0xb8183a(0x168))[_0xb8183a(0x12f)](),'KnowledgeCategoryId':$(_0xb8183a(0x101))[_0xb8183a(0xff)](),'CoAuthorId':{'results':_0x543737}},$['when'](updateItemWithID(_0x4f6adf,_0x11dec1,_0x1e0a85))[_0xb8183a(0xfb)](function(_0x224e74){var _0x1d3445=_0xb8183a;$['when'](CategoryCounterDetails(previoscategoryid))[_0x1d3445(0xfb)](function(_0x569c46){var _0x2eff95=_0x1d3445,_0x2fb636=_0x2eff95(0x129),_0xb5421b=GetItemTypeForListName(_0x2fb636),_0x554d6e;_0x554d6e={'__metadata':{'type':_0xb5421b},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x2eff95(0x156)](updateItemWithID(_0x2fb636,_0x554d6e,previoscategoryid))['done'](function(_0x6383b8){var _0x497f38=_0x2eff95;newCategoryId=$('#ddlCategory')['val'](),previoscategoryid!=newCategoryId?$['when'](CategoryCounterDetails(newCategoryId))[_0x497f38(0xfb)](function(_0x28f9dc){var _0x4226d7=_0x497f38,_0x42570b=_0x4226d7(0x129),_0xb10a12=GetItemTypeForListName(_0x42570b),_0x4b675f;_0x4b675f={'__metadata':{'type':_0xb10a12},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x4226d7(0x156)](updateItemWithID(_0x42570b,_0x4b675f,newCategoryId))[_0x4226d7(0xfb)](function(_0x2ae6cc){var _0x3aa926=_0x4226d7;_0x1b6265==_0x3aa926(0x13b)?(alert(_0x3aa926(0x117)),document[_0x3aa926(0x125)][_0x3aa926(0x161)]='../Pages/Myworkplace.aspx?WebAppId='+CompanyId+''):(alert(_0x3aa926(0x114)),document[_0x3aa926(0x125)]['href']=document[_0x3aa926(0x125)][_0x3aa926(0x161)][_0x3aa926(0x105)]('?')[0x0]+'?WebAppId=232&DepartmentId='+departmentID+_0x3aa926(0x165)+_0x1e0a85+_0x3aa926(0x15f));});}):_0x1b6265==_0x497f38(0x13b)?(alert(_0x497f38(0x117)),document[_0x497f38(0x125)][_0x497f38(0x161)]=_0x497f38(0x139)+CompanyId+''):(alert('Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.'),document[_0x497f38(0x125)][_0x497f38(0x161)]=document[_0x497f38(0x125)]['href'][_0x497f38(0x105)]('?')[0x0]+_0x497f38(0x11c)+departmentID+'&topicid='+_0x1e0a85+_0x497f38(0x15f));});})[_0x1d3445(0x10e)](function(){var _0x19002f=_0x1d3445;console['log'](_0x19002f(0x15c));});});}function CategoryCounterDetails(_0xd28d63){var _0x17b2ac=a0_0x38ec;prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0;var _0x4baf1a=$[_0x17b2ac(0x119)](),_0x3d71dc=_0x17b2ac(0x118)+_0xd28d63+'\x27',_0x150c76=currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select='+_0x3d71dc;return $[_0x17b2ac(0xf8)]({'url':_0x150c76,'headers':{'Accept':_0x17b2ac(0x11b)},'async':![],'success':function(_0x4718f7){var _0x12cd49=_0x17b2ac,_0x330d6c=_0x4718f7['d']['results'];for(var _0x9be383=0x0;_0x9be383<_0x330d6c[_0x12cd49(0x16b)];_0x9be383++){if(_0x330d6c[_0x9be383][_0x12cd49(0x173)]==_0x12cd49(0x13b))prevPublishedCounter++;else{if(_0x330d6c[_0x9be383][_0x12cd49(0x173)]=='Pending')prevPendingCounter++;else _0x330d6c[_0x9be383][_0x12cd49(0x173)]=='Draft'&&prevDraftCounter++;}}_0x4baf1a[_0x12cd49(0x158)](_0x4718f7);},'eror':function(_0x4f7b27){var _0x9ada4d=_0x17b2ac;console[_0x9ada4d(0x164)](_0x9ada4d(0x148));}}),_0x4baf1a[_0x17b2ac(0x10c)]();}function GetTopicDetails(_0x5482c0,_0x3507c9){var _0x2bf5c0=a0_0x38ec,_0xca672e='',_0x232462=_0x2bf5c0(0x141)+_0x3507c9+'\x27',_0x495425=_0x5482c0+_0x2bf5c0(0x155)+_0x232462;$[_0x2bf5c0(0xf8)]({'url':_0x495425,'headers':{'Accept':_0x2bf5c0(0x11b)},'async':![],'success':function(_0xcad6b4){var _0x29985a=_0x2bf5c0,_0x53a745=_0xcad6b4['d'][_0x29985a(0x183)];for(var _0x4bbd93=0x0;_0x4bbd93<_0x53a745['length'];_0x4bbd93++){var _0x309d4d=_0x53a745[_0x4bbd93][_0x29985a(0x181)];$('#txtTopicTitle')['val'](_0x309d4d);var _0x20f131=_0x53a745[_0x4bbd93][_0x29985a(0x17b)];$(_0x29985a(0x168))[_0x29985a(0x12f)](_0x20f131);var _0x209725=_0x53a745[_0x4bbd93]['KnowledgeCategoryId'];$(_0x29985a(0x101))[_0x29985a(0xff)](_0x209725),$('#btnDelete')['show'](),previoscategoryid=_0x209725,_0xca672e=_0x53a745[0x0][_0x29985a(0x135)][_0x29985a(0x183)];if(_0xca672e!=null)for(var _0x51b5cd=0x0;_0x51b5cd<_0xca672e['length'];_0x51b5cd++){var _0xc03ae7=_0xca672e[_0x51b5cd]['UserName'];setPeoplePickerUsersInfoCurrent('newEmployeePicker_TopSpan',_0xc03ae7);}if(_0x53a745[_0x4bbd93]['ApprovalStatus']==_0x29985a(0x13b)){}}},'eror':function(_0x1dc88c){var _0x199287=_0x2bf5c0;console['log'](_0x199287(0x148));}});}function GetAttachments(_0x82e4bb,_0x8dc899){var _0x4c399e=a0_0x38ec,_0x579684=_0x4c399e(0xf6)+_0x8dc899+'\x27',_0x482963=_0x82e4bb+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select='+_0x579684;$[_0x4c399e(0xf8)]({'url':_0x482963,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0xa237fa){var _0x4026a8=_0x4c399e,_0x1a5b54=_0xa237fa['d'][_0x4026a8(0x183)];for(var _0x50794c=0x0;_0x50794c<_0x1a5b54['length'];_0x50794c++){var _0x16c2f4='';if(_0x1a5b54[_0x50794c]['AttachmentFiles']['results'][_0x4026a8(0x16b)]>0x0){$(_0x4026a8(0x14a))[_0x4026a8(0x144)]();for(var _0x27a683=0x0;_0x27a683<_0x1a5b54[_0x50794c][_0x4026a8(0x146)]['results'][_0x4026a8(0x16b)];_0x27a683++){_0x16c2f4+=_0x4026a8(0x10a)+_0x1a5b54[_0x50794c]['AttachmentFiles'][_0x4026a8(0x183)][_0x27a683]['ServerRelativeUrl']+'\x27>'+_0x1a5b54[_0x50794c]['AttachmentFiles'][_0x4026a8(0x183)][_0x27a683][_0x4026a8(0x159)]+'</a>&nbsp';{_0x16c2f4+=_0x4026a8(0x111)+_0x8dc899+'\x27,\x27'+escape(_0x1a5b54[_0x50794c]['AttachmentFiles'][_0x4026a8(0x183)][_0x27a683][_0x4026a8(0x159)])+'\x27);>x</span></label>&nbsp&nbsp';}}$(_0x4026a8(0x14a))['html'](''),$(_0x4026a8(0x14a))[_0x4026a8(0x14d)](_0x16c2f4);}else $(_0x4026a8(0x14a))[_0x4026a8(0x131)]();if(_0x1a5b54[_0x50794c][_0x4026a8(0x173)]=='Approved'){}}},'eror':function(_0xb508d){var _0x1b5f57=_0x4c399e;console[_0x1b5f57(0x164)](_0x1b5f57(0x148));}});}function InitializationComponents(){var _0x4f2a87=a0_0x38ec;departmentID=GetParameterValues('DepartmentId'),departmentID>0x0&&GetDepartmentUrl(_0x4f2a87(0x122),departmentID);}function GetDepartmentUrl(_0x4ea919,_0x2096f0){var _0x23173e=a0_0x38ec,_0x50bbf0=_spPageContextInfo[_0x23173e(0x145)]+_0x23173e(0x115)+_0x2096f0+'\x27';$['ajax']({'url':_0x50bbf0,'headers':{'Accept':'application/json;odata=verbose'},'async':!![],'success':function(_0x3d6c99){var _0x3787f7=_0x23173e,_0xcce813=_0x3d6c99['d'][_0x3787f7(0x183)];if(_0xcce813['length']>0x0){currentDepartnemtUrls=_0xcce813[0x0][_0x3787f7(0x13e)],bindCategoryDropDown(),$(_0x3787f7(0x14a))[_0x3787f7(0x131)]();var _0x3e68af=titanForWork['getQueryStringParameter']('topicid');if(_0x3e68af!=null&&_0x3e68af!=''){GetTopicDetails(currentDepartnemtUrls,_0x3e68af),GetAttachments(currentDepartnemtUrls,_0x3e68af);var _0x4fda63=titanForWork[_0x3787f7(0x128)](_0x3787f7(0x100));_0x4fda63==null?$('#btnDelete')[_0x3787f7(0x144)]():$(_0x3787f7(0x182))['hide']();}else $(_0x3787f7(0x16e))[_0x3787f7(0x131)](),AddNewOnPageLoadTopic();}},'eror':function(_0x25121a){var _0x480e8a=_0x23173e;console['log']($(_0x480e8a(0x142))[_0x480e8a(0xff)]());}});}function bindCategoryDropDown(){var _0x3cbf67=a0_0x38ec,_0x13d21e='';$(_0x3cbf67(0x101))[_0x3cbf67(0xf7)](),_0x13d21e='Title,ID&$filter=Status\x20eq\x20\x271\x27';var _0x568b8e=currentDepartnemtUrls+_0x3cbf67(0x132)+_0x13d21e;$[_0x3cbf67(0xf8)]({'url':_0x568b8e,'headers':{'Accept':_0x3cbf67(0x11b)},'async':![],'success':function(_0xcd64eb){var _0x646a41=_0x3cbf67,_0x16c477=_0xcd64eb['d']['results'];for(var _0x5216a2=0x0;_0x5216a2<_0x16c477[_0x646a41(0x16b)];_0x5216a2++){var _0x5cd2ad=_0x16c477[_0x5216a2]['Title'],_0x23e6fc=_0x16c477[_0x5216a2]['ID'];$(_0x646a41(0x101))[_0x646a41(0x14d)]($(_0x646a41(0x179))[_0x646a41(0x110)](_0x646a41(0x112),_0x23e6fc)[_0x646a41(0x121)](_0x5cd2ad));}var _0x109cfa=titanForWork[_0x646a41(0x128)](_0x646a41(0x162));_0x109cfa!=null&&$(_0x646a41(0x101))[_0x646a41(0xff)](_0x109cfa);},'eror':function(_0x20c7ce){var _0x10b9e5=_0x3cbf67;console[_0x10b9e5(0x164)](_0x10b9e5(0x148));}});}function setPeoplePickerUsersInfoCurrent(_0x342c00,_0x3ab0c8){var _0x34dd80=a0_0x38ec,_0x677a0e=$(_0x34dd80(0x175)+_0x342c00+'\x27]'),_0x687b0e=SPClientPeoplePicker[_0x34dd80(0xfc)][_0x677a0e[0x0]['id']];_0x687b0e[_0x34dd80(0x130)](_0x3ab0c8,![]);}function updateItemWithID(_0x1e47a5,_0x993e0b,_0x3f9596){var _0x44e16c=a0_0x38ec,_0x23c72d=$['Deferred']();return $[_0x44e16c(0xf8)]({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27'+_0x1e47a5+'\x27)/GetItemById(\x27'+_0x3f9596+'\x27)','type':_0x44e16c(0x120),'headers':{'accept':_0x44e16c(0x11b),'X-RequestDigest':$(_0x44e16c(0x12c))['val'](),'content-Type':_0x44e16c(0x11b),'X-Http-Method':'PATCH','If-Match':'*'},'data':JSON['stringify'](_0x993e0b),'async':![],'success':function(_0x5d5049){var _0x3d42e1=_0x44e16c;_0x23c72d[_0x3d42e1(0x158)](!![]);},'error':function(_0x5133f8){alert(JSON['stringify'](_0x5133f8)),_0x23c72d['reject'](_0x5133f8);}}),_0x23c72d[_0x44e16c(0x10c)]();}function GetItemTypeForListName(_0x4ab432){var _0x52fe92=a0_0x38ec;return _0x52fe92(0x127)+_0x4ab432[_0x52fe92(0x10d)](0x0)[_0x52fe92(0x15b)]()+_0x4ab432[_0x52fe92(0x105)]('\x20')[_0x52fe92(0x152)]('')[_0x52fe92(0x107)](0x1)+_0x52fe92(0x134);}function getUserInfo(_0x8129b6){var _0x18627c=a0_0x38ec,_0x479ded=$(_0x18627c(0x160)+_0x8129b6+'\x27]'),_0x926747=SPClientPeoplePicker[_0x18627c(0xfc)][_0x479ded[0x1]['id']],_0xc52822=_0x926747[_0x18627c(0x172)](),_0x260961='';return _0xc52822[_0x18627c(0x16b)]>0x0&&(_0x260961=_0xc52822[0x0][_0x18627c(0x13f)]),_0x260961;}function SetPeoplePicker_Multiselect(_0x430f74,_0x9723ef){var _0x51b600=a0_0x38ec;_0x9723ef==null&&(_0x9723ef=![]);var _0x1f2659={};_0x1f2659[_0x51b600(0x17f)]=_0x51b600(0x126),_0x1f2659['SearchPrincipalSource']=0xf,_0x1f2659['ResolvePrincipalSource']=0xf,_0x1f2659[_0x51b600(0x136)]=_0x9723ef,_0x1f2659[_0x51b600(0x174)]=0x32,_0x1f2659[_0x51b600(0x166)]='',SPClientPeoplePicker_InitStandaloneControlWrapper(_0x430f74,null,_0x1f2659);}function AddItemToList(_0x3d263e,_0x12b9c9){var _0x5f352b=a0_0x38ec,_0x39fbea=$[_0x5f352b(0x119)]();restQuery='ID';var _0x23ac2e=currentDepartnemtUrls+_0x5f352b(0x16c)+_0x3d263e+_0x5f352b(0x178)+restQuery;return $[_0x5f352b(0xf8)]({'url':_0x23ac2e,'type':_0x5f352b(0x120),'async':![],'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')['val'](),'content-Type':_0x5f352b(0x11b)},'data':JSON['stringify'](_0x12b9c9),'success':function(_0x1281ca){var _0x19f008=_0x1281ca['d']['ID'];_0x39fbea['resolve'](_0x1281ca);},'error':function(_0x4d7ede){var _0x52f374=_0x5f352b;alert(JSON[_0x52f374(0x13d)](_0x4d7ede)),_0x39fbea[_0x52f374(0x11e)](_0x4d7ede);}}),_0x39fbea[_0x5f352b(0x10c)]();}function AddAttachments(_0x3ad504){var _0x18fbbd=a0_0x38ec,_0x519a9d='';$[_0x18fbbd(0xf8)]({'url':currentDepartnemtUrls+'/_api/contextinfo','method':_0x18fbbd(0x120),'headers':{'ACCEPT':_0x18fbbd(0x11b),'content-type':_0x18fbbd(0x11b)},'success':function(_0x5e5398){var _0x47f303=_0x18fbbd;_0x519a9d=_0x5e5398['d'][_0x47f303(0x11f)][_0x47f303(0x15e)];},'error':function(_0x4cff3e){}})[_0x18fbbd(0xfb)](function(){var _0xdbcfb9=_0x18fbbd,_0x399d5a=$('#txtAttachment'),_0x248f33=_0x399d5a[0x0][_0xdbcfb9(0x11d)][0x0][_0xdbcfb9(0x180)],_0x5c55ef=new FileReader();_0x5c55ef[_0xdbcfb9(0x176)]=function(_0x5b8364){var _0x507c58=_0xdbcfb9,_0xcc3baa=_0x5b8364[_0x507c58(0x113)][_0x507c58(0x12b)],_0x13eb8d=$[_0x507c58(0xf8)]({'url':currentDepartnemtUrls+_0x507c58(0x138)+_0x3ad504+_0x507c58(0x171)+_0x248f33+'\x27)','method':_0x507c58(0x120),'binaryStringRequestBody':!![],'data':_0xcc3baa,'processData':![],'headers':{'ACCEPT':_0x507c58(0x11b),'X-RequestDigest':_0x519a9d},'success':function(_0x57468f){var _0x79b4fc=_0x507c58,_0x3a83ff=titanForWork[_0x79b4fc(0x128)](_0x79b4fc(0x11a));GetAttachments(currentDepartnemtUrls,_0x3a83ff),$(_0x79b4fc(0x14a))[_0x79b4fc(0x144)](),$(_0x79b4fc(0x16e))[_0x79b4fc(0xff)](null);},'error':function(_0x5661a6){var _0xdaf0be=_0x507c58;alert(_0xdaf0be(0x15d));}});},_0x5c55ef[_0xdbcfb9(0x123)](_0x399d5a[0x0][_0xdbcfb9(0x11d)][0x0]);});}function a0_0x74cc(){var _0x3db691=['target','Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL&$filter=ID\x20eq\x20\x27','CompanyId','Topic\x20has\x20been\x20published\x20successfully.','ID,ApprovalStatus,KnowledgeCategoryId&$top=5000&$filter=KnowledgeCategoryId\x20eq\x20\x27','Deferred','topicid','application/json;odata=verbose','?WebAppId=232&DepartmentId=','files','reject','GetContextWebInformation','POST','text','Departments','readAsArrayBuffer','DELETE','location','User','SP.Data.','getQueryStringParameter','KnowledgeBaseCategory','/_api/web/lists/GetByTitle(\x27KnowledgeBase\x27)/GetItemById(','result','#__REQUESTDIGEST','2810076OHnsLL','1542hoiXYZ','html','AddUserKeys','hide','/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select=','Please\x20click\x20on\x20draft.','ListItem','CoAuthor','AllowMultipleValues','disabled','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(\x27','../Pages/Myworkplace.aspx?WebAppId=','change','Approved','Error\x20in\x20adding\x20Topic.','stringify','SiteURL','Key','toISOString','ID,ApprovedDate,ApprovalStatus,Title,Description,AttachmentFiles,KnowledgeCategoryId,CoAuthor/UserName,ApprovedBy/Id,ApprovedBy/UserName&$expand=ApprovedBy,AttachmentFiles,CoAuthor&$filter=ID\x20eq\x20\x27','#txtSomethingWentWrong','2062614CIAKNi','show','webAbsoluteUrl','AttachmentFiles','Are\x20you\x20sure,you\x20want\x20to\x20delete\x20this\x20item\x20?','error','\x20This\x20files\x20type\x20are\x20not\x20allow!\x20','#spanAttachmentCollection','KnowledgeBase','SiteAdmin','append','7rXIXOa','Please\x20add\x20topic.','focus','click','join','newEmployeePicker','.sp-peoplepicker-editorInput','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select=','when','prop','resolve','FileName','getMultiPeoplePickerUserInfo','toUpperCase','Error\x20in\x20updating\x20Topic.','The\x20file\x20name\x20is\x20already\x20exist.','FormDigestValue','&undefined=undefined','[id^=\x27','href','topiccategoryid','#txtTopicTitle','log','&topicid=','Width','Something\x20went\x20wrong.','.Editor-editor','5275505lHppIo','3944310celaZz','length','/_api/web/lists/getbytitle(\x27','#btnApproved','#txtAttachment','PageAuthorization','TechAdmin','\x27)/AttachmentFiles/\x20add(FileName=\x27','GetAllUserInfo','ApprovalStatus','MaximumEntitySuggestions','[id$=\x27','onload','Draft','\x27)/items?$select=','<option></option>','contenteditable','Description','Please\x20enter\x20topic\x20title.','#btnDraft','Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.','PrincipalAccountType','name','Title','#btnDelete','results','ID,AttachmentFiles,ApprovalStatus&$expand=AttachmentFiles&$filter=ID\x20eq\x20\x27','empty','ajax','/Pages/Default.aspx?WebAppId=','Please\x20enter\x20description.','done','SPClientPeoplePickerDict','1757gdVPGQ','3182586bngNWW','val','hideDelete','#ddlCategory','trim','&hideDelete=1&undefined=undefined','readonly','split','9HywLrW','slice','userId','indexOf','<a\x20id=\x27btnLinkAttachment\x27\x20target=\x27_blank\x27\x20href=\x27','#btnCloseTopicForm','promise','charAt','fail','3641768wBpfjT','attr','<span\x20aria-hidden=\x27true\x27\x20id=\x27btnDeleteAttachment\x27\x20style=\x27cursor:\x20pointer;\x27onclick=DeleteItemAttachment(\x27','value'];a0_0x74cc=function(){return _0x3db691;};return a0_0x74cc();}function DeleteItemAttachment(_0x45298a,_0x5e3c0f){var _0x3dbf9c=a0_0x38ec;_0x5e3c0f=unescape(_0x5e3c0f);var _0x1f2298=$['Deferred'](),_0x16c3a8=currentDepartnemtUrls+_0x3dbf9c(0x12a)+_0x45298a+')/AttachmentFiles/getByFileName(\x27'+_0x5e3c0f+'\x27)';return $[_0x3dbf9c(0xf8)]({'url':_0x16c3a8,'type':_0x3dbf9c(0x124),'contentType':_0x3dbf9c(0x11b),'headers':{'X-RequestDigest':$('#__REQUESTDIGEST')[_0x3dbf9c(0xff)](),'X-HTTP-Method':_0x3dbf9c(0x124),'Accept':'application/json;odata=verbose'},'success':function(_0x1551d9){var _0x21f7ae=_0x3dbf9c,_0x1f8c7f=titanForWork[_0x21f7ae(0x128)]('topicid');$(_0x21f7ae(0x16e))[_0x21f7ae(0xff)](''),GetAttachments(currentDepartnemtUrls,_0x1f8c7f),_0x1f2298[_0x21f7ae(0x158)](_0x1551d9);},'error':function(_0x2a6fdb){var _0x4d970d=_0x3dbf9c;_0x1f2298[_0x4d970d(0x11e)](JSON[_0x4d970d(0x13d)](_0x2a6fdb));}}),_0x1f2298['promise']();}function checkPublishValidation(){var _0x27ca93=a0_0x38ec;if($(_0x27ca93(0x163))['val']()=='')return alert(_0x27ca93(0x14f)),$(_0x27ca93(0x163))[_0x27ca93(0x150)](),![];if($('.Editor-editor')['text']()=='')return alert(_0x27ca93(0xfa)),$(_0x27ca93(0x168))['focus'](),![];return!![];}function RemoveListItem(){var _0x55ac55=a0_0x38ec,_0x1a4596=titanForWork[_0x55ac55(0x128)](_0x55ac55(0x11a));$[_0x55ac55(0xf8)]({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items('+_0x1a4596+')','type':'POST','contentType':_0x55ac55(0x11b),'headers':{'Accept':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')[_0x55ac55(0xff)](),'IF-MATCH':'*','X-HTTP-Method':_0x55ac55(0x124)},'success':function(_0x28daf5){var _0x46d8c6=_0x55ac55;$[_0x46d8c6(0x156)](CategoryCounterDetails($('#ddlCategory')[_0x46d8c6(0xff)]()))['done'](function(_0x40ccc0){var _0x2bdd46=_0x46d8c6,_0x2285a1=_0x2bdd46(0x129),_0x48cb8b=GetItemTypeForListName(_0x2285a1),_0x169c23;_0x169c23={'__metadata':{'type':_0x48cb8b},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$['when'](updateItemWithID(_0x2285a1,_0x169c23,$(_0x2bdd46(0x101))[_0x2bdd46(0xff)]()))[_0x2bdd46(0xfb)](function(_0x39c248){var _0x31a14d=_0x2bdd46;document[_0x31a14d(0x125)][_0x31a14d(0x161)]='../Pages/Myworkplace.aspx?WebAppId='+CompanyId+'';})[_0x2bdd46(0x10e)](function(){var _0x3663d2=_0x2bdd46;console[_0x3663d2(0x164)](_0x3663d2(0x13c));});})[_0x46d8c6(0x10e)](function(){console['log']('Error\x20in\x20adding\x20Topic.');});},'error':function(_0x419232){var _0x9ce3cb=_0x55ac55;console[_0x9ce3cb(0x164)](_0x9ce3cb(0x167));}});}function controlBoxesReadonly(){var _0xf59a1c=a0_0x38ec;$('#txtTopicTitle')[_0xf59a1c(0x110)](_0xf59a1c(0x104),!![]),$(_0xf59a1c(0x168))['attr'](_0xf59a1c(0x17a),![]),$('#ddlCategory')['attr'](_0xf59a1c(0x137),!![]),$(_0xf59a1c(0x154))['attr'](_0xf59a1c(0x137),_0xf59a1c(0x137)),$(_0xf59a1c(0x16e))[_0xf59a1c(0x157)]('disabled',!![]),$(_0xf59a1c(0x16d))['hide'](),$(_0xf59a1c(0x17d))[_0xf59a1c(0x131)](),$(_0xf59a1c(0x182))[_0xf59a1c(0x131)]();}function a0_0x38ec(_0x1ce22b,_0x4fd772){var _0x74ccaf=a0_0x74cc();return a0_0x38ec=function(_0x38ecf2,_0x42ad9f){_0x38ecf2=_0x38ecf2-0xf6;var _0x475092=_0x74ccaf[_0x38ecf2];return _0x475092;},a0_0x38ec(_0x1ce22b,_0x4fd772);}function GetParameterValues(_0x2540e1){var _0x67e5ce=a0_0x38ec,_0x9df3d8=window['location']['href'][_0x67e5ce(0x107)](window[_0x67e5ce(0x125)][_0x67e5ce(0x161)][_0x67e5ce(0x109)]('?')+0x1)[_0x67e5ce(0x105)]('&');for(var _0x6bd2ba=0x0;_0x6bd2ba<_0x9df3d8['length'];_0x6bd2ba++){var _0x4906d6=_0x9df3d8[_0x6bd2ba]['split']('=');if(_0x4906d6[0x0]==_0x2540e1)return _0x4906d6[0x1];}}
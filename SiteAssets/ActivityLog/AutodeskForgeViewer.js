var a0_0x37e011=a0_0x26c7;(function(_0x277bf2,_0x3be58f){var _0x5149de=a0_0x26c7,_0x4764ad=_0x277bf2();while(!![]){try{var _0x4d431c=parseInt(_0x5149de(0x191))/0x1*(parseInt(_0x5149de(0x188))/0x2)+-parseInt(_0x5149de(0x18b))/0x3+parseInt(_0x5149de(0x17c))/0x4*(parseInt(_0x5149de(0x165))/0x5)+parseInt(_0x5149de(0x18a))/0x6*(-parseInt(_0x5149de(0x168))/0x7)+parseInt(_0x5149de(0x185))/0x8+parseInt(_0x5149de(0x163))/0x9+parseInt(_0x5149de(0x16e))/0xa*(-parseInt(_0x5149de(0x16c))/0xb);if(_0x4d431c===_0x3be58f)break;else _0x4764ad['push'](_0x4764ad['shift']());}catch(_0x220e21){_0x4764ad['push'](_0x4764ad['shift']());}}}(a0_0x380f,0x2714f));var viewer;const CLIENT_ID='bBUBO3wtnwPNYg6AeAtrIFDbMIcsGTt0',CLIENT_SECRET=a0_0x37e011(0x16a),ACCESS_TOKEN_ENDPOINT=a0_0x37e011(0x178);var YOUR_ACCESS_TOKEN='',siteUrl=_spPageContextInfo[a0_0x37e011(0x15e)];function getAccessToken(){var _0x1f63b6=a0_0x37e011;$[_0x1f63b6(0x186)]({'url':ACCESS_TOKEN_ENDPOINT,'type':_0x1f63b6(0x19b),'async':![],'data':{'client_id':CLIENT_ID,'client_secret':CLIENT_SECRET,'grant_type':_0x1f63b6(0x18c),'scope':_0x1f63b6(0x192)},'success':function(_0x5a1882){const _0xe812a0=_0x5a1882['access_token'];YOUR_ACCESS_TOKEN=_0xe812a0;},'error':function(_0x3c8029,_0x2399cc,_0x5e6b74){var _0x2686ed=_0x1f63b6;console[_0x2686ed(0x171)](_0x5e6b74);}});}var context,web,fileUrl=a0_0x37e011(0x164),fileContents,clientId=a0_0x37e011(0x18f),clientSecret=a0_0x37e011(0x16a),bucketName=a0_0x37e011(0x177);SP[a0_0x37e011(0x17b)][a0_0x37e011(0x16b)](a0_0x37e011(0x15f),'SP.ClientContext',function(){var _0xa389e7=a0_0x37e011,_0xa9a065=new XMLHttpRequest();_0xa9a065['open']('GET',siteUrl+_0xa389e7(0x18d)+fileUrl+_0xa389e7(0x17f),!![]),_0xa9a065[_0xa389e7(0x187)](_0xa389e7(0x19c),_0xa389e7(0x166)),_0xa9a065[_0xa389e7(0x198)]=_0xa389e7(0x170),_0xa9a065['onload']=function(){var _0x1cfe28=_0xa389e7;file=_0xa9a065[_0x1cfe28(0x162)];},_0xa9a065[_0xa389e7(0x17d)](),getAccessTokens();});function getAccessTokens(){var _0x936de9=a0_0x37e011;$[_0x936de9(0x186)]({'url':'https://developer.api.autodesk.com/authentication/v1/authenticate','type':_0x936de9(0x19b),'headers':{'Content-Type':_0x936de9(0x197)},'data':{'client_id':clientId,'client_secret':clientSecret,'grant_type':'client_credentials','scope':_0x936de9(0x161)},'success':function(_0x4925f7){var _0x506ad9=_0x936de9,_0x488d32=_0x4925f7[_0x506ad9(0x16f)];debugger;uploadFileToForge(file,_0x488d32,bucketName)[_0x506ad9(0x16d)](function(_0x4fe192){displayFileInViewer(_0x4fe192,_0x488d32);})[_0x506ad9(0x19a)](function(_0x1de2d8){var _0xcf1c8b=_0x506ad9;console['error'](_0xcf1c8b(0x193),_0x1de2d8);});},'error':function(_0x4c647f){var _0x2c6900=_0x936de9;console[_0x2c6900(0x171)](_0x2c6900(0x180),_0x4c647f);}});}function getFileFromSharePoint(_0x7cada0){var _0x3391b9=a0_0x37e011,_0x3c9163=web[_0x3391b9(0x169)](_0x7cada0),_0x4df11a=_0x3c9163[_0x3391b9(0x17a)]();return _0x4df11a;}function uploadFileToForge(_0x2a30e7,_0x43890d,_0x58f660){return new Promise(function(_0x16770c,_0x170926){var _0x318ef5=a0_0x26c7;$[_0x318ef5(0x186)]({'url':'https://developer.api.autodesk.com/oss/v2/buckets/'+_0x58f660+_0x318ef5(0x195)+fileUrl,'type':'PUT','headers':{'Authorization':_0x318ef5(0x184)+_0x43890d,'Content-Type':'application/octet-stream','x-ms-blob-type':_0x318ef5(0x167)},'data':_0x2a30e7,'processData':![],'success':function(_0x72a674){var _0x1c1757=_0x318ef5,_0x59ae8c=_0x72a674[_0x1c1757(0x182)][_0x1c1757(0x183)]();_0x16770c(_0x59ae8c);},'error':function(_0x227802){_0x170926(_0x227802);}});});}function displayFileInViewer(_0x46b7c0,_0x26a8d4){var _0x317f9b=a0_0x37e011,_0x491cbb=new Autodesk[(_0x317f9b(0x194))][(_0x317f9b(0x172))][(_0x317f9b(0x173))](document['getElementById'](_0x317f9b(0x174))),_0x1b9063={'env':'AutodeskProduction','accessToken':_0x26a8d4};Autodesk[_0x317f9b(0x194)][_0x317f9b(0x189)](_0x1b9063,function(){var _0x248463=_0x317f9b;_0x491cbb[_0x248463(0x179)]();var _0x4c0ff8=_0x248463(0x160)+_0x46b7c0;Autodesk[_0x248463(0x194)][_0x248463(0x199)][_0x248463(0x176)](_0x4c0ff8,function(_0x3338b5){var _0x57a121=_0x248463,_0x3ffc02=_0x3338b5['getRoot']()[_0x57a121(0x18e)]();_0x491cbb[_0x57a121(0x196)](_0x3338b5,_0x3ffc02);},function(_0xc66113){var _0x569a09=_0x248463;console['error'](_0x569a09(0x175),_0xc66113);});});}function createBucket(_0x135cc6,_0x3ee2b7){return new Promise(function(_0x33d16e,_0x4b5a80){var _0x250946=a0_0x26c7;$[_0x250946(0x186)]({'url':_0x250946(0x190),'type':_0x250946(0x19b),'headers':{'Authorization':_0x250946(0x184)+_0x3ee2b7,'Content-Type':_0x250946(0x17e)},'data':JSON['stringify']({'bucketKey':_0x135cc6,'policyKey':_0x250946(0x181)}),'success':function(_0x15db0b){_0x33d16e();},'error':function(_0x9074b6){_0x4b5a80(_0x9074b6);}});});}function a0_0x26c7(_0x7df381,_0x5b98be){var _0x380f8d=a0_0x380f();return a0_0x26c7=function(_0x26c7f8,_0x7ba623){_0x26c7f8=_0x26c7f8-0x15e;var _0x232346=_0x380f8d[_0x26c7f8];return _0x232346;},a0_0x26c7(_0x7df381,_0x5b98be);}function a0_0x380f(){var _0x50ab61=['response','739485qwddaK','/sites/Titan_2_2_1_DEV/DemoLibrary/1343939490.dwg','196625ySzqLr','application/octet-stream','BlockBlob','49aiBkzz','getFileByServerRelativeUrl','R0cGGyke0Pv0sKMw','executeFunc','3806mKoLPe','then','1530qQGtES','access_token','arraybuffer','error','Private','GuiViewer3D','viewer','Error\x20loading\x20document:','load','test1','https://developer.api.autodesk.com/authentication/v1/authenticate','start','openBinaryStream','SOD','28IZbNoA','send','application/json','\x27)/$value','Error\x20obtaining\x20access\x20token:','transient','objectId','toBase64','Bearer\x20','959448KAtkRK','ajax','setRequestHeader','2jBwYbO','Initializer','194610OIMDQJ','562734PBgvae','client_credentials','/_api/web/GetFileByServerRelativeUrl(\x27','getDefaultGeometry','bBUBO3wtnwPNYg6AeAtrIFDbMIcsGTt0','https://developer.api.autodesk.com/oss/v2/buckets','150269WVeONS','data:read','Error\x20uploading\x20file:','Viewing','/objects/','loadDocumentNode','application/x-www-form-urlencoded','responseType','Document','catch','POST','Accept','webAbsoluteUrl','sp.js','urn:','data:read\x20data:write\x20data:create\x20bucket:create'];a0_0x380f=function(){return _0x50ab61;};return a0_0x380f();}
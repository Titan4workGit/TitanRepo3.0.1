'use strict';var a0_0x23d6c4=a0_0x59de;function a0_0x3b8c(){var _0x9f496c=['execute','updateFeatureUsageFlag','getMaxDelay','application/octet-stream','TelemetryHandlerOptions','round','getOptions','13212idlPoC','16414506iUKXyW','sleep','get','label','indexOf','22895rKIxSV','Content-Type','MiddlewareControl','method','RetryHandler','getExponentialBackOffTime','assign','__awaiter','301605ktITfH','__esModule','random','min','response','sent','RETRY_ATTEMPT_HEADER','RETRY_STATUS_CODES','setNext','RETRY_HANDLER_ENABLED','getRequestHeader','getMiddlewareOptions','isNaN','string','PUT','Retry-After','RetryHandlerOptions','maxRetries','FeatureUsageFlag','now','prototype','defineProperty','getDelay','undefined','headers','POST','2XViSXE','./MiddlewareControl','228inEKUA','tslib','pow','status','delay','toString','options','346393HxNQsm','./options/RetryHandlerOptions','middlewareControl','toFixed','shouldRetry','./options/TelemetryHandlerOptions','request','RETRY_AFTER_HEADER','__generator','RequestMethod','5511030LoslEh','executeWithRetry','isRetry','2755384IDlfgO'];a0_0x3b8c=function(){return _0x9f496c;};return a0_0x3b8c();}function a0_0x59de(_0x6fb8a9,_0x13dcc6){var _0x3b8c1f=a0_0x3b8c();return a0_0x59de=function(_0x59de16,_0x281126){_0x59de16=_0x59de16-0x175;var _0x34b9b3=_0x3b8c1f[_0x59de16];return _0x34b9b3;},a0_0x59de(_0x6fb8a9,_0x13dcc6);}(function(_0x5dab70,_0x54a434){var _0xf98c8b=a0_0x59de,_0x314f74=_0x5dab70();while(!![]){try{var _0x190727=-parseInt(_0xf98c8b(0x185))/0x1*(parseInt(_0xf98c8b(0x17c))/0x2)+-parseInt(_0xf98c8b(0x1a8))/0x3+-parseInt(_0xf98c8b(0x19a))/0x4+-parseInt(_0xf98c8b(0x1a0))/0x5*(-parseInt(_0xf98c8b(0x17e))/0x6)+-parseInt(_0xf98c8b(0x18f))/0x7+-parseInt(_0xf98c8b(0x192))/0x8+parseInt(_0xf98c8b(0x19b))/0x9;if(_0x190727===_0x54a434)break;else _0x314f74['push'](_0x314f74['shift']());}catch(_0x11360d){_0x314f74['push'](_0x314f74['shift']());}}}(a0_0x3b8c,0x65894));Object[a0_0x23d6c4(0x177)](exports,a0_0x23d6c4(0x1a9),{'value':!![]}),exports['RetryHandler']=void 0x0;var tslib_1=require(a0_0x23d6c4(0x17f)),RequestMethod_1=require('../RequestMethod'),MiddlewareControl_1=require(a0_0x23d6c4(0x17d)),MiddlewareUtil_1=require('./MiddlewareUtil'),RetryHandlerOptions_1=require(a0_0x23d6c4(0x186)),TelemetryHandlerOptions_1=require(a0_0x23d6c4(0x18a)),RetryHandler=(function(){var _0x2c12fc=a0_0x23d6c4;function _0x16a48e(_0x1b6d39){var _0x31ee13=a0_0x59de;_0x1b6d39===void 0x0&&(_0x1b6d39=new RetryHandlerOptions_1[(_0x31ee13(0x1b8))]()),this[_0x31ee13(0x184)]=_0x1b6d39;}return _0x16a48e[_0x2c12fc(0x176)][_0x2c12fc(0x191)]=function(_0x158e83){var _0x42e283=_0x2c12fc;return _0x16a48e[_0x42e283(0x1af)][_0x42e283(0x19f)](_0x158e83[_0x42e283(0x181)])!==-0x1;},_0x16a48e[_0x2c12fc(0x176)]['isBuffered']=function(_0x51e597,_0x4c6c2d){var _0x1671d0=_0x2c12fc,_0xd4bd56=typeof _0x51e597===_0x1671d0(0x1b5)?_0x4c6c2d[_0x1671d0(0x1a3)]:_0x51e597[_0x1671d0(0x1a3)],_0x3ffa4b=_0xd4bd56===RequestMethod_1[_0x1671d0(0x18e)][_0x1671d0(0x1b6)]||_0xd4bd56===RequestMethod_1[_0x1671d0(0x18e)]['PATCH']||_0xd4bd56===RequestMethod_1[_0x1671d0(0x18e)][_0x1671d0(0x17b)];if(_0x3ffa4b){var _0x40e65a=(0x0,MiddlewareUtil_1[_0x1671d0(0x1b2)])(_0x51e597,_0x4c6c2d,_0x1671d0(0x1a1))===_0x1671d0(0x196);if(_0x40e65a)return![];}return!![];},_0x16a48e['prototype'][_0x2c12fc(0x178)]=function(_0x40cd62,_0x22f2d6,_0x5c4c3a){var _0x1a1d95=_0x2c12fc,_0x5a2f2d=function(){var _0x138dd2=a0_0x59de;return Number(Math[_0x138dd2(0x1aa)]()[_0x138dd2(0x188)](0x3));},_0x483509=_0x40cd62[_0x1a1d95(0x17a)]!==undefined?_0x40cd62[_0x1a1d95(0x17a)][_0x1a1d95(0x19d)](_0x16a48e[_0x1a1d95(0x18c)]):null,_0x376e95;return _0x483509!==null?Number[_0x1a1d95(0x1b4)](Number(_0x483509))?_0x376e95=Math[_0x1a1d95(0x198)]((new Date(_0x483509)['getTime']()-Date[_0x1a1d95(0x175)]())/0x3e8):_0x376e95=Number(_0x483509):_0x376e95=_0x22f2d6>=0x2?this['getExponentialBackOffTime'](_0x22f2d6)+_0x5c4c3a+_0x5a2f2d():_0x5c4c3a+_0x5a2f2d(),Math[_0x1a1d95(0x1ab)](_0x376e95,this[_0x1a1d95(0x184)][_0x1a1d95(0x195)]()+_0x5a2f2d());},_0x16a48e[_0x2c12fc(0x176)][_0x2c12fc(0x1a5)]=function(_0x59dd5b){var _0x1e3538=_0x2c12fc;return Math[_0x1e3538(0x198)](0x1/0x2*(Math[_0x1e3538(0x180)](0x2,_0x59dd5b)-0x1));},_0x16a48e[_0x2c12fc(0x176)][_0x2c12fc(0x19c)]=function(_0x7918db){var _0x27917f=_0x2c12fc;return tslib_1[_0x27917f(0x1a7)](this,void 0x0,void 0x0,function(){var _0x27c6ee=_0x27917f,_0xc1b4cd;return tslib_1[_0x27c6ee(0x18d)](this,function(_0x5d7547){return _0xc1b4cd=_0x7918db*0x3e8,[0x2,new Promise(function(_0x5bfb36){return setTimeout(_0x5bfb36,_0xc1b4cd);})];});});},_0x16a48e['prototype'][_0x2c12fc(0x199)]=function(_0x8d8411){var _0x181680=_0x2c12fc,_0x1a34a6;return _0x8d8411[_0x181680(0x187)]instanceof MiddlewareControl_1[_0x181680(0x1a2)]&&(_0x1a34a6=_0x8d8411['middlewareControl'][_0x181680(0x1b3)](this[_0x181680(0x184)]['constructor'])),typeof _0x1a34a6===_0x181680(0x179)&&(_0x1a34a6=Object[_0x181680(0x1a6)](new RetryHandlerOptions_1['RetryHandlerOptions'](),this[_0x181680(0x184)])),_0x1a34a6;},_0x16a48e['prototype'][_0x2c12fc(0x190)]=function(_0x58c505,_0x4475d2,_0x4a305c){var _0x37debc=_0x2c12fc;return tslib_1[_0x37debc(0x1a7)](this,void 0x0,void 0x0,function(){var _0x308136=_0x37debc,_0x4d346f;return tslib_1[_0x308136(0x18d)](this,function(_0x37bfa8){var _0x34afc6=_0x308136;switch(_0x37bfa8[_0x34afc6(0x19e)]){case 0x0:return[0x4,this['nextMiddleware'][_0x34afc6(0x193)](_0x58c505)];case 0x1:_0x37bfa8[_0x34afc6(0x1ad)]();if(!(_0x4475d2<_0x4a305c[_0x34afc6(0x1b9)]&&this['isRetry'](_0x58c505[_0x34afc6(0x1ac)])&&this['isBuffered'](_0x58c505[_0x34afc6(0x18b)],_0x58c505[_0x34afc6(0x184)])&&_0x4a305c[_0x34afc6(0x189)](_0x4a305c[_0x34afc6(0x182)],_0x4475d2,_0x58c505['request'],_0x58c505[_0x34afc6(0x184)],_0x58c505[_0x34afc6(0x1ac)])))return[0x3,0x4];++_0x4475d2,(0x0,MiddlewareUtil_1['setRequestHeader'])(_0x58c505[_0x34afc6(0x18b)],_0x58c505[_0x34afc6(0x184)],_0x16a48e[_0x34afc6(0x1ae)],_0x4475d2[_0x34afc6(0x183)]()),_0x4d346f=this[_0x34afc6(0x178)](_0x58c505[_0x34afc6(0x1ac)],_0x4475d2,_0x4a305c[_0x34afc6(0x182)]);return[0x4,this['sleep'](_0x4d346f)];case 0x2:_0x37bfa8[_0x34afc6(0x1ad)]();return[0x4,this[_0x34afc6(0x190)](_0x58c505,_0x4475d2,_0x4a305c)];case 0x3:return[0x2,_0x37bfa8[_0x34afc6(0x1ad)]()];case 0x4:return[0x2];}});});},_0x16a48e[_0x2c12fc(0x176)][_0x2c12fc(0x193)]=function(_0x5e9011){var _0x93eb5a=_0x2c12fc;return tslib_1[_0x93eb5a(0x1a7)](this,void 0x0,void 0x0,function(){var _0x358c35=_0x93eb5a,_0x27f4b6,_0x51c360;return tslib_1[_0x358c35(0x18d)](this,function(_0x5a05b4){var _0x259cf2=_0x358c35;switch(_0x5a05b4[_0x259cf2(0x19e)]){case 0x0:_0x27f4b6=0x0,_0x51c360=this['getOptions'](_0x5e9011),TelemetryHandlerOptions_1[_0x259cf2(0x197)][_0x259cf2(0x194)](_0x5e9011,TelemetryHandlerOptions_1[_0x259cf2(0x1ba)][_0x259cf2(0x1b1)]);return[0x4,this['executeWithRetry'](_0x5e9011,_0x27f4b6,_0x51c360)];case 0x1:return[0x2,_0x5a05b4[_0x259cf2(0x1ad)]()];}});});},_0x16a48e['prototype'][_0x2c12fc(0x1b0)]=function(_0x213f01){this['nextMiddleware']=_0x213f01;},_0x16a48e[_0x2c12fc(0x1af)]=[0x1ad,0x1f7,0x1f8],_0x16a48e[_0x2c12fc(0x1ae)]='Retry-Attempt',_0x16a48e['RETRY_AFTER_HEADER']=_0x2c12fc(0x1b7),_0x16a48e;}());exports[a0_0x23d6c4(0x1a4)]=RetryHandler;
'use strict';var a0_0x360c0d=a0_0x2510;(function(_0x37c0f6,_0xec2012){var _0xa99f16=a0_0x2510,_0x1529c4=_0x37c0f6();while(!![]){try{var _0x6a7a35=-parseInt(_0xa99f16(0xfc))/0x1*(-parseInt(_0xa99f16(0xd9))/0x2)+-parseInt(_0xa99f16(0x105))/0x3*(-parseInt(_0xa99f16(0x10e))/0x4)+parseInt(_0xa99f16(0xfa))/0x5+-parseInt(_0xa99f16(0x107))/0x6*(parseInt(_0xa99f16(0xfd))/0x7)+-parseInt(_0xa99f16(0xdc))/0x8*(parseInt(_0xa99f16(0xdd))/0x9)+-parseInt(_0xa99f16(0x106))/0xa*(parseInt(_0xa99f16(0x101))/0xb)+parseInt(_0xa99f16(0xe9))/0xc;if(_0x6a7a35===_0xec2012)break;else _0x1529c4['push'](_0x1529c4['shift']());}catch(_0x220a84){_0x1529c4['push'](_0x1529c4['shift']());}}}(a0_0x5eaf,0x1b969));function a0_0x2510(_0x452838,_0x1296cc){var _0x5eaf44=a0_0x5eaf();return a0_0x2510=function(_0x25108e,_0x213dfd){_0x25108e=_0x25108e-0xca;var _0x2c3bb0=_0x5eaf44[_0x25108e];return _0x2c3bb0;},a0_0x2510(_0x452838,_0x1296cc);}Object[a0_0x360c0d(0xf2)](exports,a0_0x360c0d(0xe5),{'value':!![]}),exports[a0_0x360c0d(0xec)]=void 0x0;var tslib_1=require(a0_0x360c0d(0x10d)),MiddlewareControl_1=require(a0_0x360c0d(0xe7)),MiddlewareUtil_1=require(a0_0x360c0d(0xff)),ChaosHandlerData_1=require('./options/ChaosHandlerData'),ChaosHandlerOptions_1=require(a0_0x360c0d(0xe2)),ChaosStrategy_1=require(a0_0x360c0d(0xf1)),ChaosHandler=(function(){var _0x453a78=a0_0x360c0d;function _0x4e21ea(_0x14ac4f,_0x3cc0aa){var _0x6269f0=a0_0x2510;_0x14ac4f===void 0x0&&(_0x14ac4f=new ChaosHandlerOptions_1['ChaosHandlerOptions']()),this[_0x6269f0(0xcb)]=_0x14ac4f,this[_0x6269f0(0x103)]=_0x3cc0aa;}return _0x4e21ea[_0x453a78(0x108)][_0x453a78(0xe8)]=function(_0x551def,_0x192b96,_0xcf0d9){var _0x37b205=_0x453a78,_0x1716e8=_0x551def[_0x37b205(0xe6)]?new Headers(_0x551def[_0x37b205(0xe6)]):new Headers();return _0x1716e8['append'](_0x37b205(0xeb),_0x37b205(0x10c)),_0x1716e8[_0x37b205(0xd8)](_0x37b205(0xf9),_0x192b96),_0x1716e8[_0x37b205(0xd8)]('client-request-id',_0x192b96),_0x1716e8[_0x37b205(0xd8)](_0x37b205(0xde),''),_0x1716e8[_0x37b205(0xd8)](_0x37b205(0xd7),_0xcf0d9),_0x1716e8[_0x37b205(0xd8)](_0x37b205(0xf4),''),_0x551def['statusCode']===0x1ad&&_0x1716e8[_0x37b205(0xd8)](_0x37b205(0xf3),'3'),_0x1716e8;},_0x4e21ea[_0x453a78(0x108)]['createResponseBody']=function(_0x44f6ae,_0x16704f,_0xf2049a){var _0x3adcee=_0x453a78;if(_0x44f6ae[_0x3adcee(0xef)])return _0x44f6ae['responseBody'];var _0x104b2b;if(_0x44f6ae[_0x3adcee(0xdb)]>=0x190){var _0x3cc9ed=ChaosHandlerData_1[_0x3adcee(0xe3)][_0x44f6ae['statusCode']],_0x2fa460=_0x44f6ae[_0x3adcee(0xce)];_0x104b2b={'error':{'code':_0x3cc9ed,'message':_0x2fa460,'innerError':{'request-id':_0x16704f,'date':_0xf2049a}}};}else _0x104b2b={};return _0x104b2b;},_0x4e21ea[_0x453a78(0x108)][_0x453a78(0xd4)]=function(_0x4a32b2,_0x3c76c1){var _0x3f0cd3=_0x453a78,_0x213dee=_0x3c76c1[_0x3f0cd3(0xfb)],_0x570089=(0x0,MiddlewareUtil_1[_0x3f0cd3(0xd5)])(),_0x1060fd=new Date(),_0x3d1cb9=this[_0x3f0cd3(0xe8)](_0x4a32b2,_0x570089,_0x1060fd[_0x3f0cd3(0xcd)]()),_0xf91c9f=this['createResponseBody'](_0x4a32b2,_0x570089,_0x1060fd[_0x3f0cd3(0xcd)]()),_0x5a3331={'url':_0x213dee,'status':_0x4a32b2[_0x3f0cd3(0xdb)],'statusText':_0x4a32b2[_0x3f0cd3(0xce)],'headers':_0x3d1cb9};_0x3c76c1['response']=new Response(typeof _0xf91c9f===_0x3f0cd3(0xd6)?_0xf91c9f:JSON['stringify'](_0xf91c9f),_0x5a3331);},_0x4e21ea[_0x453a78(0x108)][_0x453a78(0xf5)]=function(_0x15aa88,_0x4b9f59){var _0x106060=_0x453a78;return tslib_1[_0x106060(0x109)](this,void 0x0,void 0x0,function(){var _0x303581=_0x106060;return tslib_1[_0x303581(0x104)](this,function(_0x3445e2){var _0x481356=_0x303581;switch(_0x3445e2[_0x481356(0xfe)]){case 0x0:this[_0x481356(0xda)](_0x15aa88,_0x4b9f59[_0x481356(0xfb)],_0x4b9f59['options']['method']);if(!(_0x15aa88[_0x481356(0xd2)]===ChaosStrategy_1[_0x481356(0xe1)][_0x481356(0xf0)]&&!this[_0x481356(0x102)]||Math['floor'](Math[_0x481356(0xd1)]()*0x64)<_0x15aa88[_0x481356(0xf7)]))return[0x3,0x1];this[_0x481356(0xd4)](_0x15aa88,_0x4b9f59);return[0x3,0x3];case 0x1:if(!this['nextMiddleware'])return[0x3,0x3];return[0x4,this[_0x481356(0x102)][_0x481356(0xe0)](_0x4b9f59)];case 0x2:_0x3445e2[_0x481356(0xee)](),_0x3445e2['label']=0x3;case 0x3:return[0x2];}});});},_0x4e21ea[_0x453a78(0x108)][_0x453a78(0x10a)]=function(_0x12c42c){var _0x1d0902=_0x453a78,_0x8ef8e1=ChaosHandlerData_1[_0x1d0902(0xed)][_0x12c42c];return _0x8ef8e1[Math[_0x1d0902(0xca)](Math[_0x1d0902(0xd1)]()*_0x8ef8e1[_0x1d0902(0x100)])];},_0x4e21ea[_0x453a78(0x108)][_0x453a78(0x10b)]=function(_0x3bf8c1){var _0x3c6599=_0x453a78,_0x282178=/https?:\/\/graph\.microsoft\.com\/[^/]+(.+?)(\?|$)/,_0x2b4c91;return _0x282178['exec'](_0x3bf8c1)!==null&&(_0x2b4c91=_0x282178[_0x3c6599(0xd3)](_0x3bf8c1)[0x1]),_0x2b4c91;},_0x4e21ea[_0x453a78(0x108)][_0x453a78(0xda)]=function(_0x2ceb1e,_0x299659,_0x450400){var _0x35eb8c=_0x453a78,_0x40bfee=this;if(_0x2ceb1e[_0x35eb8c(0xd2)]===ChaosStrategy_1[_0x35eb8c(0xe1)][_0x35eb8c(0xf0)]){if(_0x2ceb1e[_0x35eb8c(0xdb)]===undefined){var _0x41b438=this[_0x35eb8c(0x10b)](_0x299659);this[_0x35eb8c(0x103)][_0x35eb8c(0xea)](_0x41b438)!==undefined?this[_0x35eb8c(0x103)]['get'](_0x41b438)['get'](_0x450400)!==undefined&&(_0x2ceb1e[_0x35eb8c(0xdb)]=this['manualMap'][_0x35eb8c(0xea)](_0x41b438)[_0x35eb8c(0xea)](_0x450400)):this[_0x35eb8c(0x103)]['forEach'](function(_0x32427b,_0xd9ec79){var _0x28276c=_0x35eb8c,_0x184ad1=new RegExp(_0xd9ec79+'$');_0x184ad1[_0x28276c(0xcf)](_0x41b438)&&(_0x40bfee[_0x28276c(0x103)][_0x28276c(0xea)](_0xd9ec79)[_0x28276c(0xea)](_0x450400)!==undefined&&(_0x2ceb1e[_0x28276c(0xdb)]=_0x40bfee[_0x28276c(0x103)][_0x28276c(0xea)](_0xd9ec79)[_0x28276c(0xea)](_0x450400)));});}}else _0x2ceb1e[_0x35eb8c(0xdb)]=this[_0x35eb8c(0x10a)](_0x450400);},_0x4e21ea[_0x453a78(0x108)]['getOptions']=function(_0x596c2d){var _0x2f3f30=_0x453a78,_0x31d030;return _0x596c2d[_0x2f3f30(0xd0)]instanceof MiddlewareControl_1[_0x2f3f30(0xe4)]&&(_0x31d030=_0x596c2d[_0x2f3f30(0xd0)][_0x2f3f30(0xdf)](ChaosHandlerOptions_1[_0x2f3f30(0xf6)])),typeof _0x31d030===_0x2f3f30(0xcc)&&(_0x31d030=Object['assign'](new ChaosHandlerOptions_1[(_0x2f3f30(0xf6))](),this[_0x2f3f30(0xcb)])),_0x31d030;},_0x4e21ea[_0x453a78(0x108)][_0x453a78(0xe0)]=function(_0x52ffcb){return tslib_1['__awaiter'](this,void 0x0,void 0x0,function(){var _0x3c7077=a0_0x2510,_0x3739f5;return tslib_1[_0x3c7077(0x104)](this,function(_0x353028){var _0x3b6968=_0x3c7077;switch(_0x353028[_0x3b6968(0xfe)]){case 0x0:_0x3739f5=this[_0x3b6968(0xf8)](_0x52ffcb);return[0x4,this['sendRequest'](_0x3739f5,_0x52ffcb)];case 0x1:return[0x2,_0x353028[_0x3b6968(0xee)]()];}});});},_0x4e21ea[_0x453a78(0x108)]['setNext']=function(_0x16c447){var _0x584623=_0x453a78;this[_0x584623(0x102)]=_0x16c447;},_0x4e21ea;}());function a0_0x5eaf(){var _0x41c5c6=['sendRequest','ChaosHandlerOptions','chaosPercentage','getOptions','request-id','749660saRkUj','request','49194dOGNZl','7wNxXJl','label','./MiddlewareUtil','length','11MpwgTJ','nextMiddleware','manualMap','__generator','50673xelXop','417910QBlRZK','254094xVxZZG','prototype','__awaiter','getRandomStatusCode','getRelativeURL','no-store','tslib','12qulnga','floor','options','undefined','toString','statusMessage','test','middlewareControl','random','chaosStrategy','exec','createResponse','generateUUID','string','Date','append','2XQkRZg','setStatusCode','statusCode','2600jsAnsr','6129SFCdWF','x-ms-ags-diagnostic','getMiddlewareOptions','execute','ChaosStrategy','./options/ChaosHandlerOptions','httpStatusCode','MiddlewareControl','__esModule','headers','./MiddlewareControl','createResponseHeaders','2024004iMMrAU','get','Cache-Control','ChaosHandler','methodStatusCode','sent','responseBody','MANUAL','./options/ChaosStrategy','defineProperty','retry-after','Strict-Transport-Security'];a0_0x5eaf=function(){return _0x41c5c6;};return a0_0x5eaf();}exports[a0_0x360c0d(0xec)]=ChaosHandler;
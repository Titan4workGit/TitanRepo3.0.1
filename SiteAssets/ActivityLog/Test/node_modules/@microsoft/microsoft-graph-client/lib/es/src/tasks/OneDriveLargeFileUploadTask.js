const a0_0x3391f4=a0_0xaa87;function a0_0xaa87(_0x1143ef,_0x4a73b0){const _0x240ff6=a0_0x240f();return a0_0xaa87=function(_0xaa8783,_0x24d2aa){_0xaa8783=_0xaa8783-0xb1;let _0x254cda=_0x240ff6[_0xaa8783];return _0x254cda;},a0_0xaa87(_0x1143ef,_0x4a73b0);}(function(_0x7cd0f9,_0x53b654){const _0x5e9301=a0_0xaa87,_0x38f6ac=_0x7cd0f9();while(!![]){try{const _0x2c2aad=-parseInt(_0x5e9301(0xb5))/0x1*(parseInt(_0x5e9301(0xd2))/0x2)+-parseInt(_0x5e9301(0xc4))/0x3+-parseInt(_0x5e9301(0xc6))/0x4+-parseInt(_0x5e9301(0xc3))/0x5+-parseInt(_0x5e9301(0xc1))/0x6+-parseInt(_0x5e9301(0xd5))/0x7*(-parseInt(_0x5e9301(0xd1))/0x8)+parseInt(_0x5e9301(0xb2))/0x9*(parseInt(_0x5e9301(0xc9))/0xa);if(_0x2c2aad===_0x53b654)break;else _0x38f6ac['push'](_0x38f6ac['shift']());}catch(_0x3fca7e){_0x38f6ac['push'](_0x38f6ac['shift']());}}}(a0_0x240f,0xe7c0f));import{__awaiter}from'tslib';import{GraphClientError}from'../GraphClientError';import{FileUpload}from'./FileUploadTask/FileObjectClasses/FileUpload';import{LargeFileUploadTask}from'./LargeFileUploadTask';function a0_0x240f(){const _0x1de595=['5781350rnZBkN','call','rename','Please\x20provide\x20the\x20Graph\x20client\x20instance,\x20file\x20object\x20and\x20OneDriveLargeFileUploadOptions\x20value','file','createUploadSession','size','getFileInfo','8QgnyEG','8786OMAfNj','constructCreateSessionUrl','content','4572673jrOlHx','commit','uploadSessionURL','trim','split','put','client','81FSeeUu',':/createUploadSession','url','161XiPQhp','fileName','conflictBehavior','map','undefined','Please\x20provide\x20the\x20Graph\x20client\x20instance,\x20FileObject\x20interface\x20implementation\x20and\x20OneDriveLargeFileUploadOptions\x20value','/me/drive/root:','fileDescription','slice','byteOffset','name','createTaskWithFileObject','6902466LpChvJ','DEFAULT_UPLOAD_PATH','7703745vNYhJS','854646dKRhkQ','create','4895504mWtlOC','join','path'];a0_0x240f=function(){return _0x1de595;};return a0_0x240f();}import{getValidRangeSize}from'./OneDriveLargeFileUploadTaskUtil';export class OneDriveLargeFileUploadTask extends LargeFileUploadTask{static['constructCreateSessionUrl'](_0x1b0849,_0x56361a=OneDriveLargeFileUploadTask[a0_0x3391f4(0xc2)]){const _0x3891ee=a0_0x3391f4;return _0x1b0849=_0x1b0849[_0x3891ee(0xd8)](),_0x56361a=_0x56361a[_0x3891ee(0xd8)](),_0x56361a===''&&(_0x56361a='/'),_0x56361a[0x0]!=='/'&&(_0x56361a='/'+_0x56361a),_0x56361a[_0x56361a['length']-0x1]!=='/'&&(_0x56361a=_0x56361a+'/'),_0x3891ee(0xbb)+_0x56361a[_0x3891ee(0xd9)]('/')[_0x3891ee(0xb8)](_0xb8be3c=>encodeURIComponent(_0xb8be3c))[_0x3891ee(0xc7)]('/')+encodeURIComponent(_0x1b0849)+_0x3891ee(0xb3);}static['getFileInfo'](_0xf350c2,_0x3c8881){const _0x5ebfcd=a0_0x3391f4;let _0x312905,_0x54d47f;if(typeof Blob!=='undefined'&&_0xf350c2 instanceof Blob)_0x312905=new File([_0xf350c2],_0x3c8881),_0x54d47f=_0x312905['size'];else{if(typeof File!==_0x5ebfcd(0xb9)&&_0xf350c2 instanceof File)_0x312905=_0xf350c2,_0x54d47f=_0x312905[_0x5ebfcd(0xcf)];else{if(typeof Uint8Array!==_0x5ebfcd(0xb9)&&_0xf350c2 instanceof Uint8Array){const _0x5584d9=_0xf350c2;_0x54d47f=_0x5584d9['byteLength'],_0x312905=_0x5584d9['buffer'][_0x5ebfcd(0xbd)](_0x5584d9[_0x5ebfcd(0xbe)],_0x5584d9['byteOffset']+_0x5584d9['byteLength']);}}}return{'content':_0x312905,'size':_0x54d47f};}static[a0_0x3391f4(0xc5)](_0x255893,_0x497626,_0x44e604){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x72b588=a0_0xaa87;if(!_0x255893||!_0x497626||!_0x44e604)throw new GraphClientError(_0x72b588(0xcc));const _0x481653=_0x44e604[_0x72b588(0xb6)],_0x3363df=OneDriveLargeFileUploadTask[_0x72b588(0xd0)](_0x497626,_0x481653),_0xba46f4=new FileUpload(_0x3363df[_0x72b588(0xd4)],_0x481653,_0x3363df[_0x72b588(0xcf)]);return this[_0x72b588(0xc0)](_0x255893,_0xba46f4,_0x44e604);});}static[a0_0x3391f4(0xc0)](_0x270bd0,_0x26d34c,_0x181646){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x42080e=a0_0xaa87;if(!_0x270bd0||!_0x26d34c||!_0x181646)throw new GraphClientError(_0x42080e(0xba));const _0x26cbdd=_0x181646[_0x42080e(0xd7)]?_0x181646[_0x42080e(0xd7)]:OneDriveLargeFileUploadTask[_0x42080e(0xd3)](_0x181646[_0x42080e(0xb6)],_0x181646[_0x42080e(0xc8)]),_0x29d18a={'fileName':_0x181646['fileName'],'fileDescription':_0x181646['fileDescription'],'conflictBehavior':_0x181646[_0x42080e(0xb7)]},_0x2e0a4d=yield OneDriveLargeFileUploadTask[_0x42080e(0xce)](_0x270bd0,_0x26cbdd,_0x29d18a),_0x1a2db2=getValidRangeSize(_0x181646['rangeSize']);return new OneDriveLargeFileUploadTask(_0x270bd0,_0x26d34c,_0x2e0a4d,{'rangeSize':_0x1a2db2,'uploadEventHandlers':_0x181646['uploadEventHandlers']});});}static['createUploadSession'](_0x5655ba,_0x189150,_0x3d4fb3){const _0x545d23=a0_0x3391f4,_0x17ccc3=Object[_0x545d23(0xc5)](null,{'createUploadSession':{'get':()=>super[_0x545d23(0xce)]}});return __awaiter(this,void 0x0,void 0x0,function*(){const _0x471a0e=_0x545d23,_0x2d269d={'item':{'@microsoft.graph.conflictBehavior':(_0x3d4fb3===null||_0x3d4fb3===void 0x0?void 0x0:_0x3d4fb3[_0x471a0e(0xb7)])||'rename','name':_0x3d4fb3===null||_0x3d4fb3===void 0x0?void 0x0:_0x3d4fb3['fileName'],'description':_0x3d4fb3===null||_0x3d4fb3===void 0x0?void 0x0:_0x3d4fb3[_0x471a0e(0xbc)]}};return _0x17ccc3['createUploadSession'][_0x471a0e(0xca)](this,_0x5655ba,_0x189150,_0x2d269d);});}constructor(_0x445e65,_0x6042c8,_0x33f9e9,_0x56424e){super(_0x445e65,_0x6042c8,_0x33f9e9,_0x56424e);}[a0_0x3391f4(0xd6)](_0x39bb84,_0x5daba6=a0_0x3391f4(0xcb)){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x135c14=a0_0xaa87,_0x52d1f7={'name':this[_0x135c14(0xcd)][_0x135c14(0xbf)],'@microsoft.graph.conflictBehavior':_0x5daba6,'@microsoft.graph.sourceUrl':this['uploadSession'][_0x135c14(0xb4)]};return yield this[_0x135c14(0xb1)]['api'](_0x39bb84)[_0x135c14(0xda)](_0x52d1f7);});}}OneDriveLargeFileUploadTask[a0_0x3391f4(0xc2)]='/';
const a0_0x10950a=a0_0x1c68;(function(_0x34d121,_0x2d1bf1){const _0x49d43d=a0_0x1c68,_0x23641f=_0x34d121();while(!![]){try{const _0x5d2244=-parseInt(_0x49d43d(0xca))/0x1*(-parseInt(_0x49d43d(0xb6))/0x2)+parseInt(_0x49d43d(0xba))/0x3+-parseInt(_0x49d43d(0xb2))/0x4*(parseInt(_0x49d43d(0xbb))/0x5)+parseInt(_0x49d43d(0xc9))/0x6*(parseInt(_0x49d43d(0xc6))/0x7)+parseInt(_0x49d43d(0xbc))/0x8*(parseInt(_0x49d43d(0xbe))/0x9)+parseInt(_0x49d43d(0xc8))/0xa*(parseInt(_0x49d43d(0xc4))/0xb)+-parseInt(_0x49d43d(0xc7))/0xc;if(_0x5d2244===_0x2d1bf1)break;else _0x23641f['push'](_0x23641f['shift']());}catch(_0x15df5f){_0x23641f['push'](_0x23641f['shift']());}}}(a0_0x22b8,0x2d78a));function a0_0x22b8(){const _0x40ad8e=['115mVKOzs','21264JedeOK','headers','171gKqmCD','string','customHosts','FEATURE_USAGE_STRING','options','SDK_VERSION_HEADER','232507ESuLsX','getMiddlewareOptions','1995441LXPKpS','5336100RzDlrn','50zYRUjM','6qmhHmq','21LNjSSg','CLIENT_REQUEST_ID_HEADER','SdkVersion','PRODUCT_NAME','execute','23756FcSEAX','featureUsage','nextMiddleware','middlewareControl','22604kdqkDV','client-request-id','request','getFeatureUsage','266790LyEdHH'];a0_0x22b8=function(){return _0x40ad8e;};return a0_0x22b8();}import{__awaiter}from'tslib';import{isCustomHost,isGraphURL}from'../GraphRequestUtil';function a0_0x1c68(_0x1fddbf,_0x3d92a8){const _0x22b859=a0_0x22b8();return a0_0x1c68=function(_0x1c68a2,_0x536097){_0x1c68a2=_0x1c68a2-0xaf;let _0x376b0b=_0x22b859[_0x1c68a2];return _0x376b0b;},a0_0x1c68(_0x1fddbf,_0x3d92a8);}import{PACKAGE_VERSION}from'../Version';import{MiddlewareControl}from'./MiddlewareControl';import{appendRequestHeader,generateUUID,getRequestHeader,setRequestHeader}from'./MiddlewareUtil';import{TelemetryHandlerOptions}from'./options/TelemetryHandlerOptions';export class TelemetryHandler{[a0_0x10950a(0xb1)](_0x5ee1b4){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x23849d=a0_0x1c68,_0x106198=typeof _0x5ee1b4[_0x23849d(0xb8)]===_0x23849d(0xbf)?_0x5ee1b4['request']:_0x5ee1b4[_0x23849d(0xb8)]['url'];if(isGraphURL(_0x106198)||_0x5ee1b4[_0x23849d(0xc0)]&&isCustomHost(_0x106198,_0x5ee1b4[_0x23849d(0xc0)])){let _0x103862=getRequestHeader(_0x5ee1b4[_0x23849d(0xb8)],_0x5ee1b4[_0x23849d(0xc2)],TelemetryHandler[_0x23849d(0xcb)]);!_0x103862&&(_0x103862=generateUUID(),setRequestHeader(_0x5ee1b4[_0x23849d(0xb8)],_0x5ee1b4[_0x23849d(0xc2)],TelemetryHandler[_0x23849d(0xcb)],_0x103862));let _0x3979ac=TelemetryHandler[_0x23849d(0xb0)]+'/'+PACKAGE_VERSION,_0x10e05d;_0x5ee1b4[_0x23849d(0xb5)]instanceof MiddlewareControl&&(_0x10e05d=_0x5ee1b4[_0x23849d(0xb5)][_0x23849d(0xc5)](TelemetryHandlerOptions));if(_0x10e05d){const _0x551070=_0x10e05d[_0x23849d(0xb9)]();_0x3979ac+='\x20('+TelemetryHandler[_0x23849d(0xc1)]+'='+_0x551070+')';}appendRequestHeader(_0x5ee1b4['request'],_0x5ee1b4[_0x23849d(0xc2)],TelemetryHandler[_0x23849d(0xc3)],_0x3979ac);}else delete _0x5ee1b4[_0x23849d(0xc2)]['headers'][TelemetryHandler[_0x23849d(0xcb)]],delete _0x5ee1b4[_0x23849d(0xc2)][_0x23849d(0xbd)][TelemetryHandler[_0x23849d(0xc3)]];return yield this[_0x23849d(0xb4)][_0x23849d(0xb1)](_0x5ee1b4);});}['setNext'](_0x5f11c2){this['nextMiddleware']=_0x5f11c2;}}TelemetryHandler[a0_0x10950a(0xcb)]=a0_0x10950a(0xb7),TelemetryHandler[a0_0x10950a(0xc3)]=a0_0x10950a(0xaf),TelemetryHandler[a0_0x10950a(0xb0)]='graph-js',TelemetryHandler[a0_0x10950a(0xc1)]=a0_0x10950a(0xb3);
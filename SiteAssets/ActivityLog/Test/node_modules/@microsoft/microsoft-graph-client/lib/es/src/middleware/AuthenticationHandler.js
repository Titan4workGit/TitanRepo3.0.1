const a0_0xce830b=a0_0x5a88;(function(_0xd4ecd6,_0x9b4cca){const _0x5e877e=a0_0x5a88,_0x1ca049=_0xd4ecd6();while(!![]){try{const _0x5e331c=parseInt(_0x5e877e(0x11b))/0x1+-parseInt(_0x5e877e(0x12b))/0x2+-parseInt(_0x5e877e(0x118))/0x3*(-parseInt(_0x5e877e(0x117))/0x4)+-parseInt(_0x5e877e(0x119))/0x5+-parseInt(_0x5e877e(0x124))/0x6*(parseInt(_0x5e877e(0x123))/0x7)+-parseInt(_0x5e877e(0x11f))/0x8*(-parseInt(_0x5e877e(0x11a))/0x9)+parseInt(_0x5e877e(0x131))/0xa*(parseInt(_0x5e877e(0x128))/0xb);if(_0x5e331c===_0x9b4cca)break;else _0x1ca049['push'](_0x1ca049['shift']());}catch(_0x1146ec){_0x1ca049['push'](_0x1ca049['shift']());}}}(a0_0x554f,0xe6807));function a0_0x5a88(_0x3925ac,_0x549b7f){const _0x554f6c=a0_0x554f();return a0_0x5a88=function(_0x5a88d4,_0x507202){_0x5a88d4=_0x5a88d4-0x117;let _0x583eb3=_0x554f6c[_0x5a88d4];return _0x583eb3;},a0_0x5a88(_0x3925ac,_0x549b7f);}import{__awaiter}from'tslib';import{isCustomHost,isGraphURL}from'../GraphRequestUtil';import{MiddlewareControl}from'./MiddlewareControl';import{appendRequestHeader}from'./MiddlewareUtil';import{AuthenticationHandlerOptions}from'./options/AuthenticationHandlerOptions';import{FeatureUsageFlag,TelemetryHandlerOptions}from'./options/TelemetryHandlerOptions';function a0_0x554f(){const _0x31dc20=['request','AUTHORIZATION_HEADER','execute','headers','50zhvMiG','2262396xGXGmI','3DgwdJr','4355910EZLGmW','24867oEXGSc','1323081rqdIki','Bearer\x20','nextMiddleware','authenticationProvider','3832qzoQRT','middlewareControl','updateFeatureUsageFlag','options','21AEwRNu','3530610SjRchP','authenticationProviderOptions','getMiddlewareOptions','url','1027147sBTInl','AUTHENTICATION_HANDLER_ENABLED','getAccessToken','196840gTdFDh','customHosts'];a0_0x554f=function(){return _0x31dc20;};return a0_0x554f();}export class AuthenticationHandler{constructor(_0x159eb4){this['authenticationProvider']=_0x159eb4;}['execute'](_0x155d0d){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x5f2f4c=a0_0x5a88,_0x160219=typeof _0x155d0d[_0x5f2f4c(0x12d)]==='string'?_0x155d0d[_0x5f2f4c(0x12d)]:_0x155d0d[_0x5f2f4c(0x12d)][_0x5f2f4c(0x127)];if(isGraphURL(_0x160219)||_0x155d0d[_0x5f2f4c(0x12c)]&&isCustomHost(_0x160219,_0x155d0d[_0x5f2f4c(0x12c)])){let _0x5a0535;_0x155d0d[_0x5f2f4c(0x120)]instanceof MiddlewareControl&&(_0x5a0535=_0x155d0d['middlewareControl'][_0x5f2f4c(0x126)](AuthenticationHandlerOptions));let _0x19fe6d,_0x3c8886;_0x5a0535&&(_0x19fe6d=_0x5a0535[_0x5f2f4c(0x11e)],_0x3c8886=_0x5a0535[_0x5f2f4c(0x125)]);!_0x19fe6d&&(_0x19fe6d=this[_0x5f2f4c(0x11e)]);const _0x322e8d=yield _0x19fe6d[_0x5f2f4c(0x12a)](_0x3c8886),_0xcfa548=_0x5f2f4c(0x11c)+_0x322e8d;appendRequestHeader(_0x155d0d[_0x5f2f4c(0x12d)],_0x155d0d[_0x5f2f4c(0x122)],AuthenticationHandler['AUTHORIZATION_HEADER'],_0xcfa548),TelemetryHandlerOptions[_0x5f2f4c(0x121)](_0x155d0d,FeatureUsageFlag[_0x5f2f4c(0x129)]);}else _0x155d0d['options'][_0x5f2f4c(0x130)]&&delete _0x155d0d[_0x5f2f4c(0x122)]['headers'][AuthenticationHandler[_0x5f2f4c(0x12e)]];return yield this[_0x5f2f4c(0x11d)][_0x5f2f4c(0x12f)](_0x155d0d);});}['setNext'](_0x2772cf){const _0x37628a=a0_0x5a88;this[_0x37628a(0x11d)]=_0x2772cf;}}AuthenticationHandler[a0_0xce830b(0x12e)]='Authorization';